<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1792516517266134"
     crossorigin="anonymous"></script>
    
    <!-- ØªØ­Ø³ÙŠÙ† SEO Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ -->
    <title>XO Arena - Ø£Ù‚ÙˆÙ‰ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„</title>
    <meta name="description" content="XO Arena: Ø£ÙˆÙ„ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„. Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŒ Ù†Ø¸Ø§Ù… MatchmakingØŒ Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŒ 5 Ù…Ø³ØªÙˆÙŠØ§Øª Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠØŒ Ù†Ø¸Ø§Ù… Ø¥Ù†Ø¬Ø§Ø²Ø§ØªØŒ Ù…ØªØ¬Ø± Ø³ÙƒÙ†Ø§ØªØŒ ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©.">
    <meta name="keywords" content="Ù„Ø¹Ø¨Ø© XO, Ø¥ÙƒØ³ Ø£Ùˆ, tic tac toe, Ù„Ø¹Ø¨Ø© Ø°ÙƒØ§Ø¡, Ø§Ù„Ø¹Ø§Ø¨ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©, Ø§Ù„Ø¹Ø§Ø¨ Ø¹Ø±Ø¨ÙŠØ©, ØªØ­Ø¯ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡, eclipse games, Ø§Ù„Ø¹Ø§Ø¨ ÙƒÙ…Ø¨ÙŠÙˆØªØ±, Ø§Ù„Ø¹Ø§Ø¨ Ù…Ø¬Ø§Ù†ÙŠØ©, Ø§Ù„Ø¹Ø§Ø¨ Ø§ÙˆÙ†Ù„Ø§ÙŠÙ†">
    <meta name="author" content="Eclipse Games">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="revisit-after" content="7 days">
    <meta name="language" content="Arabic">
    
    <!-- Open Graph / ÙÙŠØ³Ø¨ÙˆÙƒ -->
    <meta property="og:title" content="XO Arena - Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†">
    <meta property="og:description" content="Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¹ 5 Ù…Ø³ØªÙˆÙŠØ§Øª ØµØ¹ÙˆØ¨Ø© ÙˆÙ†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„. Ø§Ù„Ø¹Ø¨ Ø¶Ø¯ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ø£Ùˆ ÙÙŠ Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://xo-arena-1.github.io/XO-Arena/">
    <meta property="og:image" content="https://files.catbox.moe/f28twh.png">
    <meta property="og:site_name" content="Eclipse Games">
    
    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="XO Arena - Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ">
    <meta name="twitter:description" content="Ø§Ø®ØªØ¨Ø± Ø°ÙƒØ§Ø¦Ùƒ ÙÙŠ Ø£Ù‚ÙˆÙ‰ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ 5 Ù…Ø³ØªÙˆÙŠØ§Øª ØµØ¹ÙˆØ¨Ø© ÙˆÙ†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†">
    <meta name="twitter:image" content="https://files.catbox.moe/f28twh.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%2300d4ff'/%3E%3Ctext x='50' y='70' font-size='70' text-anchor='middle' fill='white' font-family='Arial'%3EXO%3C/text%3E%3C/svg%3E">
    <link rel="apple-touch-icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' fill='%2300d4ff'/%3E%3Ctext x='50' y='70' font-size='70' text-anchor='middle' fill='white' font-family='Arial'%3EXO%3C/text%3E%3C/svg%3E">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://xo-arena-1.github.io/XO-Arena/">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200..1000&family=Orbitron:wght@400..900&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Cairo', 'sans-serif'],
                        display: ['Orbitron', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --bg-color: #0a0e1a;
            --bg-secondary: #141b2d;
            --bg-tertiary: #1a2340;
            --accent-color: #00d4ff;
            --accent-secondary: #ff3366;
            --accent-tertiary: #00ff88;
            --glow-color: rgba(0, 212, 255, 0.4);
            --glow-secondary: rgba(255, 51, 102, 0.4);
            --text-primary: #f0f4ff;
            --text-secondary: #8892b0;
            --border-color: rgba(0, 212, 255, 0.2);
            --rare-color: #4a90e2;
            --epic-color: #9b59b6;
            --legendary-color: #f1c40f;
            --legendary-glow: rgba(241, 196, 15, 0.6);
        }

        .theme-red {
            --bg-color: #0f0505;
            --bg-secondary: #1a0a0a;
            --bg-tertiary: #250f0f;
            --accent-color: #ff4444;
            --accent-secondary: #ff6b35;
            --accent-tertiary: #ffaa00;
            --glow-color: rgba(255, 68, 68, 0.4);
            --glow-secondary: rgba(255, 107, 53, 0.4);
            --text-primary: #fff5f5;
            --text-secondary: #ffaaaa;
            --border-color: rgba(255, 68, 68, 0.2);
        }

        .theme-purple {
            --bg-color: #0a0514;
            --bg-secondary: #140f20;
            --bg-tertiary: #1e1630;
            --accent-color: #a855f7;
            --accent-secondary: #ec4899;
            --accent-tertiary: #8b5cf6;
            --glow-color: rgba(168, 85, 247, 0.4);
            --glow-secondary: rgba(236, 72, 153, 0.4);
            --text-primary: #f5f0ff;
            --text-secondary: #c4b5fd;
            --border-color: rgba(168, 85, 247, 0.2);
        }

        .theme-green {
            --bg-color: #051a0a;
            --bg-secondary: #0a2e14;
            --bg-tertiary: #0f3a1e;
            --accent-color: #00ff88;
            --accent-secondary: #22c55e;
            --accent-tertiary: #84cc16;
            --glow-color: rgba(0, 255, 136, 0.4);
            --glow-secondary: rgba(34, 197, 94, 0.4);
            --text-primary: #f0fff5;
            --text-secondary: #86efac;
            --border-color: rgba(0, 255, 136, 0.2);
        }

        .theme-gold {
            --bg-color: #0f0d05;
            --bg-secondary: #1a170a;
            --bg-tertiary: #252010;
            --accent-color: #ffd700;
            --accent-secondary: #ffaa00;
            --accent-tertiary: #ff8800;
            --glow-color: rgba(255, 215, 0, 0.4);
            --glow-secondary: rgba(255, 170, 0, 0.4);
            --text-primary: #fffbf0;
            --text-secondary: #fcd34d;
            --border-color: rgba(255, 215, 0, 0.2);
        }

        .rainbow-mode {
            animation: rainbow-bg 10s linear infinite !important;
        }

        @keyframes rainbow-bg {
            0% { background-color: #ff0000; }
            17% { background-color: #ff8800; }
            33% { background-color: #ffff00; }
            50% { background-color: #00ff00; }
            67% { background-color: #0088ff; }
            83% { background-color: #8800ff; }
            100% { background-color: #ff0000; }
        }

        * {
            box-sizing: border-box;
        }

        body {
            background: var(--bg-color);
            color: var(--text-primary);
            font-family: 'Cairo', sans-serif;
            transition: background 0.5s ease, color 0.3s ease;
        }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { 
            background: var(--accent-color); 
            border-radius: 3px;
        }

        /* Animations */
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 20px var(--glow-color), inset 0 0 20px rgba(255,255,255,0.05);
            }
            50% { 
                box-shadow: 0 0 40px var(--glow-color), 0 0 60px var(--glow-color), inset 0 0 30px rgba(255,255,255,0.1);
            }
        }

        @keyframes pop-in {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            70% { transform: scale(1.2) rotate(10deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); opacity: 1; }
        }

        @keyframes win-line {
            0% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
            100% { filter: brightness(1); }
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            20% { transform: translateX(-5px); }
            40% { transform: translateX(5px); }
            60% { transform: translateX(-5px); }
            80% { transform: translateX(5px); }
        }

        @keyframes ripple {
            0% { transform: scale(0); opacity: 0.8; }
            100% { transform: scale(4); opacity: 0; }
        }

        @keyframes slide-up {
            from { transform: translateY(30px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slide-in-left {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }

        @keyframes border-pulse {
            0% { border-color: rgba(255, 215, 0, 0.3); }
            50% { border-color: rgba(255, 215, 0, 1); }
            100% { border-color: rgba(255, 215, 0, 0.3); }
        }

        @keyframes glow-pulse {
            0% { box-shadow: 0 0 20px #ffd700; }
            50% { box-shadow: 0 0 40px #ffd700, 0 0 60px #ffaa00; }
            100% { box-shadow: 0 0 20px #ffd700; }
        }

        @keyframes fire-animation {
            0% { filter: hue-rotate(0deg) drop-shadow(0 0 10px #ff0000); }
            33% { filter: hue-rotate(30deg) drop-shadow(0 0 10px #ff8800); }
            66% { filter: hue-rotate(60deg) drop-shadow(0 0 10px #ffaa00); }
            100% { filter: hue-rotate(0deg) drop-shadow(0 0 10px #ff0000); }
        }

        @keyframes ice-animation {
            0% { filter: hue-rotate(180deg) drop-shadow(0 0 10px #00ffff); }
            50% { filter: hue-rotate(200deg) drop-shadow(0 0 15px #0088ff); }
            100% { filter: hue-rotate(180deg) drop-shadow(0 0 10px #00ffff); }
        }

        @keyframes electric-animation {
            0% { filter: brightness(1); text-shadow: 0 0 10px #ffff00; }
            25% { filter: brightness(1.3); text-shadow: 0 0 20px #ffff00, 0 0 30px #ffaa00; }
            50% { filter: brightness(1); text-shadow: 0 0 10px #ffff00; }
            75% { filter: brightness(1.3); text-shadow: 0 0 20px #ffff00, 0 0 30px #ffaa00; }
            100% { filter: brightness(1); text-shadow: 0 0 10px #ffff00; }
        }

        @keyframes space-animation {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        @keyframes countdown {
            0% { transform: scale(1.5); opacity: 0; }
            50% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0.5); opacity: 0; }
        }

        .animate-float { animation: float 6s ease-in-out infinite; }
        .animate-pulse-glow { animation: pulse-glow 2s ease-in-out infinite; }
        .animate-pop-in { animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .animate-win-line { animation: win-line 0.5s ease-in-out infinite; }
        .animate-shake { animation: shake 0.5s ease-in-out; }
        .animate-slide-up { animation: slide-up 0.5s ease-out forwards; }
        .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
        .animate-slide-in-left { animation: slide-in-left 0.3s ease-out forwards; }
        .animate-shimmer { background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); background-size: 1000px 100%; animation: shimmer 2s infinite; }
        .animate-border-pulse { animation: border-pulse 2s ease-in-out infinite; }
        .animate-glow-pulse { animation: glow-pulse 2s ease-in-out infinite; }
        .animate-fire { animation: fire-animation 3s ease-in-out infinite; }
        .animate-ice { animation: ice-animation 3s ease-in-out infinite; }
        .animate-electric { animation: electric-animation 1s ease-in-out infinite; }
        .animate-countdown { animation: countdown 1s ease-out forwards; }

        /* Components */
        .glass-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.02) 100%);
            backdrop-filter: blur(20px);
            border: 1px solid var(--border-color);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .neon-btn {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
            border: 1px solid var(--border-color);
            box-shadow: 0 0 15px var(--glow-color);
            transition: all 0.3s ease;
        }

        .neon-btn:hover {
            box-shadow: 0 0 25px var(--glow-color), 0 0 50px var(--glow-color);
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .neon-btn:active {
            transform: translateY(0);
        }

        .neon-btn .ripple {
            position: absolute;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            animation: ripple 0.6s ease-out;
            pointer-events: none;
        }

        .game-cell {
            background: linear-gradient(145deg, var(--bg-tertiary), var(--bg-secondary));
            border: 2px solid transparent;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .game-cell:hover:not(.disabled) {
            border-color: var(--accent-color);
            box-shadow: 0 0 20px var(--glow-color), inset 0 0 15px rgba(255,255,255,0.05);
            transform: scale(1.02);
        }

        .game-cell:active:not(.disabled) {
            transform: scale(0.98);
        }

        .game-cell.win-cell {
            animation: win-line 0.5s ease-in-out infinite;
            border-color: var(--accent-color);
            box-shadow: 0 0 30px var(--glow-color);
        }

        .game-cell.disabled {
            cursor: not-allowed;
            opacity: 0.8;
        }

        /* Timer Styles */
        .timer-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 10px 0;
        }

        .timer-circle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: rgba(0,0,0,0.4);
            border: 3px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-color);
            box-shadow: 0 0 20px var(--glow-color);
            transition: all 0.3s ease;
        }

        .timer-circle.warning {
            border-color: #ffaa00;
            color: #ffaa00;
            box-shadow: 0 0 20px rgba(255,170,0,0.5);
        }

        .timer-circle.danger {
            border-color: #ff3366;
            color: #ff3366;
            box-shadow: 0 0 20px rgba(255,51,102,0.5);
            animation: pulse 0.5s ease-in-out infinite;
        }

        /* Room Code Styles */
        .room-code-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
            border: 2px dashed var(--accent-color);
        }

        .room-code {
            font-size: 32px;
            font-weight: bold;
            font-family: 'Orbitron', monospace;
            letter-spacing: 5px;
            color: var(--accent-color);
            text-shadow: 0 0 15px var(--glow-color);
        }

        .copy-btn {
            padding: 8px 16px;
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .copy-btn:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        /* Scoreboard Styles */
        .scoreboard {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }

        .score-item {
            text-align: center;
        }

        .score-value {
            font-size: 28px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
        }

        .score-label {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .round-indicator {
            text-align: center;
            margin: 10px 0;
            padding: 8px;
            background: rgba(0,212,255,0.1);
            border-radius: 20px;
            border: 1px solid var(--border-color);
        }

        /* Player Card */
        .player-card {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .player-card.active {
            border-color: var(--accent-color);
            box-shadow: 0 0 20px var(--glow-color);
        }

        .player-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--accent-color);
        }

        .player-info {
            flex: 1;
        }

        .player-name {
            font-weight: bold;
            color: var(--text-primary);
        }

        .player-level {
            font-size: 12px;
            color: var(--text-secondary);
        }

        .player-xp {
            font-size: 11px;
            color: #ffd700;
        }

        .player-symbol {
            font-size: 24px;
            font-weight: bold;
            margin-right: 5px;
        }

        .player-symbol.X {
            color: var(--accent-color);
            text-shadow: 0 0 10px var(--glow-color);
        }

        .player-symbol.O {
            color: var(--accent-secondary);
            text-shadow: 0 0 10px var(--glow-secondary);
        }

        /* Settings inside room */
        .room-settings-panel {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,0,0,0.4);
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .setting-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 8px;
            background: rgba(255,255,255,0.02);
            border-radius: 8px;
        }

        .setting-label {
            color: var(--text-primary);
            font-size: 14px;
        }

        .setting-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .setting-control input[type="number"] {
            width: 60px;
            padding: 5px;
            border-radius: 5px;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            text-align: center;
        }

        .setting-control input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .kick-btn {
            padding: 5px 10px;
            border-radius: 5px;
            background: rgba(255,51,102,0.2);
            border: 1px solid #ff3366;
            color: #ff3366;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 12px;
        }

        .kick-btn:hover {
            background: #ff3366;
            color: white;
        }

        /* Matchmaking Queue */
        .queue-container {
            text-align: center;
            padding: 30px;
        }

        .queue-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top-color: var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        .queue-text {
            font-size: 18px;
            color: var(--text-secondary);
            margin: 20px 0;
        }

        .xp-bet-selector {
            margin: 20px 0;
            padding: 15px;
            background: rgba(0,0,0,0.3);
            border-radius: 12px;
        }

        .xp-range {
            width: 100%;
            margin: 10px 0;
            -webkit-appearance: none;
            height: 5px;
            background: linear-gradient(90deg, #00ff88, #ffd700);
            border-radius: 5px;
            outline: none;
        }

        .xp-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent-color);
            cursor: pointer;
            box-shadow: 0 0 10px var(--glow-color);
        }

        .xp-value {
            font-size: 24px;
            font-weight: bold;
            color: #ffd700;
        }

        /* Disconnected Message */
        .disconnected-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 2000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .disconnected-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .disconnected-message {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            border: 2px solid var(--accent-secondary);
            border-radius: 24px;
            box-shadow: 0 0 50px var(--glow-secondary);
        }

        .disconnected-icon {
            font-size: 60px;
            margin-bottom: 20px;
        }

        .disconnected-title {
            font-size: 24px;
            font-weight: bold;
            color: var(--accent-secondary);
            margin-bottom: 10px;
        }

        .disconnected-timer {
            font-size: 48px;
            font-weight: bold;
            color: var(--accent-secondary);
            margin: 20px 0;
        }

        /* Screen Management */
        .page {
            display: none;
            min-height: 100vh;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.4s ease, transform 0.4s ease;
        }

        .page.active {
            display: flex;
            flex-direction: column;
            opacity: 1;
            transform: translateY(0);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            z-index: 1000;
            padding: 16px 24px;
            border-radius: 12px;
            font-weight: bold;
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            max-width: 90%;
        }

        .notification.show {
            transform: translateX(-50%) translateY(0);
        }

        /* End Game Screen */
        .end-game-screen {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            z-index: 2000;
            background: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
            border: 2px solid var(--accent-color);
            border-radius: 24px;
            padding: 30px 40px;
            box-shadow: 0 0 50px var(--glow-color);
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            text-align: center;
            min-width: 300px;
        }

        .end-game-screen.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        .end-game-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            animation: pop-in 0.5s ease;
        }

        .end-game-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 10px;
            font-family: 'Orbitron', sans-serif;
        }

        .end-game-xp {
            font-size: 1.2rem;
            color: #ffd700;
            margin-top: 15px;
            padding: 10px;
            border-top: 1px solid var(--border-color);
        }

        /* Loading Screen */
        .loading-screen {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            backdrop-filter: blur(10px);
            z-index: 1500;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .loading-screen.show {
            opacity: 1;
            visibility: visible;
        }

        .loading-content {
            text-align: center;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--border-color);
            border-top-color: var(--accent-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .loading-text {
            font-size: 1.5rem;
            color: var(--accent-color);
            font-family: 'Orbitron', sans-serif;
            animation: pulse 1.5s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; text-shadow: 0 0 20px var(--glow-color); }
        }

        /* Modal */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.8);
            backdrop-filter: blur(10px);
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.9);
            z-index: 101;
            max-width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-overlay.active + .modal-content,
        .modal-content.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        /* Win Streak Counter */
        .win-streak {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.6);
            border: 1px solid #ff6b35;
            border-radius: 30px;
            padding: 8px 15px;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 1rem;
            font-weight: bold;
            color: #ff6b35;
            box-shadow: 0 0 15px rgba(255,107,53,0.3);
            z-index: 10;
        }

        .win-streak i {
            color: #ff6b35;
        }

        /* AI Progress Stars */
        .ai-progress {
            display: flex;
            gap: 5px;
            margin-top: 10px;
            justify-content: center;
        }

        .star {
            font-size: 1.5rem;
            color: #4a4a4a;
            transition: all 0.3s ease;
        }

        .star.gold {
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255,215,0,0.5);
            animation: star-pulse 1.5s ease-in-out infinite;
        }

        @keyframes star-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        /* Floating Settings Button */
        .settings-float-btn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));
            border: none;
            box-shadow: 0 0 30px var(--glow-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 99;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        .settings-float-btn:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 0 40px var(--glow-color), 0 0 60px var(--accent-color);
        }

        .settings-float-btn i {
            color: white;
            width: 30px;
            height: 30px;
        }

        /* Settings Panel */
        .settings-panel {
            position: fixed;
            top: 0;
            right: -100%;
            width: 100%;
            max-width: 400px;
            height: 100vh;
            background: linear-gradient(135deg, rgba(10,14,26,0.95) 0%, rgba(20,27,45,0.98) 100%);
            backdrop-filter: blur(20px);
            border-left: 1px solid var(--border-color);
            box-shadow: -10px 0 50px rgba(0,0,0,0.5);
            z-index: 1000;
            transition: right 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            overflow-y: auto;
            padding: 20px;
        }

        .settings-panel.open {
            right: 0;
        }

        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        .settings-close {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .settings-close:hover {
            background: rgba(255,255,255,0.2);
            transform: rotate(90deg);
        }

        .settings-section {
            margin-bottom: 30px;
            animation: slide-in-left 0.3s ease-out;
        }

        .settings-section-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--accent-color);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .settings-menu-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px 15px;
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            text-align: right;
        }

        .settings-menu-item:hover {
            background: rgba(255,255,255,0.05);
            border-color: var(--accent-color);
            transform: translateX(-5px);
        }

        .settings-menu-item i {
            color: var(--accent-color);
        }

        .social-links-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .social-link-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background: rgba(255,255,255,0.02);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .social-link-item:hover {
            transform: translateY(-3px);
            border-color: currentColor;
        }

        .social-link-item.facebook:hover { background: rgba(24, 119, 242, 0.1); }
        .social-link-item.instagram:hover { background: rgba(228, 64, 95, 0.1); }
        .social-link-item.youtube:hover { background: rgba(255, 0, 0, 0.1); }
        .social-link-item.tiktok:hover { background: rgba(0, 0, 0, 0.1); }

        .copyright-text {
            text-align: center;
            padding: 20px 0;
            font-size: 0.8rem;
            color: var(--text-secondary);
            border-top: 1px solid var(--border-color);
            margin-top: 30px;
        }

        .social-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .social-icon:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 0 20px currentColor;
        }

        .profile-img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid var(--accent-color);
            box-shadow: 0 0 20px var(--glow-color);
        }

        .profile-img-small {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--accent-color);
        }

        /* Music Player */
        .music-player {
            background: linear-gradient(135deg, rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.8) 100%);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 16px;
            margin-bottom: 20px;
        }

        .music-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        .music-btn {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: rgba(255,255,255,0.1);
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .music-btn:hover {
            background: var(--accent-color);
            transform: scale(1.1);
        }

        .music-btn i {
            width: 20px;
            height: 20px;
            color: var(--text-primary);
        }

        .music-select {
            width: 100%;
            padding: 12px;
            border-radius: 10px;
            background: rgba(0,0,0,0.5);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            margin-top: 10px;
            cursor: pointer;
        }

        .music-select option {
            background: var(--bg-secondary);
            color: var(--text-primary);
        }

        .now-playing {
            font-size: 0.9rem;
            color: var(--accent-color);
            text-align: center;
            margin-top: 10px;
        }

        /* Division Mode Styles */
        .division-card {
            background: linear-gradient(145deg, var(--bg-tertiary), var(--bg-secondary));
            border: 2px solid transparent;
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .division-card.completed {
            border-color: #00ff88;
            box-shadow: 0 0 30px rgba(0,255,136,0.3);
        }

        .division-card.current {
            border-color: var(--accent-color);
            box-shadow: 0 0 30px var(--glow-color);
            transform: scale(1.02);
        }

        .division-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
            background: rgba(0,0,0,0.5);
        }

        .division-progress {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            margin: 15px 0;
            overflow: hidden;
        }

        .division-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--accent-secondary));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        .division-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            text-align: center;
            margin: 15px 0;
        }

        .division-stat {
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px;
        }

        .division-stat-value {
            font-size: 1.2rem;
            font-weight: bold;
            color: #ffd700;
        }

        .division-stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Division Rewards Modal */
        .division-complete-modal {
            text-align: center;
            padding: 30px;
        }

        .division-reward-icon {
            width: 100px;
            height: 100px;
            margin: 20px auto;
            border-radius: 50%;
            background: linear-gradient(135deg, #ffd700, #ffaa00);
            display: flex;
            align-items: center;
            justify-content: center;
            animation: glow-pulse 2s ease-in-out infinite;
        }

        .division-reward-icon i {
            width: 50px;
            height: 50px;
            color: white;
        }

        /* Profile Frames */
        .frame-legendary {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #ffd700, #ff6a00, #ffd700) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: border-pulse 2s ease-in-out infinite;
            box-shadow: 0 0 30px rgba(255,215,0,0.5);
        }

        .frame-epic {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #9b59b6, #8e44ad, #9b59b6) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: glow-pulse 3s ease-in-out infinite;
        }

        .frame-rare {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #4a90e2, #357abd, #4a90e2) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
        }

        .frame-fire {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #ff4500, #ff0000, #ff4500) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: fire-animation 3s ease-in-out infinite;
        }

        .frame-ice {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #7ae7ff, #00b8ff, #7ae7ff) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: ice-animation 3s ease-in-out infinite;
        }

        .frame-electric {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #fff700, #4d00ff, #fff700) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: electric-animation 1s ease-in-out infinite;
        }

        .frame-space {
            border: 4px solid transparent;
            background: linear-gradient(45deg, #0a001a, #3a00ff, #ff00e6) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            position: relative;
            overflow: hidden;
            animation: space-animation 10s ease infinite;
        }

        .frame-space::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            animation: shimmer 2s infinite;
        }

        .frame-division1 {
            border: 6px solid transparent;
            background: linear-gradient(45deg, #ffd700, #0a001a, #ff0033, #ffd700) border-box;
            -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            animation: border-pulse 1.5s ease-in-out infinite;
            box-shadow: 0 0 50px rgba(255,215,0,0.8), inset 0 0 30px rgba(255,215,0,0.3);
            position: relative;
        }

        .frame-division1::before {
            content: '';
            position: absolute;
            inset: -2px;
            background: linear-gradient(90deg, #ffd700, #ff0033, #0a001a, #ffd700);
            filter: blur(10px);
            z-index: -1;
            opacity: 0.7;
            animation: glow-pulse 2s ease-in-out infinite;
        }

        .frame-division1::after {
            content: 'ðŸ‘‘';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 30px;
            animation: float 3s ease-in-out infinite;
        }

        /* Skin Styles - Updated with new colors */
        .skin-default {
            background: linear-gradient(135deg, #00FFF0, #007C88);
            color: white;
            text-shadow: 0 0 10px #66FFFF;
        }

        .skin-red {
            background: linear-gradient(135deg, #FF0033, #6B0018);
            color: white;
            text-shadow: 0 0 10px #FF4D6D;
        }

        .skin-gold {
            background: linear-gradient(135deg, #FFD700, #A67C00);
            color: black;
            text-shadow: 0 0 10px #FFF1A6;
        }

        .skin-purple {
            background: linear-gradient(135deg, #0A0A14, #3A00FF);
            color: #7D5CFF;
            text-shadow: 0 0 10px #7D5CFF;
        }

        .skin-green {
            background: linear-gradient(135deg, #A6FF00, #2B5B00);
            color: black;
            text-shadow: 0 0 10px #D8FF7A;
        }

        .skin-rainbow {
            background: linear-gradient(135deg, #FF004C, #00FFB7, #FFD000, #7A00FF);
            background-size: 300% 300%;
            animation: gradient-shift 3s ease infinite;
            color: white;
            text-shadow: 0 0 20px #FFFFFF;
        }

        .skin-blue-crystal {
            background: linear-gradient(135deg, #00BFFF, #005B8A);
            color: white;
            text-shadow: 0 0 10px #A6E7FF;
        }

        .skin-emerald {
            background: linear-gradient(135deg, #00C853, #006B2D);
            color: white;
            text-shadow: 0 0 10px #5CFF9E;
        }

        .skin-ruby {
            background: linear-gradient(135deg, #E60026, #6B0012);
            color: white;
            text-shadow: 0 0 10px #FF5A73;
        }

        .skin-sapphire {
            background: linear-gradient(135deg, #005CFF, #002A75);
            color: white;
            text-shadow: 0 0 10px #6AA2FF;
        }

        .skin-amethyst {
            background: linear-gradient(135deg, #9B00FF, #4A007A);
            color: white;
            text-shadow: 0 0 10px #D27BFF;
        }

        .skin-topaz {
            background: linear-gradient(135deg, #FFB300, #805200);
            color: black;
            text-shadow: 0 0 10px #FFD98A;
        }

        .skin-fire {
            background: linear-gradient(135deg, #FF4500, #8A0000);
            color: white;
            text-shadow: 0 0 15px #FF9B3D;
            animation: fire-animation 3s ease infinite;
        }

        .skin-ice {
            background: linear-gradient(135deg, #7AE7FF, #007C99);
            color: black;
            text-shadow: 0 0 15px #D9FAFF;
            animation: ice-animation 3s ease infinite;
        }

        .skin-electric {
            background: linear-gradient(135deg, #FFF700, #4D00FF);
            color: black;
            text-shadow: 0 0 15px #FFFFA8;
            animation: electric-animation 1s ease infinite;
        }

        .skin-shadow {
            background: linear-gradient(135deg, #0B0B0B, #2A003B);
            color: #8E4DFF;
            text-shadow: 0 0 15px #8E4DFF;
        }

        .skin-light {
            background: linear-gradient(135deg, #FFFFFF, #FFECA6);
            color: black;
            text-shadow: 0 0 15px #FFF9D6;
        }

        .skin-nature {
            background: linear-gradient(135deg, #2DFF5C, #0B4D1C);
            color: white;
            text-shadow: 0 0 15px #B8FFCA;
        }

        .skin-ocean {
            background: linear-gradient(135deg, #0099FF, #003D66);
            color: white;
            text-shadow: 0 0 15px #7AD6FF;
        }

        .skin-lava {
            background: linear-gradient(135deg, #FF2A00, #3B0000);
            color: white;
            text-shadow: 0 0 15px #FF7A3D;
        }

        .skin-space {
            background: linear-gradient(135deg, #0A001A, #2B00FF);
            color: #FF00E6;
            text-shadow: 0 0 20px #FF00E6;
            animation: space-animation 5s ease infinite;
        }

        .skin-nebula {
            background: linear-gradient(135deg, #6A00FF, #FF007A, #00E5FF);
            background-size: 300% 300%;
            animation: gradient-shift 8s ease infinite;
            color: white;
            text-shadow: 0 0 20px #FFFFFF;
        }

        .skin-galaxy {
            background: linear-gradient(135deg, #120033, #005CFF, #C300FF);
            background-size: 300% 300%;
            animation: gradient-shift 6s ease infinite;
            color: white;
            text-shadow: 0 0 20px #FFFFFF;
        }

        .skin-cosmic {
            background: linear-gradient(135deg, #00FFD5, #2B0066, #FF4DFF);
            background-size: 300% 300%;
            animation: gradient-shift 7s ease infinite;
            color: white;
            text-shadow: 0 0 20px #FFFFFF;
        }

        .skin-quantum {
            background: linear-gradient(135deg, #00FF66, #003B1A, #00FFFF);
            background-size: 300% 300%;
            animation: gradient-shift 4s ease infinite;
            color: white;
            text-shadow: 0 0 20px #00FFFF;
        }

        .skin-void {
            background: linear-gradient(135deg, #050508, #1B0033);
            color: #5E00FF;
            text-shadow: 0 0 20px #5E00FF;
        }

        .skin-infinity {
            background: linear-gradient(135deg, #00D9FF, #001C33, #00FFB3);
            background-size: 300% 300%;
            animation: gradient-shift 5s ease infinite;
            color: white;
            text-shadow: 0 0 20px #00FFB3;
        }

        .skin-eternity {
            background: linear-gradient(135deg, #FFD700, #7A00FF, #FFFFFF);
            background-size: 300% 300%;
            animation: gradient-shift 6s ease infinite;
            color: white;
            text-shadow: 0 0 20px #FFFFFF;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Store Filters */
        .store-filters {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: 20px;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        .filter-btn.active {
            background: var(--accent-color);
            color: var(--bg-color);
            border-color: var(--accent-color);
        }

        .search-bar {
            width: 100%;
            padding: 12px 16px;
            border-radius: 30px;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            margin-bottom: 20px;
            font-size: 1rem;
        }

        .search-bar:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 15px var(--glow-color);
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding-bottom: 10px;
        }

        .category-tab {
            padding: 10px 20px;
            border-radius: 30px;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-color);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .category-tab:hover {
            background: var(--accent-color);
            color: var(--bg-color);
        }

        .category-tab.active {
            background: var(--accent-color);
            color: var(--bg-color);
            border-color: var(--accent-color);
        }

        .rarity-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .rarity-common {
            background: rgba(255,255,255,0.1);
            color: var(--text-secondary);
        }

        .rarity-rare {
            background: rgba(74,144,226,0.2);
            color: #4a90e2;
        }

        .rarity-epic {
            background: rgba(155,89,182,0.2);
            color: #9b59b6;
        }

        .rarity-legendary {
            background: rgba(241,196,15,0.2);
            color: #f1c40f;
        }

        /* Store Items Grid */
        .store-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .store-item {
            background: linear-gradient(145deg, var(--bg-tertiary), var(--bg-secondary));
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 16px;
            transition: all 0.3s ease;
        }

        .store-item:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .store-item-preview {
            width: 100%;
            height: 150px;
            border-radius: 12px;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            background: rgba(0,0,0,0.3);
        }

        /* Frame Previews */
        .frame-preview {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            background: var(--bg-tertiary);
        }

        .frame-preview.silver-edge {
            border: 4px solid #C0C0C0;
            box-shadow: 0 0 20px #F5F5F5;
        }

        .frame-preview.bronze-edge {
            border: 4px solid #CD7F32;
            box-shadow: 0 0 20px #FFB877;
        }

        .frame-preview.steel-edge {
            border: 4px solid #7D8C99;
            box-shadow: 0 0 20px #D9E3EA;
        }

        .frame-preview.iron-edge {
            border: 4px solid #4B4B4B;
            box-shadow: 0 0 20px #9C9C9C;
        }

        .frame-preview.golden-edge {
            border: 4px solid #FFD700;
            box-shadow: 0 0 20px #FFF0A6;
        }

        .frame-preview.ruby-edge {
            border: 4px solid #E60026;
            box-shadow: 0 0 20px #FF6B7A;
        }

        .frame-preview.sapphire-edge {
            border: 4px solid #005CFF;
            box-shadow: 0 0 20px #6AA2FF;
        }

        .frame-preview.emerald-edge {
            border: 4px solid #00C853;
            box-shadow: 0 0 20px #7CFFB1;
        }

        .frame-preview.amethyst-edge {
            border: 4px solid #9B00FF;
            box-shadow: 0 0 20px #D27BFF;
        }

        .frame-preview.fire-frame {
            border: 4px solid #FF4500;
            box-shadow: 0 0 20px #FFB13D;
            animation: fire-animation 3s ease infinite;
        }

        .frame-preview.ice-frame {
            border: 4px solid #7AE7FF;
            box-shadow: 0 0 20px #E6FDFF;
            animation: ice-animation 3s ease infinite;
        }

        .frame-preview.electric-frame {
            border: 4px solid #FFF700;
            box-shadow: 0 0 20px #4D00FF;
            animation: electric-animation 1s ease infinite;
        }

        .frame-preview.nature-frame {
            border: 4px solid #2DFF5C;
            box-shadow: 0 0 20px #A8FFC0;
        }

        .frame-preview.ocean-frame {
            border: 4px solid #0099FF;
            box-shadow: 0 0 20px #00E5FF;
        }

        .frame-preview.lava-frame {
            border: 4px solid #FF2A00;
            box-shadow: 0 0 20px #FFD000;
        }

        .frame-preview.legendary-gold {
            border: 4px solid #FFD700;
            box-shadow: 0 0 20px #FFFFFF;
            animation: border-pulse 2s ease-in-out infinite;
        }

        .frame-preview.space-frame {
            border: 4px solid #0A001A;
            box-shadow: 0 0 20px #FF00E6;
            animation: space-animation 5s ease infinite;
        }

        .frame-preview.divine-frame {
            border: 4px solid #FFFFFF;
            box-shadow: 0 0 20px #A6FFFF;
            animation: glow-pulse 2s ease-in-out infinite;
        }

        .frame-preview.infinite-frame {
            border: 4px solid #00D9FF;
            box-shadow: 0 0 20px #00FFB3;
            animation: gradient-shift 3s ease infinite;
        }

        .frame-preview.cosmic-frame {
            border: 4px solid #6A00FF;
            box-shadow: 0 0 20px #00E5FF;
            animation: space-animation 8s ease infinite;
        }

        .frame-preview.division1-champion {
            border: 6px solid #FFD700;
            box-shadow: 0 0 30px #FF0033;
            animation: border-pulse 1.5s ease-in-out infinite;
            position: relative;
        }

        .frame-preview.division1-champion::after {
            content: 'ðŸ‘‘';
            position: absolute;
            top: -20px;
            font-size: 30px;
        }

        .store-item-info {
            margin-bottom: 12px;
        }

        .store-item-name {
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .store-item-price {
            font-size: 1rem;
            color: #ffd700;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .store-item-price i {
            width: 16px;
            height: 16px;
        }

        .store-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .store-item-rarity {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .store-item-btn {
            padding: 8px 16px;
            border-radius: 8px;
            background: var(--accent-color);
            color: var(--bg-color);
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .store-item-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px var(--glow-color);
        }

        .store-item-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* VAR Modal Styles */
        .var-modal {
            max-width: 800px;
            width: 90%;
            padding: 20px;
        }

        .var-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 20px;
        }

        .var-cell {
            aspect-ratio: 1;
            background: linear-gradient(145deg, var(--bg-tertiary), var(--bg-secondary));
            border: 2px solid var(--border-color);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            transition: all 0.2s ease;
        }

        .var-cell.win-cell {
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255,215,0,0.5);
            animation: pulse-gold 1s ease-in-out infinite;
        }

        @keyframes pulse-gold {
            0%, 100% { border-color: #ffd700; box-shadow: 0 0 20px rgba(255,215,0,0.5); }
            50% { border-color: #ffaa00; box-shadow: 0 0 40px rgba(255,170,0,0.8); }
        }

        .var-controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .var-btn {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--bg-tertiary), var(--bg-secondary));
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .var-btn:hover {
            border-color: var(--accent-color);
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--glow-color);
        }

        .var-btn i {
            width: 30px;
            height: 30px;
            color: var(--text-primary);
        }

        .var-timeline {
            display: flex;
            gap: 5px;
            margin-top: 20px;
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 30px;
            overflow-x: auto;
        }

        .var-timeline-dot {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-tertiary);
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .var-timeline-dot.active {
            border-color: var(--accent-color);
            box-shadow: 0 0 15px var(--glow-color);
            transform: scale(1.1);
        }

        .var-timeline-dot.player-x {
            color: var(--accent-color);
        }

        .var-timeline-dot.player-o {
            color: var(--accent-secondary);
        }

        /* Banned Modal Styles */
        .banned-modal {
            text-align: center;
            padding: 40px;
            max-width: 500px;
        }

        .banned-icon {
            width: 100px;
            height: 100px;
            margin: 0 auto 20px;
            border-radius: 50%;
            background: rgba(255,51,102,0.2);
            border: 4px solid var(--accent-secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 50px;
            animation: shake 0.5s ease-in-out;
        }

        .banned-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--accent-secondary);
            margin-bottom: 20px;
        }

        .banned-message {
            font-size: 1.2rem;
            color: var(--text-primary);
            margin-bottom: 30px;
        }

        .banned-email {
            background: rgba(255,255,255,0.05);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .banned-email a {
            color: var(--accent-color);
            text-decoration: none;
            font-size: 1.1rem;
        }

        .unban-input {
            width: 100%;
            padding: 15px;
            border-radius: 10px;
            background: rgba(0,0,0,0.4);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            margin-bottom: 15px;
            font-size: 1rem;
            text-align: center;
        }

        .unban-input:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 20px var(--glow-color);
        }

        .unban-attempts {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 10px;
        }

        /* What's New Modal */
        .whats-new-modal {
            max-width: 600px;
            padding: 30px;
        }

        .whats-new-title {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffd700;
            text-align: center;
            margin-bottom: 20px;
            animation: glow-pulse 2s ease-in-out infinite;
        }

        .whats-new-list {
            list-style: none;
            padding: 0;
            margin: 20px 0;
        }

        .whats-new-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            animation: slide-in-left 0.3s ease-out forwards;
            opacity: 0;
        }

        .whats-new-item:nth-child(1) { animation-delay: 0.1s; }
        .whats-new-item:nth-child(2) { animation-delay: 0.2s; }
        .whats-new-item:nth-child(3) { animation-delay: 0.3s; }
        .whats-new-item:nth-child(4) { animation-delay: 0.4s; }
        .whats-new-item:nth-child(5) { animation-delay: 0.5s; }
        .whats-new-item:nth-child(6) { animation-delay: 0.6s; }
        .whats-new-item:nth-child(7) { animation-delay: 0.7s; }

        .whats-new-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(255,215,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .whats-new-icon i {
            width: 30px;
            height: 30px;
            color: #ffd700;
        }

        .whats-new-text {
            flex: 1;
            font-size: 1.1rem;
            color: var(--text-primary);
        }

        .whats-new-reward {
            color: #ffd700;
            font-weight: bold;
            font-size: 1.2rem;
        }

        /* Share Modal */
        .share-modal {
            max-width: 500px;
            padding: 30px;
            text-align: center;
        }

        .share-stats {
            margin: 20px 0;
            padding: 20px;
            background: rgba(0,0,0,0.3);
            border-radius: 15px;
        }

        .share-progress {
            width: 100%;
            height: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 5px;
            margin: 15px 0;
            overflow: hidden;
        }

        .share-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #00ff88, #ffd700);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        .share-count {
            font-size: 2rem;
            font-weight: bold;
            color: #ffd700;
            margin: 10px 0;
        }

        .share-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 20px;
        }

        .share-btn {
            padding: 15px;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .share-btn.facebook {
            background: #1877f2;
            color: white;
        }

        .share-btn.twitter {
            background: #1da1f2;
            color: white;
        }

        .share-btn.whatsapp {
            background: #25d366;
            color: white;
        }

        .share-btn.telegram {
            background: #0088cc;
            color: white;
        }

        .share-btn:hover {
            transform: translateY(-3px);
            filter: brightness(1.1);
        }

        .share-btn:active {
            transform: translateY(0);
        }

        .share-verify {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0,255,136,0.1);
            border: 1px solid #00ff88;
            border-radius: 10px;
            color: #00ff88;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .share-verify:hover {
            background: rgba(0,255,136,0.2);
            transform: scale(1.02);
        }

        .share-verify:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Ad Countdown */
        .ad-countdown {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, rgba(0,0,0,0.9), rgba(0,0,0,0.95));
            border: 3px solid var(--accent-color);
            border-radius: 20px;
            padding: 40px;
            z-index: 2000;
            text-align: center;
            backdrop-filter: blur(10px);
            box-shadow: 0 0 50px var(--glow-color);
            animation: pop-in 0.3s ease;
        }

        .ad-countdown.hidden {
            display: none;
        }

        .ad-countdown-number {
            font-size: 8rem;
            font-weight: bold;
            color: var(--accent-color);
            text-shadow: 0 0 30px var(--glow-color);
            animation: pulse 1s ease-in-out infinite;
            line-height: 1;
        }

        .ad-countdown-text {
            font-size: 1.5rem;
            color: var(--text-primary);
            margin-top: 20px;
        }

        .ad-video-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 90%;
            max-width: 800px;
            z-index: 2000;
            border: 3px solid var(--accent-color);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 0 50px var(--glow-color);
            animation: pop-in 0.3s ease;
        }

        .ad-video-container.hidden {
            display: none;
        }

        .ad-video-container video {
            width: 100%;
            display: block;
        }

        .ad-close {
            position: absolute;
            top: 10px;
            right: 10px;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0,0,0,0.8);
            border: 2px solid var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 2001;
        }

        .ad-close:hover {
            transform: scale(1.1);
            background: var(--accent-color);
        }

        .ad-close i {
            width: 20px;
            height: 20px;
            color: white;
        }

        /* Responsive */
        @media (max-width: 640px) {
            .game-cell {
                width: 85px !important;
                height: 85px !important;
                font-size: 2.5rem !important;
            }
            
            .settings-panel {
                max-width: 100%;
            }

            .store-grid {
                grid-template-columns: 1fr;
            }

            .var-board {
                gap: 5px;
            }

            .var-cell {
                font-size: 2rem;
            }

            .var-timeline-dot {
                width: 30px;
                height: 30px;
                font-size: 0.8rem;
            }

            .room-code {
                font-size: 24px;
            }

            .player-card {
                flex-direction: column;
                text-align: center;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Cookie Consent */
        .cookie-consent {
            position: fixed;
            bottom: 80px;
            left: 20px;
            right: 20px;
            max-width: 400px;
            margin: 0 auto;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 16px;
            z-index: 1000;
            transform: translateY(200%);
            transition: transform 0.5s ease;
        }

        .cookie-consent.show {
            transform: translateY(0);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden">

    <!-- Notification Container -->
    <div id="notification" class="notification glass-card"></div>

    <!-- Disconnected Overlay -->
    <div id="disconnected-overlay" class="disconnected-overlay">
        <div class="disconnected-message">
            <div class="disconnected-icon">ðŸ”Œ</div>
            <div class="disconnected-title">Ø§Ù„Ø®ØµÙ… Ø§Ù†ÙØµÙ„</div>
            <div class="disconnected-text" style="color: var(--text-secondary); margin-bottom: 20px;">Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨Ùƒ ÙØ§Ø¦Ø²Ø§Ù‹ Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†Ù</div>
            <div id="disconnected-timer" class="disconnected-timer">5</div>
        </div>
    </div>

    <!-- End Game Screen -->
    <div id="end-game-screen" class="end-game-screen">
        <div id="end-game-icon" class="end-game-icon"></div>
        <div id="end-game-title" class="end-game-title"></div>
        <div id="end-game-xp" class="end-game-xp"></div>
    </div>

    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <div id="loading-text" class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø®ØµÙ…...</div>
        </div>
    </div>

    <!-- Audio Elements -->
    <audio id="win-sound" preload="auto">
        <source src="https://files.catbox.moe/win.mp3" type="audio/mpeg">
    </audio>
    <audio id="lose-sound" preload="auto">
        <source src="https://files.catbox.moe/lose.mp3" type="audio/mpeg">
    </audio>

    <!-- Ad Video Element -->
    <video id="ad-video" preload="auto" style="display: none;">
        <source src="https://files.catbox.moe/e743r1.mp4" type="video/mp4">
    </video>

    <!-- Ad Countdown -->
    <div id="ad-countdown" class="ad-countdown hidden">
        <div id="ad-countdown-number" class="ad-countdown-number">5</div>
        <div class="ad-countdown-text">Ø³ÙŠØ¸Ù‡Ø± Ø¥Ø¹Ù„Ø§Ù† Ø¨Ø¹Ø¯ 5 Ø«ÙˆØ§Ù†</div>
    </div>

    <!-- Ad Video Container -->
    <div id="ad-video-container" class="ad-video-container hidden">
        <div class="ad-close" onclick="closeAd()">
            <i data-lucide="x"></i>
        </div>
        <video id="ad-video-player" controls autoplay>
            <source src="https://files.catbox.moe/e743r1.mp4" type="video/mp4">
        </video>
    </div>

    <!-- Cookie Consent -->
    <div id="cookie-consent" class="cookie-consent">
        <p class="mb-3 text-sm">Ù†Ø­Ù† Ù†Ø³ØªØ®Ø¯Ù… Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ù„ØªØ­Ø³ÙŠÙ† ØªØ¬Ø±Ø¨ØªÙƒ. Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…ÙˆÙ‚Ø¹ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" onclick="openSettingsAndNavigate('privacy'); return false;" style="color: var(--accent-color);">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù†Ø§.</p>
        <div class="flex gap-2">
            <button onclick="acceptCookies()" class="flex-1 py-2 rounded-lg text-sm font-bold" style="background: var(--accent-color); color: var(--bg-color);">Ù…ÙˆØ§ÙÙ‚</button>
            <button onclick="declineCookies()" class="flex-1 py-2 rounded-lg text-sm" style="background: rgba(255,255,255,0.1);">Ø±ÙØ¶</button>
        </div>
    </div>

    <!-- Banned Modal -->
    <div id="banned-modal-overlay" class="modal-overlay"></div>
    <div id="banned-modal" class="modal-content banned-modal glass-card">
        <div class="banned-icon">ðŸš«</div>
        <div class="banned-title">ØªÙ… Ø­Ø¸Ø± Ø­Ø³Ø§Ø¨Ùƒ</div>
        <div class="banned-message">
            ØªÙ… Ø­Ø¸Ø± Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ø³Ø¨Ø¨ Ù…Ø®Ø§Ù„ÙØ© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø³Ù„ÙˆÙƒ.<br>
            Ù„Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù… Ø§Ù„ÙÙ†ÙŠ:
        </div>
        <div class="banned-email">
            <a href="mailto:eclipsegames1cloud@gmail.com">eclipsegames1cloud@gmail.com</a>
        </div>
        <div id="unban-section">
            <input type="text" id="unban-code" class="unban-input" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ ÙÙƒ Ø§Ù„Ø­Ø¸Ø±" maxlength="5">
            <button onclick="attemptUnban()" class="neon-btn w-full py-3 rounded-xl font-bold mb-3">Ù…Ø­Ø§ÙˆÙ„Ø© ÙÙƒ Ø§Ù„Ø­Ø¸Ø±</button>
            <div id="unban-attempts" class="unban-attempts">Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: 3</div>
        </div>
    </div>

    <!-- What's New Modal -->
    <div id="whats-new-modal-overlay" class="modal-overlay"></div>
    <div id="whats-new-modal" class="modal-content whats-new-modal glass-card">
        <div class="whats-new-title">ðŸŽ‰ Ù…Ø§ Ø§Ù„Ø¬Ø¯ÙŠØ¯ØŸ ðŸŽ‰</div>
        <ul class="whats-new-list">
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="check-circle"></i></div>
                <div class="whats-new-text">Ø¥ØµÙ„Ø§Ø­ Ø£Ø®Ø·Ø§Ø¡ Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="cpu"></i></div>
                <div class="whats-new-text">Ø¥Ø¶Ø§ÙØ© Ø·ÙˆØ± Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¬Ø¯ÙŠØ¯ (Ø§Ù„ØªÙƒÙŠÙÙŠ)</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="gamepad-2"></i></div>
                <div class="whats-new-text">ØªØºÙŠÙŠØ±Ø§Øª ÙÙŠ Ø§Ù„Ø¬ÙŠÙ… Ø¨Ù„Ø§ÙŠ</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="video"></i></div>
                <div class="whats-new-text">Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø© VAR</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="music"></i></div>
                <div class="whats-new-text">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø£ØºØ§Ù†ÙŠ</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="tv"></i></div>
                <div class="whats-new-text">Ø¥Ø¶Ø§ÙØ© Ù…ÙŠØ²Ø© Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="globe"></i></div>
                <div class="whats-new-text">Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„ (Ø£ØµØ¯Ù‚Ø§Ø¡ - Matchmaking - Division)</div>
            </li>
            <li class="whats-new-item">
                <div class="whats-new-icon"><i data-lucide="gift"></i></div>
                <div class="whats-new-text"><span class="whats-new-reward">ØªØ¹ÙˆÙŠØ¶ 10,000 XP</span> Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</div>
            </li>
        </ul>
        <button onclick="closeWhatsNew()" class="neon-btn w-full py-3 rounded-xl font-bold mt-4">Ø­Ø³Ù†Ø§Ù‹</button>
    </div>

    <!-- Background Effects -->
    <div class="fixed inset-0 pointer-events-none overflow-hidden z-0">
        <div class="absolute top-20 right-20 w-72 h-72 rounded-full blur-3xl opacity-20" style="background: var(--accent-color);"></div>
        <div class="absolute bottom-20 left-20 w-96 h-96 rounded-full blur-3xl opacity-15" style="background: var(--accent-secondary);"></div>
        <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 rounded-full blur-3xl opacity-10" style="background: var(--accent-tertiary);"></div>
        
        <!-- Grid Pattern -->
        <svg class="absolute inset-0 w-full h-full opacity-5">
            <defs>
                <pattern id="grid" width="50" height="50" patternUnits="userSpaceOnUse">
                    <path d="M 50 0 L 0 0 0 50" fill="none" stroke="currentColor" stroke-width="0.5" style="color: var(--accent-color)"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#grid)"/>
        </svg>
    </div>

    <!-- Floating Settings Button -->
    <button class="settings-float-btn" onclick="toggleSettingsPanel()">
        <i data-lucide="settings"></i>
    </button>

    <!-- Settings Panel -->
    <div id="settingsPanel" class="settings-panel">
        <div class="settings-header">
            <h2 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
            <div class="settings-close" onclick="toggleSettingsPanel()">
                <i data-lucide="x"></i>
            </div>
        </div>

        <!-- Ù‚Ø³Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ (Ù…ÙØ¹Ù„ Ø§Ù„Ø¢Ù†) -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="log-in"></i>
                <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</span>
            </div>
            
            <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google (Ù…ÙØ¹Ù„) -->
            <button id="googleSignInBtn" class="settings-menu-item" onclick="googleSignIn()">
                <i data-lucide="mail" style="color: #DB4437;"></i>
                <span>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Google</span>
            </button>

            <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ (Ù…Ø®ÙÙŠ Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹) -->
            <button id="logoutBtn" class="settings-menu-item" style="display: none; background: rgba(255,51,102,0.1); border-color: rgba(255,51,102,0.3);" onclick="googleSignOut()">
                <i data-lucide="log-out" style="color: var(--accent-secondary);"></i>
                <span style="color: var(--accent-secondary);">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</span>
            </button>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… (Ù…Ø®ÙÙŠØ© Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹) -->
        <div id="userInfoSection" class="settings-section" style="display: none;">
            <div class="settings-section-title">
                <i data-lucide="user"></i>
                <span>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</span>
            </div>
            <div class="flex items-center gap-3 p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                <img id="userAvatar" src="" alt="User Avatar" class="w-12 h-12 rounded-full border-2" style="border-color: var(--accent-color); display: none;">
                <div>
                    <div id="userName" class="font-bold text-white"></div>
                    <div id="userEmail" class="text-sm" style="color: var(--text-secondary);"></div>
                </div>
            </div>
        </div>

        <!-- Music Player Section -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="music"></i>
                <span>Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰</span>
            </div>
            <div class="music-player">
                <div class="music-controls">
                    <button onclick="previousSong()" class="music-btn">
                        <i data-lucide="skip-back"></i>
                    </button>
                    <button onclick="toggleMusic()" id="musicToggleBtn" class="music-btn">
                        <i data-lucide="play"></i>
                    </button>
                    <button onclick="nextSong()" class="music-btn">
                        <i data-lucide="skip-forward"></i>
                    </button>
                </div>
                <select id="musicSelect" class="music-select" onchange="changeSong(this.value)">
                    <option value="0">Without Me - Eminem</option>
                    <option value="1">Believer - Imagine Dragons</option>
                    <option value="2">B3teny leh - Ziad Zaza</option>
                    <option value="3">Superman - Eminem</option>
                    <option value="4">Billie Jean - Michael Jackson</option>
                    <option value="5">Sing For The Moment - Eminem</option>
                    <option value="6">Cleanin Out My Closet - Eminem</option>
                    <option value="7">Big Mafia - Marwan Moussa</option>
                    <option value="8">Karma - Marwan Pablo</option>
                    <option value="9">Mockingbird - Eminem</option>
                    <option value="10">The Real Slim Shady - Eminem</option>
                    <option value="11">Lovely - Billie Eilish</option>
                    <option value="12">MOONLIGHT - XXXTentacion</option>
                    <option value="13">Dorak Gai - Wegz</option>
                    <option value="14">Birds of a Feather - Billie Eilish</option>
                    <option value="15">3alam kadaba - Lege Cy</option>
                    <option value="16">The Fate of Ophelia - Taylor Swift</option>
                    <option value="17">Gabolna Hkoma - Ziad Zaza</option>
                    <option value="18">Stan - Eminem</option>
                    <option value="19">Godzilla - Eminem</option>
                </select>
                <div id="nowPlaying" class="now-playing">ØºÙŠØ± Ù…Ø´ØºÙ„Ø©</div>
            </div>
        </div>

        <!-- Ad Removal Section (Ø¬Ø¯ÙŠØ¯) -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="tv"></i>
                <span>Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</span>
            </div>
            <button onclick="purchaseAdRemoval()" class="settings-menu-item" id="adRemovalBtn">
                <i data-lucide="eye-off" style="color: #ffd700;"></i>
                <span>Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª (200,000 XP)</span>
            </button>
            <div id="adStatus" class="text-sm mt-2 text-center" style="color: var(--text-secondary);">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙØ¹Ù„Ø©</div>
        </div>

        <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙØ­Ø§Øª -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="menu"></i>
                <span>Ø§Ù„ØµÙØ­Ø§Øª</span>
            </div>
            <button onclick="navigateToAndCloseSettings('home')" class="settings-menu-item">
                <i data-lucide="home"></i>
                <span>Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
            </button>
            <button onclick="navigateToAndCloseSettings('division')" class="settings-menu-item">
                <i data-lucide="git-branch"></i>
                <span>Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</span>
            </button>
            <button onclick="navigateToAndCloseSettings('about')" class="settings-menu-item">
                <i data-lucide="info"></i>
                <span>Ø¹Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
            </button>
            <button onclick="navigateToAndCloseSettings('guide')" class="settings-menu-item">
                <i data-lucide="help-circle"></i>
                <span>Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨</span>
            </button>
            <button onclick="navigateToAndCloseSettings('blog')" class="settings-menu-item">
                <i data-lucide="book-open"></i>
                <span>Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</span>
            </button>
            <button onclick="navigateToAndCloseSettings('privacy')" class="settings-menu-item">
                <i data-lucide="shield"></i>
                <span>Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</span>
            </button>
            <button onclick="navigateToAndCloseSettings('terms')" class="settings-menu-item">
                <i data-lucide="file-text"></i>
                <span>Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</span>
            </button>
            <button onclick="navigateToAndCloseSettings('contact')" class="settings-menu-item">
                <i data-lucide="mail"></i>
                <span>ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</span>
            </button>
            <button onclick="navigateToAndCloseSettings('profile')" class="settings-menu-item">
                <i data-lucide="user"></i>
                <span>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
            </button>
            <button onclick="navigateToAndCloseSettings('levels')" class="settings-menu-item">
                <i data-lucide="cpu"></i>
                <span>Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡</span>
            </button>
            <button onclick="navigateToAndCloseSettings('store')" class="settings-menu-item">
                <i data-lucide="shopping-bag"></i>
                <span>Ø§Ù„Ù…ØªØ¬Ø±</span>
            </button>
            <button onclick="navigateToAndCloseSettings('challenges')" class="settings-menu-item">
                <i data-lucide="target"></i>
                <span>Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</span>
            </button>
            <button onclick="navigateToAndCloseSettings('share')" class="settings-menu-item">
                <i data-lucide="share-2"></i>
                <span>Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù„Ø¹Ø¨Ø©</span>
            </button>
        </div>

        <!-- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØµÙˆØª -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="volume-2"></i>
                <span>Ø§Ù„ØµÙˆØª</span>
            </div>
            <button onclick="toggleSound()" id="sound-toggle-settings" class="settings-menu-item">
                <i data-lucide="volume-2"></i>
                <span>ØªØ´ØºÙŠÙ„ / Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„Ù…Ø¤Ø«Ø±Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©</span>
            </button>
        </div>

        <!-- Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ -->
        <div class="settings-section">
            <div class="settings-section-title">
                <i data-lucide="share-2"></i>
                <span>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰</span>
            </div>
            <div class="social-links-grid">
                <a href="https://www.facebook.com/share/185REmNQT7/" target="_blank" rel="noopener noreferrer" class="social-link-item facebook" style="color: #1877f2;">
                    <i data-lucide="facebook" class="w-5 h-5"></i>
                    <span>ÙÙŠØ³Ø¨ÙˆÙƒ</span>
                </a>
                <a href="https://www.instagram.com/eclipse1_games" target="_blank" rel="noopener noreferrer" class="social-link-item instagram" style="color: #e4405f;">
                    <i data-lucide="instagram" class="w-5 h-5"></i>
                    <span>Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…</span>
                </a>
                <a href="https://youtube.com/@eclipsegames-u4l" target="_blank" rel="noopener noreferrer" class="social-link-item youtube" style="color: #ff0000;">
                    <i data-lucide="youtube" class="w-5 h-5"></i>
                    <span>ÙŠÙˆØªÙŠÙˆØ¨</span>
                </a>
                <a href="https://www.tiktok.com/@eclipse.games1" target="_blank" rel="noopener noreferrer" class="social-link-item tiktok" style="color: #000000;">
                    <i data-lucide="music" class="w-5 h-5"></i>
                    <span>ØªÙŠÙƒ ØªÙˆÙƒ</span>
                </a>
            </div>
        </div>

        <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù† Ø§Ù„ÙÙˆØªØ± -->
        <div class="copyright-text">
            <i data-lucide="copyright" class="w-4 h-4 inline"></i> 2024 Eclipse Games. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©.<br>
            Ø§Ù„Ø¨Ø±ÙŠØ¯: eclipsegames1cloud@gmail.com<br>
            ØªØµÙ…ÙŠÙ… ÙˆØªØ·ÙˆÙŠØ± Ø¹Ø±Ø¨ÙŠ 100%
        </div>
    </div>

    <!-- ========== PAGES ========== -->

    <!-- HOME PAGE -->
    <div id="page-home" class="page active flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            
            <!-- Profile Card with Frame -->
            <div id="homeProfileCard" class="glass-card rounded-2xl p-4 mb-6 animate-slide-up">
                <div class="flex items-center gap-4">
                    <div id="homeProfileFrame" class="rounded-full p-1">
                        <img id="home-profile-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%231e293b'/%3E%3Ccircle cx='50' cy='35' r='20' fill='%2300d4ff'/%3E%3Cellipse cx='50' cy='80' rx='30' ry='25' fill='%2300d4ff'/%3E%3C/svg%3E" alt="Profile" class="profile-img-small">
                    </div>
                    <div class="flex-1">
                        <div class="flex items-center gap-2 mb-1">
                            <span id="home-username" class="font-bold text-white">Player</span>
                            <span id="home-rank" class="text-xs px-2 py-0.5 rounded-full" style="background: var(--accent-color); color: var(--bg-color);">Rookie</span>
                        </div>
                        <div class="flex items-center gap-2">
                            <i data-lucide="trophy" class="w-4 h-4" style="color: #ffd700;"></i>
                            <span id="home-xp" class="font-mono text-sm" style="color: #ffd700;">0 XP</span>
                        </div>
                    </div>
                    <button onclick="navigateTo('profile')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                        <i data-lucide="chevron-left" class="w-5 h-5" style="color: var(--text-secondary);"></i>
                    </button>
                </div>
            </div>

            <!-- Daily Reward -->
            <button id="daily-reward-btn" onclick="claimDailyReward()" class="w-full neon-btn rounded-xl p-4 mb-6 flex items-center justify-center gap-3 animate-slide-up" style="animation-delay: 0.1s;">
                <i data-lucide="gift" class="w-6 h-6" style="color: #ffd700;"></i>
                <span id="daily-reward-text" class="font-bold" style="color: #ffd700;">Ù‡Ø¯ÙŠØ© ÙŠÙˆÙ…ÙŠØ© Ù…ØªØ§Ø­Ø©</span>
            </button>

            <!-- Stats Mini -->
            <div class="glass-card rounded-xl p-4 mb-8 animate-slide-up" style="animation-delay: 0.2s;">
                <div class="flex justify-between items-center mb-3">
                    <span style="color: var(--text-secondary);">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</span>
                    <button onclick="navigateTo('profile')" class="text-sm hover:underline" style="color: var(--accent-color);">Ø¹Ø±Ø¶ Ø§Ù„ÙƒÙ„</button>
                </div>
                <div class="grid grid-cols-3 gap-4 text-center">
                    <div>
                        <div id="home-wins" class="text-2xl font-bold" style="color: #00ff88;">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">ÙÙˆØ²</div>
                    </div>
                    <div>
                        <div id="home-losses" class="text-2xl font-bold" style="color: var(--accent-secondary);">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø®Ø³Ø§Ø±Ø©</div>
                    </div>
                    <div>
                        <div id="home-draws" class="text-2xl font-bold" style="color: var(--text-secondary);">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„</div>
                    </div>
                </div>
            </div>

            <!-- Title with Easter Egg -->
            <div class="text-center mb-8 animate-slide-up" style="animation-delay: 0.3s;" onclick="handleLogoClick()">
                <h1 class="text-5xl md:text-6xl font-display font-bold mb-2" style="color: var(--accent-color); text-shadow: 0 0 30px var(--glow-color); cursor: pointer;">
                    XO ARENA
                </h1>
                <p class="text-lg tracking-widest" style="color: var(--text-secondary);">DARK EDITION</p>
            </div>

            <!-- Menu Buttons -->
            <div class="space-y-4 animate-slide-up" style="animation-delay: 0.4s;">
                <button onclick="showFriendOptions()" class="neon-btn w-full rounded-xl p-5 flex items-center justify-center gap-3 text-lg font-bold">
                    <i data-lucide="users" class="w-6 h-6" style="color: var(--accent-color);"></i>
                    <span style="color: var(--text-primary);">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</span>
                </button>

                <button onclick="showOnlineMatches()" class="neon-btn w-full rounded-xl p-5 flex items-center justify-center gap-3 text-lg font-bold" style="box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);">
                    <i data-lucide="globe" class="w-6 h-6" style="color: #ffd700;"></i>
                    <span style="color: #ffd700;">Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† (XP)</span>
                </button>

                <button onclick="navigateTo('levels')" class="neon-btn w-full rounded-xl p-5 flex items-center justify-center gap-3 text-lg font-bold" style="box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);">
                    <i data-lucide="cpu" class="w-6 h-6" style="color: var(--accent-color);"></i>
                    <span style="color: var(--text-primary);">Ø¶Ø¯ Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</span>
                </button>

                <button onclick="navigateTo('division')" class="neon-btn w-full rounded-xl p-5 flex items-center justify-center gap-3 text-lg font-bold" style="background: linear-gradient(135deg, #ff3366, #ff6b35);">
                    <i data-lucide="git-branch" class="w-6 h-6" style="color: white;"></i>
                    <span style="color: white;">Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</span>
                </button>

                <div class="grid grid-cols-2 gap-4">
                    <button onclick="navigateTo('challenges')" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2">
                        <i data-lucide="target" class="w-7 h-7" style="color: var(--accent-secondary);"></i>
                        <span style="color: var(--text-primary);">Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</span>
                    </button>
                    <button onclick="navigateTo('store')" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2" style="box-shadow: 0 0 15px rgba(255, 215, 0, 0.2);">
                        <i data-lucide="shopping-bag" class="w-7 h-7" style="color: #ffd700;"></i>
                        <span style="color: var(--text-primary);">Ø§Ù„Ù…ØªØ¬Ø±</span>
                    </button>
                </div>
            </div>

            <!-- Ù‚Ø³Ù… Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù†ØµÙŠ Ø§Ù„ØºÙ†ÙŠ Ø§Ù„Ø¬Ø¯ÙŠØ¯ -->
            <div class="glass-card rounded-2xl p-6 mt-8 animate-slide-up" style="animation-delay: 0.5s;">
                <h2 class="text-2xl font-bold mb-4" style="color: var(--accent-color);">ðŸŽ® Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ XO Arena - Ø£ÙØ¶Ù„ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ©</h2>
                
                <div class="space-y-4 text-right">
                    <p class="leading-relaxed" style="color: var(--text-primary);">
                        <strong style="color: var(--accent-color);">XO Arena</strong> Ù‡ÙŠ Ø£ÙˆÙ„ Ù…Ù†ØµØ© Ø¹Ø±Ø¨ÙŠØ© Ù…ØªÙƒØ§Ù…Ù„Ø© Ù„Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ù…Ø¹ <strong style="color: #00ff88;">Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„</strong> Ùˆ <strong style="color: #ffd700;">5 Ù…Ø³ØªÙˆÙŠØ§Øª Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</strong> Ù…Ø®ØªÙ„ÙØ©: Ù…Ø¨ØªØ¯Ø¦ØŒ Ù…ØªÙˆØ³Ø·ØŒ ØµØ¹Ø¨ØŒ Ø¹Ø¨Ù‚Ø±ÙŠØŒ ÙˆØªÙƒÙŠÙÙŠ. ØµÙ…Ù…Ù†Ø§ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„ØªÙƒÙˆÙ† Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ù…Ø§Ø± ÙˆØ§Ù„Ù…Ø³ØªÙˆÙŠØ§ØªØŒ Ù…Ù† Ø§Ù„Ø£Ø·ÙØ§Ù„ Ø§Ù„ØµØºØ§Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡ Ø§Ù„Ù…Ø­ØªØ±ÙÙŠÙ†.
                    </p>
                    
                    <p class="leading-relaxed" style="color: var(--text-primary);">
                        Ù…Ø§ ÙŠÙ…ÙŠØ² <strong style="color: var(--accent-color);">XO Arena</strong> Ø¹Ù† ØºÙŠØ±Ù‡Ø§ Ù…Ù† Ø£Ù„Ø¹Ø§Ø¨ Ø¥ÙƒØ³ Ø£Ùˆ Ù‡Ùˆ Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ø§Ù„Ù…ØªÙƒØ§Ù…Ù„: Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø£ØµØ¯Ù‚Ø§Ø¦Ùƒ Ø¹Ù† Ø·Ø±ÙŠÙ‚ ÙƒÙˆØ¯ Ø§Ù„ØºØ±ÙØ©ØŒ ØªØ­Ø¯Ù‘ÙŽ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠÙŠÙ† ÙÙŠ <strong style="color: #ffd700;">Online Matches</strong> ÙˆØ§Ø±Ø¨Ø­ XPØŒ Ø£Ùˆ Ø§Ø¯Ø®Ù„ <strong style="color: #ff6b35;">Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</strong> ÙˆØªØ­Ø¯Ù‰ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ù† Ù†ÙØ³ Ù…Ø³ØªÙˆØ§Ùƒ.
                    </p>

                    <div class="grid grid-cols-3 gap-3 mt-4">
                        <div class="p-3 rounded-lg text-center" style="background: rgba(0, 212, 255, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: #00ff88;">+5</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ù…Ø³ØªÙˆÙŠØ§Øª Ø°ÙƒØ§Ø¡</div>
                        </div>
                        <div class="p-3 rounded-lg text-center" style="background: rgba(255, 215, 0, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: #ffd700;">+40</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ø³ÙƒÙ†Ø§Øª Ø­ØµØ±ÙŠØ©</div>
                        </div>
                        <div class="p-3 rounded-lg text-center" style="background: rgba(255, 51, 102, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: #ff3366;">+8</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</div>
                        </div>
                        <div class="p-3 rounded-lg text-center" style="background: rgba(168, 85, 247, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: #a855f7;">+21</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ø¥Ø·Ø§Ø± Ù„Ù„Ù…Ù„Ù</div>
                        </div>
                        <div class="p-3 rounded-lg text-center" style="background: rgba(255, 215, 0, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: #ffd700;">+3</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ø£Ø·ÙˆØ§Ø± Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</div>
                        </div>
                        <div class="p-3 rounded-lg text-center" style="background: rgba(0, 212, 255, 0.1); border: 1px solid var(--border-color);">
                            <div class="text-2xl font-bold" style="color: var(--accent-color);">âˆž</div>
                            <div class="text-xs" style="color: var(--text-secondary);">Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</div>
                        </div>
                    </div>

                    <h3 class="text-lg font-bold mt-4" style="color: var(--accent-color);">Ù„Ù…Ø§Ø°Ø§ ØªØ®ØªØ§Ø± XO ArenaØŸ</h3>
                    <ul class="space-y-2 pr-4">
                        <li class="flex items-start gap-2" style="color: var(--text-primary);">
                            <span style="color: #00ff88;">âœ“</span>
                            <strong>Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„:</strong> Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ØŒ Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©ØŒ ÙˆØ¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†.
                        </li>
                        <li class="flex items-start gap-2" style="color: var(--text-primary);">
                            <span style="color: #00ff88;">âœ“</span>
                            <strong>Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø§Ù„Ø¬Ø¯ÙŠØ¯:</strong> 10 Ù…Ø³ØªÙˆÙŠØ§Øª Ù…Ù† Ø§Ù„ØªØ­Ø¯ÙŠ Ù…Ø¹ Ù…ÙƒØ§ÙØ¢Øª Ø£Ø³Ø·ÙˆØ±ÙŠØ©.
                        </li>
                        <li class="flex items-start gap-2" style="color: var(--text-primary);">
                            <span style="color: #00ff88;">âœ“</span>
                            <strong>Ù†Ø¸Ø§Ù… Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù…ØªÙƒØ§Ù…Ù„:</strong> 20 Ø£ØºÙ†ÙŠØ© Ø±Ø§Ø¦Ø¹Ø© Ù„Ù„Ø®Ù„ÙÙŠØ©.
                        </li>
                        <li class="flex items-start gap-2" style="color: var(--text-primary);">
                            <span style="color: #00ff88;">âœ“</span>
                            <strong>Ù…ØªØ¬Ø± Ø¶Ø®Ù…:</strong> 40+ Ø³ÙƒÙ† Ùˆ 21 Ø¥Ø·Ø§Ø± Ù„Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ.
                        </li>
                        <li class="flex items-start gap-2" style="color: var(--text-primary);">
                            <span style="color: #00ff88;">âœ“</span>
                            <strong>Ù…ÙŠØ²Ø© VAR:</strong> Ø´Ø§Ù‡Ø¯ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ§Ù…Ù„Ø©.
                        </li>
                    </ul>

                    <p class="leading-relaxed mt-4 text-sm" style="color: var(--text-secondary);">
                        * Ø£ÙƒØ«Ø± Ù…Ù† 10,000 Ù…Ø¨Ø§Ø±Ø§Ø© ØªÙ… Ù„Ø¹Ø¨Ù‡Ø§ Ø¹Ù„Ù‰ Ù…Ù†ØµØªÙ†Ø§ Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†. Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø¹Ø§Ø¦Ù„Ø© XO Arena ÙˆØ§Ø³ØªÙ…ØªØ¹ Ø¨Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ©.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- PROFILE PAGE -->
    <div id="page-profile" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</h1>
            </div>

            <!-- Profile Info with Frame -->
            <div class="glass-card rounded-2xl p-6 mb-6 text-center">
                <div class="relative inline-block mb-4">
                    <div id="profileFrameContainer" class="rounded-full p-1">
                        <img id="profile-img" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%231e293b'/%3E%3Ccircle cx='50' cy='35' r='20' fill='%2300d4ff'/%3E%3Cellipse cx='50' cy='80' rx='30' ry='25' fill='%2300d4ff'/%3E%3C/svg%3E" alt="Profile" class="profile-img">
                    </div>
                    <label class="absolute bottom-0 right-0 p-2 rounded-full cursor-pointer transition-all hover:scale-110" style="background: var(--bg-tertiary);">
                        <i data-lucide="camera" class="w-4 h-4" style="color: var(--text-primary);"></i>
                        <input type="file" id="profile-img-input" accept="image/*" class="hidden" onchange="handleProfileImage(event)">
                    </label>
                </div>
                
                <input type="text" id="profile-name-input" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨" class="bg-transparent border-b-2 text-center text-xl font-bold w-full max-w-xs py-2 mb-2 focus:outline-none transition-colors" style="border-color: var(--border-color); color: var(--text-primary);" onchange="saveProfileName()">

                <div class="flex items-center justify-center gap-2 mb-2">
                    <span id="profile-rank" class="px-3 py-1 rounded-full font-bold" style="background: var(--accent-color); color: var(--bg-color);">Rookie</span>
                </div>

                <div class="flex items-center justify-center gap-2">
                    <i data-lucide="trophy" class="w-5 h-5" style="color: #ffd700;"></i>
                    <span id="profile-xp" class="text-2xl font-mono font-bold" style="color: #ffd700;">0 XP</span>
                </div>
            </div>

            <!-- Daily Streak -->
            <div class="glass-card rounded-xl p-4 mb-6">
                <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                    <i data-lucide="flame" class="w-5 h-5" style="color: #ff6b35;"></i>
                    Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ù‡Ø¯Ø§ÙŠØ§ Ø§Ù„ÙŠÙˆÙ…ÙŠØ©
                </h3>
                <div class="flex items-center justify-between">
                    <div>
                        <div id="daily-streak" class="text-3xl font-bold" style="color: #ff6b35;">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø£ÙŠØ§Ù… Ù…ØªØªØ§Ù„ÙŠØ©</div>
                    </div>
                    <div class="text-left">
                        <div class="text-sm" style="color: var(--text-secondary);">Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
                        <div id="next-reward-amount" class="text-lg font-bold" style="color: #ffd700;">500 XP</div>
                    </div>
                </div>
            </div>

            <!-- Stats -->
            <div class="glass-card rounded-xl p-4 mb-6">
                <h3 class="text-lg font-bold text-white mb-4">Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-total" class="text-2xl font-bold text-white">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª</div>
                    </div>
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-wins" class="text-2xl font-bold" style="color: #00ff88;">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">ÙÙˆØ²</div>
                    </div>
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-losses" class="text-2xl font-bold" style="color: var(--accent-secondary);">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø®Ø³Ø§Ø±Ø©</div>
                    </div>
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-draws" class="text-2xl font-bold" style="color: var(--text-secondary);">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„</div>
                    </div>
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-streak" class="text-2xl font-bold" style="color: #ffd700;">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø³Ù„Ø³Ù„Ø© Ø§Ù„ÙÙˆØ²</div>
                    </div>
                    <div class="rounded-lg p-3 text-center" style="background: rgba(0,0,0,0.3);">
                        <div id="stat-best" class="text-2xl font-bold" style="color: #a855f7;">0</div>
                        <div class="text-xs" style="color: var(--text-secondary);">Ø£ÙØ¶Ù„ Ø³Ù„Ø³Ù„Ø©</div>
                    </div>
                </div>
            </div>

            <!-- Division Stats -->
            <div class="glass-card rounded-xl p-4 mb-6">
                <h3 class="text-lg font-bold text-white mb-4">ØªÙ‚Ø¯Ù… Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</h3>
                <div class="flex items-center justify-between mb-3">
                    <span style="color: var(--text-secondary);">Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ:</span>
                    <span id="currentDivision" class="font-bold" style="color: var(--accent-color);">10</span>
                </div>
                <div class="flex items-center justify-between mb-3">
                    <span style="color: var(--text-secondary);">Ù†Ù‚Ø§Ø· Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†:</span>
                    <span id="divisionPoints" class="font-bold" style="color: #ffd700;">0</span>
                </div>
                <div class="flex items-center justify-between">
                    <span style="color: var(--text-secondary);">Ø£ÙØ¶Ù„ Ø¯ÙŠÙÙŠØ¬Ù†:</span>
                    <span id="bestDivision" class="font-bold" style="color: #00ff88;">10</span>
                </div>
            </div>

            <!-- Achievements -->
            <div class="glass-card rounded-xl p-4">
                <h3 class="text-lg font-bold text-white mb-4">Ø§Ù„Ø¥Ù†Ø¬Ø§Ø²Ø§Øª</h3>
                <div id="profile-achievements" class="space-y-3"></div>
            </div>
        </div>
    </div>

    <!-- DIVISION MODE PAGE -->
    <div id="page-division" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</h1>
            </div>

            <!-- Division Summary -->
            <div class="glass-card rounded-xl p-4 mb-6">
                <div class="flex justify-between items-center mb-3">
                    <span style="color: var(--text-secondary);">Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ:</span>
                    <span id="divisionCurrentDisplay" class="text-2xl font-bold" style="color: var(--accent-color);">10</span>
                </div>
                <div class="flex justify-between items-center mb-3">
                    <span style="color: var(--text-secondary);">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©:</span>
                    <span id="divisionPointsDisplay" class="text-xl font-bold" style="color: #ffd700;">0</span>
                </div>
                <div class="flex justify-between items-center mb-3">
                    <span style="color: var(--text-secondary);">Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù„Ù„ØªØ§Ù„ÙŠ:</span>
                    <span id="divisionRequiredDisplay" class="text-xl font-bold" style="color: #00ff88;">6</span>
                </div>
                <div class="division-progress">
                    <div id="divisionProgressBar" class="division-progress-bar" style="width: 0%"></div>
                </div>
            </div>

            <!-- Division Mode Selector -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <button onclick="startDivisionOffline()" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2">
                    <i data-lucide="bot" class="w-8 h-8" style="color: var(--accent-color);"></i>
                    <span style="color: var(--text-primary);">Ø¶Ø¯ Ø§Ù„Ø±ÙˆØ¨ÙˆØª</span>
                </button>
                <button onclick="startDivisionOnline()" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2" style="background: linear-gradient(135deg, #ff3366, #ff6b35);">
                    <i data-lucide="globe" class="w-8 h-8" style="color: white;"></i>
                    <span style="color: white;">Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</span>
                </button>
            </div>

            <!-- Division Grid -->
            <div id="divisionContainer" class="space-y-4 mb-6"></div>

            <!-- Division Info -->
            <div class="glass-card rounded-xl p-4">
                <h3 class="text-lg font-bold text-white mb-3">Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</h3>
                <ul class="space-y-2">
                    <li class="flex items-center gap-2" style="color: #00ff88;">
                        <i data-lucide="check-circle" class="w-4 h-4"></i>
                        <span>Ø§Ù„ÙÙˆØ²: +3 Ù†Ù‚Ø§Ø·</span>
                    </li>
                    <li class="flex items-center gap-2" style="color: #ffd700;">
                        <i data-lucide="minus-circle" class="w-4 h-4"></i>
                        <span>Ø§Ù„ØªØ¹Ø§Ø¯Ù„: +1 Ù†Ù‚Ø·Ø©</span>
                    </li>
                    <li class="flex items-center gap-2" style="color: #ff3366;">
                        <i data-lucide="x-circle" class="w-4 h-4"></i>
                        <span>Ø§Ù„Ø®Ø³Ø§Ø±Ø©: -3 Ù†Ù‚Ø§Ø·</span>
                    </li>
                </ul>
                <div class="mt-4 p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                    <p class="text-sm" style="color: var(--text-secondary);">ÙÙŠ Ø·ÙˆØ± Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†: Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ø§Ø¯Ù„ - ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬ÙˆÙ„Ø© Ø­ØªÙ‰ Ø§Ù„ÙÙˆØ²</p>
                </div>
            </div>
        </div>
    </div>

    <!-- ONLINE MATCHES PAGE (Ø¬Ø¯ÙŠØ¯) -->
    <div id="page-online-matches" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</h1>
            </div>

            <!-- XP Bet Selector -->
            <div class="glass-card rounded-xl p-6 mb-6">
                <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="dollar-sign" class="w-5 h-5" style="color: #ffd700;"></i>
                    <span>Ø­Ø¯Ø¯ Ø§Ù„Ù€ XP Ù„Ù„Ù…Ø±Ø§Ù‡Ù†Ø©</span>
                </h3>
                <div class="xp-bet-selector">
                    <input type="range" id="xp-bet-range" class="xp-range" min="100" max="20000" step="100" value="500" oninput="updateXpBetValue(this.value)">
                    <div class="text-center mt-3">
                        <span id="xp-bet-value" class="xp-value">500</span>
                        <span style="color: var(--text-secondary);"> XP</span>
                    </div>
                </div>
                <button onclick="joinOnlineMatchmaking()" class="neon-btn w-full py-4 rounded-xl font-bold text-lg mt-4">
                    <i data-lucide="search" class="inline w-5 h-5 ml-2"></i>
                    Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø­Ø«
                </button>
            </div>

            <!-- Queue Status (hidden initially) -->
            <div id="queue-container" class="queue-container glass-card rounded-xl" style="display: none;">
                <div class="queue-spinner"></div>
                <div class="queue-text">Ø¬Ø§Ø± Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù„Ø§Ø¹Ø¨...</div>
                <button onclick="cancelMatchmaking()" class="neon-btn px-6 py-3 rounded-xl">
                    <i data-lucide="x" class="inline w-4 h-4 ml-2"></i>
                    Ø¥Ù„ØºØ§Ø¡
                </button>
            </div>

            <!-- Online Stats -->
            <div class="glass-card rounded-xl p-4">
                <h3 class="text-lg font-bold text-white mb-3">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</h3>
                <div class="flex justify-between mb-2">
                    <span style="color: var(--text-secondary);">Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†:</span>
                    <span id="online-matches-count" style="color: #ffd700;">0</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span style="color: var(--text-secondary);">ÙÙˆØ²:</span>
                    <span id="online-wins" style="color: #00ff88;">0</span>
                </div>
                <div class="flex justify-between">
                    <span style="color: var(--text-secondary);">Ø®Ø³Ø§Ø±Ø©:</span>
                    <span id="online-losses" style="color: #ff3366;">0</span>
                </div>
            </div>
        </div>
    </div>

    <!-- FRIENDS ONLINE PAGE (Ø¬Ø¯ÙŠØ¯) -->
    <div id="page-friends-online" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</h1>
            </div>

            <!-- Friends Mode Options -->
            <div class="grid grid-cols-2 gap-4 mb-6">
                <button onclick="navigateTo('friends-offline')" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2">
                    <i data-lucide="wifi-off" class="w-8 h-8" style="color: var(--accent-secondary);"></i>
                    <span style="color: var(--text-primary);">Offline</span>
                </button>
                <button onclick="showFriendsOnlineOptions()" class="neon-btn rounded-xl p-5 flex flex-col items-center gap-2" style="background: linear-gradient(135deg, var(--accent-color), var(--accent-secondary));">
                    <i data-lucide="wifi" class="w-8 h-8" style="color: white;"></i>
                    <span style="color: white;">Online</span>
                </button>
            </div>

            <!-- Online Options (hidden initially) -->
            <div id="friends-online-options" class="space-y-4" style="display: none;">
                <button onclick="createRoom()" class="neon-btn w-full rounded-xl p-5 flex items-center justify-center gap-3 text-lg font-bold">
                    <i data-lucide="plus-circle" class="w-6 h-6" style="color: var(--accent-color);"></i>
                    <span style="color: var(--text-primary);">Ø¥Ù†Ø´Ø§Ø¡ ØºØ±ÙØ©</span>
                </button>
                
                <div class="relative">
                    <div class="absolute inset-0 flex items-center">
                        <div class="w-full border-t" style="border-color: var(--border-color);"></div>
                    </div>
                    <div class="relative flex justify-center text-sm">
                        <span class="px-4" style="background: var(--bg-color); color: var(--text-secondary);">Ø£Ùˆ</span>
                    </div>
                </div>

                <div class="flex gap-3">
                    <input type="text" id="room-code-input" class="flex-1 p-4 rounded-xl bg-transparent border focus:outline-none text-center font-mono text-xl" style="border-color: var(--border-color); color: var(--text-primary);" placeholder="ÙƒÙˆØ¯ Ø§Ù„ØºØ±ÙØ©" maxlength="6">
                    <button onclick="joinRoom()" class="neon-btn px-6 rounded-xl flex items-center gap-2">
                        <i data-lucide="log-in" class="w-5 h-5"></i>
                        <span>Ø§Ù†Ø¶Ù…Ø§Ù…</span>
                    </button>
                </div>
            </div>

            <!-- Room Display (when in room) -->
            <div id="room-display" class="space-y-6" style="display: none;">
                <!-- Room Code -->
                <div class="room-code-container glass-card">
                    <span class="room-code" id="room-code-display"></span>
                    <button class="copy-btn" onclick="copyRoomCode()">
                        <i data-lucide="copy" class="w-4 h-4"></i>
                        <span>Ù†Ø³Ø®</span>
                    </button>
                </div>

                <!-- Room Settings (Host Only) -->
                <div id="room-settings-host" class="room-settings-panel" style="display: none;">
                    <h3 class="text-lg font-bold text-white mb-4">Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØºØ±ÙØ©</h3>
                    
                    <div class="setting-item">
                        <span class="setting-label">Ø¹Ø¯Ø¯ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª</span>
                        <div class="setting-control">
                            <button onclick="adjustRounds(-1)" class="px-3 py-1 rounded" style="background: rgba(255,255,255,0.1);">-</button>
                            <span id="rounds-value" class="mx-3">3</span>
                            <button onclick="adjustRounds(1)" class="px-3 py-1 rounded" style="background: rgba(255,255,255,0.1);">+</button>
                        </div>
                    </div>

                    <div class="setting-item">
                        <span class="setting-label">Ù…Ø¯Ø© Ø§Ù„ØªØ§ÙŠÙ…Ø± (Ø«ÙˆØ§Ù†ÙŠ)</span>
                        <div class="setting-control">
                            <input type="number" id="timer-seconds" min="3" max="30" value="5" onchange="updateTimerSetting(this.value)">
                        </div>
                    </div>

                    <div class="setting-item">
                        <span class="setting-label">Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØªØ¹Ø§Ø¯Ù„</span>
                        <div class="setting-control">
                            <input type="checkbox" id="allow-draw" checked onchange="updateDrawSetting(this.checked)">
                        </div>
                    </div>

                    <div class="setting-item">
                        <span class="setting-label">Ù…Ø¤Ø«Ø±Ø§Øª ØµÙˆØªÙŠØ©</span>
                        <div class="setting-control">
                            <input type="checkbox" id="room-sound" checked onchange="updateSoundSetting(this.checked)">
                        </div>
                    </div>

                    <div class="grid grid-cols-2 gap-3 mt-4">
                        <button onclick="restartMatch()" class="neon-btn py-3 rounded-xl text-sm">
                            <i data-lucide="refresh-cw" class="inline w-4 h-4 ml-2"></i>
                            Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©
                        </button>
                        <button onclick="kickPlayer()" class="kick-btn py-3 rounded-xl text-sm">
                            <i data-lucide="user-x" class="inline w-4 h-4 ml-2"></i>
                            Ø·Ø±Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨
                        </button>
                        <button onclick="closeRoom()" class="py-3 rounded-xl text-sm" style="background: rgba(255,51,102,0.2); border: 1px solid #ff3366; color: #ff3366;">
                            <i data-lucide="x-circle" class="inline w-4 h-4 ml-2"></i>
                            Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„ØºØ±ÙØ©
                        </button>
                        <button onclick="leaveRoom()" class="neon-btn py-3 rounded-xl text-sm">
                            <i data-lucide="log-out" class="inline w-4 h-4 ml-2"></i>
                            Ø®Ø±ÙˆØ¬
                        </button>
                    </div>
                </div>

                <!-- Room Settings (Guest View) -->
                <div id="room-settings-guest" class="room-settings-panel" style="display: none;">
                    <h3 class="text-lg font-bold text-white mb-4">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØºØ±ÙØ©</h3>
                    <p style="color: var(--text-secondary); text-align: center;">Ø£Ù†Øª Ø¶ÙŠÙ - Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…ØªØ§Ø­Ø© ÙÙ‚Ø· Ù„Ù„Ù…Ø¶ÙŠÙ</p>
                    <button onclick="leaveRoom()" class="neon-btn w-full py-3 rounded-xl mt-4">
                        <i data-lucide="log-out" class="inline w-4 h-4 ml-2"></i>
                        Ø®Ø±ÙˆØ¬
                    </button>
                </div>

                <!-- Players Info -->
                <div class="grid grid-cols-2 gap-4">
                    <div id="host-card" class="player-card">
                        <div class="player-symbol X">X</div>
                        <img id="host-avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%231e293b'/%3E%3C/svg%3E" class="player-avatar">
                        <div class="player-info">
                            <div id="host-name" class="player-name">Ø§Ù„Ù…Ø¶ÙŠÙ</div>
                            <div id="host-level" class="player-level">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
                            <div id="host-xp" class="player-xp">0 XP</div>
                        </div>
                    </div>
                    <div id="guest-card" class="player-card">
                        <div class="player-symbol O">O</div>
                        <img id="guest-avatar" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ccircle cx='50' cy='50' r='50' fill='%231e293b'/%3E%3C/svg%3E" class="player-avatar">
                        <div class="player-info">
                            <div id="guest-name" class="player-name">ÙŠÙ†ØªØ¸Ø±...</div>
                            <div id="guest-level" class="player-level">-</div>
                            <div id="guest-xp" class="player-xp">-</div>
                        </div>
                    </div>
                </div>

                <!-- Scoreboard -->
                <div class="scoreboard glass-card">
                    <div class="score-item">
                        <div id="host-wins" class="score-value">0</div>
                        <div class="score-label">Ø§Ù„Ù…Ø¶ÙŠÙ</div>
                    </div>
                    <div class="score-item">
                        <div id="draws-count" class="score-value">0</div>
                        <div class="score-label">ØªØ¹Ø§Ø¯Ù„</div>
                    </div>
                    <div class="score-item">
                        <div id="guest-wins" class="score-value">0</div>
                        <div class="score-label">Ø§Ù„Ø¶ÙŠÙ</div>
                    </div>
                </div>

                <!-- Round Indicator -->
                <div class="round-indicator">
                    <span>Ø§Ù„Ø¬ÙˆÙ„Ø© <span id="current-round">1</span> / <span id="total-rounds">3</span></span>
                </div>

                <!-- Timer -->
                <div class="timer-container">
                    <div id="game-timer" class="timer-circle">5</div>
                </div>
            </div>
        </div>
    </div>

    <!-- FRIENDS OFFLINE PAGE (Ù…ÙˆØ¬ÙˆØ¯) -->
    <div id="page-friends-offline" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ ØµØ¯ÙŠÙ‚ (Offline)</h1>
            </div>
            
            <button onclick="startGame('friend')" class="neon-btn w-full rounded-xl p-6 flex items-center justify-center gap-3 text-xl font-bold mb-4">
                <i data-lucide="users" class="w-8 h-8" style="color: var(--accent-color);"></i>
                <span style="color: var(--text-primary);">Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</span>
            </button>

            <div class="glass-card rounded-xl p-4">
                <h3 class="text-lg font-bold text-white mb-3">ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹</h3>
                <p style="color: var(--text-secondary);">Ù…Ø±Ø± Ø§Ù„Ø¬Ù‡Ø§Ø² Ø¨ÙŠÙ†Ùƒ ÙˆØ¨ÙŠÙ† ØµØ¯ÙŠÙ‚Ùƒ. X ÙŠØ¨Ø¯Ø£ Ø£ÙˆÙ„Ø§Ù‹.</p>
            </div>
        </div>
    </div>

    <!-- LEVELS PAGE -->
    <div id="page-levels" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-8">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ø®ØªØ± Ø§Ù„ØµØ¹ÙˆØ¨Ø©</h1>
            </div>
            <div id="levels-container" class="space-y-4"></div>
        </div>
    </div>

    <!-- GAME PAGE -->
    <div id="page-game" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            
            <header class="flex justify-between items-center mb-6">
                <button onclick="endGameAndReturn()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                
                <div class="flex items-center gap-2 px-4 py-2 rounded-full" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color);">
                    <i data-lucide="trophy" class="w-4 h-4" style="color: #ffd700;"></i>
                    <span id="game-xp" class="font-mono" style="color: #ffd700;">0 XP</span>
                </div>

                <button onclick="openGuide()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="help-circle" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
            </header>

            <!-- Win Streak Counter -->
            <div id="win-streak-counter" class="win-streak" style="display: none;">
                <i data-lucide="flame"></i>
                <span id="win-streak-value">0</span>
                <span>Ø§Ù†ØªØµØ§Ø±Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©</span>
            </div>

            <!-- Game Mode Indicator -->
            <div id="gameModeIndicator" class="text-center mb-2 text-sm" style="color: var(--text-secondary);"></div>

            <!-- Player Indicators -->
            <div class="flex justify-between items-center mb-6 px-2">
                <div id="player-x-indicator" class="flex items-center gap-2 px-4 py-2 rounded-xl" style="background: rgba(0,0,0,0.4); border: 2px solid rgba(0, 212, 255, 0.3);">
                    <span class="text-2xl font-bold" style="color: var(--accent-color);">X</span>
                    <span id="player-x-name" class="text-sm" style="color: var(--text-secondary);">Ø§Ù„Ù„Ø§Ø¹Ø¨</span>
                </div>
                <div class="text-lg" style="color: var(--text-secondary);">VS</div>
                <div id="player-o-indicator" class="flex items-center gap-2 px-4 py-2 rounded-xl" style="background: rgba(0,0,0,0.4); border: 2px solid rgba(255, 51, 102, 0.3);">
                    <span class="text-2xl font-bold" style="color: var(--accent-secondary);">O</span>
                    <span id="player-o-name" class="text-sm" style="color: var(--text-secondary);">Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±</span>
                </div>
            </div>

            <!-- Timer (for online games) -->
            <div id="game-timer-container" class="timer-container" style="display: none;">
                <div id="game-timer-display" class="timer-circle">5</div>
            </div>

            <!-- Game Status -->
            <div id="game-status" class="text-center mb-6 h-10 text-xl font-display"></div>

            <!-- Game Board -->
            <div class="flex justify-center mb-6">
                <div id="game-board" class="grid grid-cols-3 gap-3 p-4 rounded-2xl" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color);"></div>
            </div>

            <!-- Game Controls -->
            <div id="game-controls" class="flex justify-center gap-4 opacity-0 transition-opacity duration-500">
                <button onclick="showLoadingAndReset()" class="neon-btn px-6 py-3 rounded-xl flex items-center gap-2">
                    <i data-lucide="rotate-ccw" class="w-5 h-5" style="color: var(--text-secondary);"></i>
                    <span style="color: var(--text-primary);">Ø§Ù„Ø¹Ø¨ ØªØ§Ù†ÙŠ</span>
                </button>
                <button onclick="showVAR()" class="neon-btn px-6 py-3 rounded-xl flex items-center gap-2">
                    <i data-lucide="video" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    <span style="color: var(--text-primary);">VAR</span>
                </button>
                <button onclick="navigateTo('home')" class="neon-btn px-6 py-3 rounded-xl flex items-center gap-2">
                    <i data-lucide="home" class="w-5 h-5" style="color: var(--text-secondary);"></i>
                    <span style="color: var(--text-primary);">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</span>
                </button>
            </div>
        </div>
    </div>

    <!-- STORE PAGE -->
    <div id="page-store" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-4">
                    <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                        <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                    </button>
                    <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ù…ØªØ¬Ø±</h1>
                </div>
                <div class="flex items-center gap-2 px-4 py-2 rounded-full" style="background: rgba(0,0,0,0.4); border: 1px solid rgba(255, 215, 0, 0.3);">
                    <i data-lucide="coins" class="w-4 h-4" style="color: #ffd700;"></i>
                    <span id="store-xp" class="font-mono font-bold" style="color: #ffd700;">0</span>
                </div>
            </div>

            <!-- Search Bar -->
            <input type="text" id="storeSearch" class="search-bar" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø³ÙƒÙ† Ø£Ùˆ Ø¥Ø·Ø§Ø±..." oninput="filterStore()">

            <!-- Category Tabs -->
            <div class="category-tabs">
                <button onclick="setStoreCategory('all')" id="cat-all" class="category-tab active">Ø§Ù„ÙƒÙ„</button>
                <button onclick="setStoreCategory('skins')" id="cat-skins" class="category-tab">Ø§Ù„Ø³ÙƒÙ†Ø§Øª</button>
                <button onclick="setStoreCategory('frames')" id="cat-frames" class="category-tab">Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª</button>
            </div>

            <!-- Filters -->
            <div class="store-filters">
                <button onclick="setRarityFilter('all')" id="rarity-all" class="filter-btn active">Ø§Ù„ÙƒÙ„</button>
                <button onclick="setRarityFilter('common')" id="rarity-common" class="filter-btn">Ø¹Ø§Ø¯ÙŠ</button>
                <button onclick="setRarityFilter('rare')" id="rarity-rare" class="filter-btn">Ù†Ø§Ø¯Ø±</button>
                <button onclick="setRarityFilter('epic')" id="rarity-epic" class="filter-btn">Ù…Ù„Ø­Ù…ÙŠ</button>
                <button onclick="setRarityFilter('legendary')" id="rarity-legendary" class="filter-btn">Ø£Ø³Ø·ÙˆØ±ÙŠ</button>
                <button onclick="sortByPrice('asc')" class="filter-btn">
                    <i data-lucide="arrow-up" class="w-4 h-4 inline"></i> Ø§Ù„Ø³Ø¹Ø±
                </button>
                <button onclick="sortByPrice('desc')" class="filter-btn">
                    <i data-lucide="arrow-down" class="w-4 h-4 inline"></i> Ø§Ù„Ø³Ø¹Ø±
                </button>
            </div>

            <!-- Store Grid -->
            <div id="store-container" class="store-grid"></div>
        </div>
    </div>

    <!-- SHARE PAGE (Ø¬Ø¯ÙŠØ¯) -->
    <div id="page-share" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6 text-center mb-6">
                <div class="text-6xl mb-4">ðŸŽ</div>
                <h2 class="text-2xl font-bold text-white mb-2">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©</h2>
                <p class="text-lg mb-4" style="color: var(--text-secondary);">Ø´Ø§Ø±Ùƒ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹ 20 Ø´Ø®Øµ ÙˆØ§Ø­ØµÙ„ Ø¹Ù„Ù‰ 100,000 XP!</p>
                
                <div class="share-stats">
                    <div class="share-count" id="shareCount">0/20</div>
                    <div class="share-progress">
                        <div id="shareProgress" class="share-progress-bar" style="width: 0%"></div>
                    </div>
                </div>

                <div class="share-buttons">
                    <button onclick="shareOnFacebook()" class="share-btn facebook">
                        <i data-lucide="facebook"></i>
                        ÙÙŠØ³Ø¨ÙˆÙƒ
                    </button>
                    <button onclick="shareOnTwitter()" class="share-btn twitter">
                        <i data-lucide="twitter"></i>
                        ØªÙˆÙŠØªØ±
                    </button>
                    <button onclick="shareOnWhatsApp()" class="share-btn whatsapp">
                        <i data-lucide="message-circle"></i>
                        ÙˆØ§ØªØ³Ø§Ø¨
                    </button>
                    <button onclick="shareOnTelegram()" class="share-btn telegram">
                        <i data-lucide="send"></i>
                        ØªÙŠÙ„ÙŠØ¬Ø±Ø§Ù…
                    </button>
                </div>

                <button onclick="verifyShare()" class="share-verify w-full mt-4" id="verifyShareBtn">
                    <i data-lucide="check-circle" class="inline w-5 h-5 ml-2"></i>
                    ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
                </button>
            </div>

            <div class="glass-card rounded-xl p-4">
                <h3 class="text-lg font-bold text-white mb-3 flex items-center gap-2">
                    <i data-lucide="info" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    ÙƒÙŠÙÙŠØ© Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©
                </h3>
                <ul class="space-y-2">
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #00ff88;">1.</span>
                        Ø§Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù„Ø¹Ø¨Ø©: https://xo-arena-1.github.io/XO-Arena/
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #00ff88;">2.</span>
                        Ø´Ø§Ø±Ùƒ Ø§Ù„Ø±Ø§Ø¨Ø· Ù…Ø¹ 20 Ø´Ø®Øµ Ø¹Ø¨Ø± ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªÙˆØ§ØµÙ„
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #00ff88;">3.</span>
                        Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ "ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©" Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">ðŸ’¡</span>
                        Ø§Ù„Ù…ÙƒØ§ÙØ£Ø©: 100,000 XP (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·)
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- SETTINGS PAGE -->
    <div id="page-settings" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1>
            </div>

            <!-- Music Player in Settings -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="music" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰
                </h2>
                <div class="music-player">
                    <div class="music-controls">
                        <button onclick="previousSong()" class="music-btn">
                            <i data-lucide="skip-back"></i>
                        </button>
                        <button onclick="toggleMusic()" id="musicToggleBtnSettings" class="music-btn">
                            <i data-lucide="play"></i>
                        </button>
                        <button onclick="nextSong()" class="music-btn">
                            <i data-lucide="skip-forward"></i>
                        </button>
                    </div>
                    <select id="musicSelectSettings" class="music-select" onchange="changeSong(this.value)">
                        <option value="0">Without Me - Eminem</option>
                        <option value="1">Believer - Imagine Dragons</option>
                        <option value="2">B3teny leh - Ziad Zaza</option>
                        <option value="3">Superman - Eminem</option>
                        <option value="4">Billie Jean - Michael Jackson</option>
                        <option value="5">Sing For The Moment - Eminem</option>
                        <option value="6">Cleanin Out My Closet - Eminem</option>
                        <option value="7">Big Mafia - Marwan Moussa</option>
                        <option value="8">Karma - Marwan Pablo</option>
                        <option value="9">Mockingbird - Eminem</option>
                        <option value="10">The Real Slim Shady - Eminem</option>
                        <option value="11">Lovely - Billie Eilish</option>
                        <option value="12">MOONLIGHT - XXXTentacion</option>
                        <option value="13">Dorak Gai - Wegz</option>
                        <option value="14">Birds of a Feather - Billie Eilish</option>
                        <option value="15">3alam kadaba - Lege Cy</option>
                        <option value="16">The Fate of Ophelia - Taylor Swift</option>
                        <option value="17">Gabolna Hkoma - Ziad Zaza</option>
                        <option value="18">Stan - Eminem</option>
                        <option value="19">Godzilla - Eminem</option>
                    </select>
                    <div id="nowPlayingSettings" class="now-playing">ØºÙŠØ± Ù…Ø´ØºÙ„Ø©</div>
                </div>
            </div>

            <!-- Ad Removal Section (Ø¬Ø¯ÙŠØ¯) -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="tv" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
                </h2>
                <button onclick="purchaseAdRemoval()" class="w-full p-4 rounded-xl flex items-center justify-between" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color);">
                    <div class="flex items-center gap-3">
                        <i data-lucide="eye-off" style="color: #ffd700;"></i>
                        <span>Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹</span>
                    </div>
                    <span style="color: #ffd700;">200,000 XP</span>
                </button>
                <div id="adStatusSettings" class="text-sm mt-2 text-center" style="color: var(--text-secondary);">Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙØ¹Ù„Ø©</div>
            </div>

            <!-- Play As -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="gamepad-2" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    Ø§Ù„Ø¹Ø¨ ÙƒÙ€
                </h2>
                <div class="flex gap-4">
                    <button id="play-as-x" onclick="setPlayAs('X')" class="flex-1 py-4 rounded-xl font-bold text-2xl transition-all" style="background: rgba(0, 212, 255, 0.1); border: 2px solid var(--accent-color); color: var(--accent-color);">X</button>
                    <button id="play-as-o" onclick="setPlayAs('O')" class="flex-1 py-4 rounded-xl font-bold text-2xl transition-all" style="background: rgba(255,255,255,0.02); border: 2px solid rgba(255,255,255,0.1); color: var(--text-secondary);">O</button>
                </div>
            </div>

            <!-- Themes -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="palette" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    Ø§Ù„Ø«ÙŠÙ…Ø§Øª
                </h2>
                <div id="themes-container" class="grid grid-cols-2 gap-3"></div>
            </div>

            <!-- Language -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="languages" class="w-5 h-5" style="color: var(--accent-color);"></i>
                    Ø§Ù„Ù„ØºØ©
                </h2>
                <select class="w-full p-3 rounded-lg" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color); color: var(--text-primary);">
                    <option value="ar" selected>Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
                    <option value="en">English</option>
                    <option value="fr">FranÃ§ais</option>
                </select>
            </div>

            <!-- Secret Codes -->
            <div class="glass-card rounded-xl p-4 mb-4">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="key" class="w-5 h-5" style="color: #a855f7;"></i>
                    Ø§Ù„Ø£ÙƒÙˆØ§Ø¯ Ø§Ù„Ø³Ø±ÙŠØ©
                </h2>
                <div class="flex gap-2">
                    <input type="text" id="secret-code-input" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙˆØ¯ Ø§Ù„Ø³Ø±ÙŠ" class="flex-1 px-4 py-3 rounded-lg focus:outline-none transition-colors" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color); color: var(--text-primary);">
                    <button onclick="activateSecretCode()" class="px-4 py-3 rounded-lg font-bold transition-all hover:scale-105" style="background: #a855f7; color: white;">ØªÙØ¹ÙŠÙ„</button>
                </div>
            </div>

            <!-- Danger Zone -->
            <div class="rounded-xl p-4" style="background: rgba(255, 51, 102, 0.1); border: 1px solid rgba(255, 51, 102, 0.3);">
                <h2 class="text-lg font-bold mb-4 flex items-center gap-2" style="color: var(--accent-secondary);">
                    <i data-lucide="alert-triangle" class="w-5 h-5"></i>
                    Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø®Ø·Ø±
                </h2>
                <button onclick="resetProgress()" class="w-full px-4 py-3 rounded-xl flex items-center justify-center gap-2 transition-all hover:scale-102" style="background: rgba(255, 51, 102, 0.2); color: var(--accent-secondary); border: 1px solid var(--accent-secondary);">
                    <i data-lucide="trash-2" class="w-4 h-4"></i>
                    Ø­Ø°Ù Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„
                </button>
            </div>
        </div>
    </div>

    <!-- CHALLENGES PAGE -->
    <div id="page-challenges" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª</h1>
            </div>
            <div id="challenges-container" class="space-y-4"></div>
        </div>
    </div>

    <!-- ABOUT PAGE -->
    <div id="page-about" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø¹Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-4 mb-6 overflow-hidden">
                <div class="w-full h-64 rounded-xl flex items-center justify-center" style="background: linear-gradient(145deg, var(--bg-tertiary), var(--bg-secondary)); border: 2px dashed var(--accent-color);">
                    <img src="https://files.catbox.moe/f28twh.png" alt="Eclipse Games Logo" class="w-full h-full object-cover rounded-xl">
                </div>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <div class="text-center mb-6">
                    <div class="text-6xl font-display font-bold mb-2" style="color: var(--accent-color);">XO</div>
                    <div class="text-xl" style="color: var(--text-secondary);">Dark Edition</div>
                </div>
                
                <h2 class="text-2xl font-bold mb-4" style="color: var(--accent-color);">Ù…Ù† Ù†Ø­Ù†ØŸ - Ù‚ØµØ© Eclipse Games</h2>
                
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    <strong>Eclipse Games</strong> Ù‡Ùˆ ÙØ±ÙŠÙ‚ ØªØ·ÙˆÙŠØ± Ø£Ù„Ø¹Ø§Ø¨ Ø¹Ø±Ø¨ÙŠ Ù…Ø³ØªÙ‚Ù„ØŒ ØªØ£Ø³Ø³ ÙÙŠ 2023 Ø¨Ù‡Ø¯Ù ØªÙ‚Ø¯ÙŠÙ… Ø£Ù„Ø¹Ø§Ø¨ Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ø¬ÙˆØ¯Ø© Ù„Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©. Ù†Ø­Ù† Ù†Ø¤Ù…Ù† Ø¨Ø£Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø¹Ø±Ø¨ÙŠ ÙŠØ³ØªØ­Ù‚ ØªØ¬Ø§Ø±Ø¨ Ù„Ø¹Ø¨ Ø§Ø­ØªØ±Ø§ÙÙŠØ© ØªÙ†Ø§ÙØ³ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©ØŒ Ù„ÙƒÙ† Ø¨Ø·Ø§Ø¨Ø¹ Ø¹Ø±Ø¨ÙŠ Ø£ØµÙŠÙ„ ÙˆÙ„ØºØ© Ø¹Ø±Ø¨ÙŠØ© Ø³Ù„ÙŠÙ…Ø©.
                </p>
                
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    <strong>XO Arena Dark Edition</strong> Ù‡Ùˆ Ø£ÙˆÙ„ Ù…Ø´Ø§Ø±ÙŠØ¹Ù†Ø§ØŒ ÙˆÙ‚Ø¯ Ø¹Ù…Ù„Ù†Ø§ Ø¹Ù„ÙŠÙ‡ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 6 Ø£Ø´Ù‡Ø± Ù„Ø¶Ù…Ø§Ù† Ø£ÙØ¶Ù„ ØªØ¬Ø±Ø¨Ø© Ù…Ù…ÙƒÙ†Ø©. Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„ÙŠØ³Øª Ù…Ø¬Ø±Ø¯ Ù†Ø³Ø®Ø© Ù…ÙƒØ±Ø±Ø© Ù…Ù† Ø£Ù„Ø¹Ø§Ø¨ Ø¥ÙƒØ³ Ø£Ùˆ Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØ©ØŒ Ø¨Ù„ Ù‡ÙŠ Ù…Ù†ØµØ© Ù…ØªÙƒØ§Ù…Ù„Ø© ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ù†Ø¸Ø§Ù… ØªØ·ÙˆØ± ÙˆÙ…ÙƒØ§ÙØ¢Øª ÙˆØ¥Ù†Ø¬Ø§Ø²Ø§Øª ÙˆÙ†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£ÙƒØ«Ø± ØªØ´ÙˆÙŠÙ‚Ø§Ù‹ ÙˆØ¥Ø¯Ù…Ø§Ù†Ø§Ù‹.
                </p>

                <h3 class="text-lg font-bold text-white mb-3 mt-4">Ø±Ø¤ÙŠØªÙ†Ø§</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø³Ø¹Ù‰ Ù„Ø£Ù† Ù†ÙƒÙˆÙ† Ø§Ù„Ù…Ù†ØµØ© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø¥Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø¨Ø³ÙŠØ·Ø© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø¹Ø±Ø¨ÙŠØŒ ÙˆØ£Ù† Ù†Ø®Ù„Ù‚ Ù…Ø¬ØªÙ…Ø¹Ø§Ù‹ Ù…Ù† Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…ØªÙ…ÙŠØ²ÙŠÙ† Ø§Ù„Ø°ÙŠÙ† ÙŠØ´Ø§Ø±ÙƒÙˆÙ†Ù†Ø§ Ø´ØºÙ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙˆØ§Ù„ØªØ­Ø¯ÙŠ.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">Ø±Ø³Ø§Ù„ØªÙ†Ø§</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    ØªÙ‚Ø¯ÙŠÙ… Ø£Ù„Ø¹Ø§Ø¨ ØªØ¬Ù…Ø¹ Ø¨ÙŠÙ† Ø§Ù„Ù…ØªØ¹Ø© ÙˆØ§Ù„ÙØ§Ø¦Ø¯Ø©ØŒ ØªÙ†Ù…ÙŠ Ø§Ù„Ø°ÙƒØ§Ø¡ ÙˆØ§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØŒ ÙˆØªÙƒÙˆÙ† ÙÙŠ Ù…ØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ø¬Ù…ÙŠØ¹ Ù…Ø¬Ø§Ù†Ø§Ù‹.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„</h3>
                <div class="grid grid-cols-2 gap-4 mt-4">
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="w-20 h-20 rounded-full mx-auto mb-2" style="background: var(--accent-color); opacity: 0.5;"></div>
                        <div class="font-bold" style="color: var(--text-primary);">Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ù…Ø·ÙˆØ± Ø±Ø¦ÙŠØ³ÙŠ</div>
                    </div>
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="w-20 h-20 rounded-full mx-auto mb-2" style="background: var(--accent-secondary); opacity: 0.5;"></div>
                        <div class="font-bold" style="color: var(--text-primary);">Ø³Ø§Ø±Ø© Ø¹Ù„ÙŠ</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ù…ØµÙ…Ù…Ø© ÙˆØ§Ø¬Ù‡Ø§Øª</div>
                    </div>
                </div>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <h2 class="text-xl font-bold text-white mb-4">Ø¢Ø®Ø± Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª</h2>
                <div class="space-y-3">
                    <div class="p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-xs px-2 py-0.5 rounded-full" style="background: #00ff88; color: black;">v5.0</span>
                            <span class="text-xs" style="color: var(--text-secondary);">10 Ù…Ø§Ø±Ø³ 2026</span>
                        </div>
                        <p style="color: var(--text-primary);">Ø¥Ø¶Ø§ÙØ© Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„ (Ø£ØµØ¯Ù‚Ø§Ø¡ - Matchmaking - Division)</p>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-xs px-2 py-0.5 rounded-full" style="background: #00ff88; color: black;">v4.0</span>
                            <span class="text-xs" style="color: var(--text-secondary);">1 Ù…Ø§Ø±Ø³ 2026</span>
                        </div>
                        <p style="color: var(--text-primary);">Ø¥Ø¶Ø§ÙØ© Ø·ÙˆØ± Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„ØªÙƒÙŠÙÙŠ ÙˆÙ…ÙŠØ²Ø© VAR ÙˆÙ†Ø¸Ø§Ù… Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</p>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                        <div class="flex items-center gap-2 mb-1">
                            <span class="text-xs px-2 py-0.5 rounded-full" style="background: #00ff88; color: black;">v3.0</span>
                            <span class="text-xs" style="color: var(--text-secondary);">1 ÙØ¨Ø±Ø§ÙŠØ± 2026</span>
                        </div>
                        <p style="color: var(--text-primary);">Ø¥Ø¶Ø§ÙØ© Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ù…Ø¹ 10 Ù…Ø³ØªÙˆÙŠØ§Øª ÙˆÙ…ÙƒØ§ÙØ¢Øª Ø£Ø³Ø·ÙˆØ±ÙŠØ©</p>
                    </div>
                </div>
            </div>

            <div class="glass-card rounded-2xl p-6">
                <h2 class="text-xl font-bold text-white mb-4">XO Arena ÙÙŠ Ø£Ø±Ù‚Ø§Ù…</h2>
                <div class="grid grid-cols-2 gap-4">
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="text-3xl font-bold" style="color: #00ff88;">10k+</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ù…Ø¨Ø§Ø±Ø§Ø© Ù„Ø¹Ø¨Øª</div>
                    </div>
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="text-3xl font-bold" style="color: #ffd700;">5k+</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ù„Ø§Ø¹Ø¨ Ù†Ø´Ø·</div>
                    </div>
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="text-3xl font-bold" style="color: #a855f7;">40+</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ø³ÙƒÙ†</div>
                    </div>
                    <div class="text-center p-4 rounded-xl" style="background: rgba(0,0,0,0.3);">
                        <div class="text-3xl font-bold" style="color: #ff3366;">21</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ø¥Ø·Ø§Ø±</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- PRIVACY PAGE -->
    <div id="page-privacy" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <p class="mb-4 text-sm" style="color: var(--text-secondary);">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 20 ÙŠÙ†Ø§ÙŠØ± 2026</p>
                
                <h2 class="text-xl font-bold text-white mb-4">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ù„Ù€ XO Arena</h2>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø­Ù† ÙÙŠ <strong>Eclipse Games</strong> (Ù…Ù† Ø®Ù„Ø§Ù„ Ù„Ø¹Ø¨Ø© XO Arena) Ù†Ø­ØªØ±Ù… Ø®ØµÙˆØµÙŠØªÙƒ ÙˆÙ†Ù„ØªØ²Ù… Ø¨Ø­Ù…Ø§ÙŠØ© Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ø´Ø®ØµÙŠØ©. ØªÙˆØ¶Ø­ Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø³Ø© ÙƒÙŠÙÙŠØ© ØªØ¹Ø§Ù…Ù„Ù†Ø§ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">1. Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ¬Ù…Ø¹ Ø¨Ø¹Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ© Ù„ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ø¹Ø¨Ø± Firebase Authentication Ùˆ Firestore. Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ØªØ´Ù…Ù„: Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)ØŒ ÙˆØ¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨Ø© (Ø§Ù„Ù†Ù‚Ø§Ø·ØŒ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ØŒ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†ØŒ Ø§Ù„ÙÙˆØ²/Ø§Ù„Ø®Ø³Ø§Ø±Ø©). ÙŠØªÙ… ØªØ®Ø²ÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù„Ù‰ Ø®ÙˆØ§Ø¯Ù… Firebase Ø§Ù„Ø¢Ù…Ù†Ø©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">2. Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· (Cookies)</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø³ØªØ®Ø¯Ù… Firebase Authentication Ø§Ù„Ø°ÙŠ Ù‚Ø¯ ÙŠØ³ØªØ®Ø¯Ù… Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ø±ØªØ¨Ø§Ø· Ù„ØªØ³Ù‡ÙŠÙ„ Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. ÙÙŠ Ø­Ø§Ù„ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Google AdSense ÙÙŠ Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ØŒ Ù‚Ø¯ ØªØ³ØªØ®Ø¯Ù… Google Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ø±ØªØ¨Ø§Ø· Ù„Ø¹Ø±Ø¶ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø®ØµØµØ© ÙˆÙÙ‚Ø§Ù‹ Ù„Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">3. Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    ÙÙŠ Ø­Ø§Ù„ ØªÙØ¹ÙŠÙ„ Google AdSenseØŒ Ù‚Ø¯ ØªØ¬Ù…Ø¹ Google Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ø¹ÙŠÙ†Ø© Ø¹Ù† Ø²ÙŠØ§Ø±ØªÙƒ Ù…Ø«Ù„:
                </p>
                <ul class="list-disc mr-6 mb-4 space-y-1" style="color: var(--text-primary);">
                    <li>Ù†ÙˆØ¹ Ø§Ù„Ù…ØªØµÙØ­</li>
                    <li>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ´ØºÙŠÙ„</li>
                    <li>Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ (Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¯ÙˆÙ„Ø©)</li>
                    <li>Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ØªØ²ÙˆØ±Ù‡Ø§</li>
                </ul>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø²ÙŠØ¯ Ø¹Ù† Ø³ÙŠØ§Ø³Ø© Ø®ØµÙˆØµÙŠØ© Google Ù…Ù† Ø®Ù„Ø§Ù„ <a href="https://policies.google.com/privacy" target="_blank" style="color: var(--accent-color);">Ù‡Ø°Ø§ Ø§Ù„Ø±Ø§Ø¨Ø·</a>.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">4. Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†ÙˆÙØ± Ø±ÙˆØ§Ø¨Ø· Ù„Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù†Ø§ (ÙÙŠØ³Ø¨ÙˆÙƒØŒ Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…ØŒ ÙŠÙˆØªÙŠÙˆØ¨ØŒ ØªÙŠÙƒ ØªÙˆÙƒ). Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø±ÙˆØ§Ø¨Ø·ØŒ Ù‚Ø¯ ØªØ¬Ù…Ø¹ ØªÙ„Ùƒ Ø§Ù„Ù…Ù†ØµØ§Øª Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆÙÙ‚Ø§Ù‹ Ù„Ø³ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ø§.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">5. Ø­Ù‚ÙˆÙ‚Ùƒ</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù„Ø¯ÙŠÙƒ Ø§Ù„Ø­Ù‚ Ø§Ù„ÙƒØ§Ù…Ù„ ÙÙŠ:
                </p>
                <ul class="list-disc mr-6 mb-4 space-y-1" style="color: var(--text-primary);">
                    <li>Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ø§Ù„Ù…Ø®Ø²Ù†Ø© Ø¹Ù„Ù‰ Firebase</li>
                    <li>ØªØµØ­ÙŠØ­ Ø£ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª ØºÙŠØ± Ø¯Ù‚ÙŠÙ‚Ø©</li>
                    <li>Ø­Ø°Ù Ø­Ø³Ø§Ø¨Ùƒ ÙˆØ¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ (Ø±Ø§Ø³Ù„Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ)</li>
                    <li>Ø±ÙØ¶ Ù…Ù„ÙØ§Øª ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø§Ø±ØªØ¨Ø§Ø· Ù…Ù† Ø®Ù„Ø§Ù„ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…ØªØµÙØ­</li>
                </ul>

                <h3 class="text-lg font-bold text-white mb-3">6. Ø§Ù„Ø£Ù…Ø§Ù†</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù…ÙˆÙ‚Ø¹Ù†Ø§ ÙŠØ³ØªØ®Ø¯Ù… Ø´Ù‡Ø§Ø¯Ø© SSL Ù…Ù† Netlify Ù„ØªØ£Ù…ÙŠÙ† Ø§Ù„Ø§ØªØµØ§Ù„. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ù‚ÙˆÙ„Ø© Ø¨ÙŠÙ† Ù…ØªØµÙØ­Ùƒ ÙˆØ®ÙˆØ§Ø¯Ù… Firebase Ù…Ø´ÙØ±Ø©. Ù†Ø³ØªØ®Ø¯Ù… Firestore Rules Ù„Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆÙ…Ù†Ø¹ Ø§Ù„ÙˆØµÙˆÙ„ ØºÙŠØ± Ø§Ù„Ù…ØµØ±Ø­ Ø¨Ù‡.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">7. Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø¹Ù„Ù‰ Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù‚Ø¯ Ù†Ù‚ÙˆÙ… Ø¨ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ù‡ Ø§Ù„Ø³ÙŠØ§Ø³Ø© Ù…Ù† ÙˆÙ‚Øª Ù„Ø¢Ø®Ø±. Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ø´Ø¹Ø§Ø±Ùƒ Ø¨Ø£ÙŠ ØªØºÙŠÙŠØ±Ø§Øª Ø¬ÙˆÙ‡Ø±ÙŠØ© Ù…Ù† Ø®Ù„Ø§Ù„ ØªØ­Ø¯ÙŠØ« ØªØ§Ø±ÙŠØ® "Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«" ÙÙŠ Ø£Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">8. Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h3>
                <p class="leading-relaxed" style="color: var(--text-primary);">
                    Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØ¹Ù„Ù‚Ø© Ø¨Ø§Ù„Ø®ØµÙˆØµÙŠØ©ØŒ ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ø¨Ø±:
                </p>
                <div class="mt-2 p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                    <p><strong style="color: var(--accent-color);">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="mailto:eclipsegames1cloud@gmail.com" style="color: var(--text-primary);">eclipsegames1cloud@gmail.com</a></p>
                    <p class="mt-2"><strong style="color: var(--accent-color);">Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„:</strong></p>
                    <div class="flex gap-3 mt-1">
                        <a href="https://www.facebook.com/share/185REmNQT7/" target="_blank" style="color: #1877f2;">ÙÙŠØ³Ø¨ÙˆÙƒ</a>
                        <a href="https://www.instagram.com/eclipse1_games" target="_blank" style="color: #e4405f;">Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…</a>
                        <a href="https://youtube.com/@eclipsegames-u4l" target="_blank" style="color: #ff0000;">ÙŠÙˆØªÙŠÙˆØ¨</a>
                        <a href="https://www.tiktok.com/@eclipse.games1" target="_blank" style="color: #000000;">ØªÙŠÙƒ ØªÙˆÙƒ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- TERMS PAGE -->
    <div id="page-terms" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø´Ø±ÙˆØ· Ø§Ù„Ø®Ø¯Ù…Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <p class="mb-4 text-sm" style="color: var(--text-secondary);">Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: 20 ÙŠÙ†Ø§ÙŠØ± 2026</p>
                
                <h2 class="text-xl font-bold text-white mb-4">Ø´Ø±ÙˆØ· Ø§Ø³ØªØ®Ø¯Ø§Ù… XO Arena</h2>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ XO Arena. Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø©ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·. ÙŠØ±Ø¬Ù‰ Ù‚Ø±Ø§Ø¡ØªÙ‡Ø§ Ø¨Ø¹Ù†Ø§ÙŠØ©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">1. Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø´Ø±ÙˆØ·</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù„Ø¹Ø¨Ø©ØŒ ÙØ¥Ù†Ùƒ ØªÙ‚Ø± Ø¨Ø£Ù†Ùƒ Ù‚Ø±Ø£Øª ÙˆÙÙ‡Ù…Øª ÙˆØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·. Ø¥Ø°Ø§ ÙƒÙ†Øª Ù„Ø§ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·ØŒ ÙŠØ±Ø¬Ù‰ Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">2. Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ©</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø¬Ù…ÙŠØ¹ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø§Ù„ÙÙƒØ±ÙŠØ© Ù„Ù„Ø¹Ø¨Ø© (Ø¨Ù…Ø§ ÙÙŠ Ø°Ù„Ùƒ Ø§Ù„ØªØµÙ…ÙŠÙ…ØŒ Ø§Ù„ÙƒÙˆØ¯ØŒ Ø§Ù„Ø±Ø³ÙˆÙ…Ø§ØªØŒ Ø§Ù„Ø£ØµÙˆØ§Øª) Ù…Ø­ÙÙˆØ¸Ø© Ù„ØµØ§Ù„Ø­ <strong>Eclipse Games</strong>. Ù„Ø§ ÙŠÙØ³Ù…Ø­ Ø¨Ù†Ø³Ø® Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ²ÙŠØ¹ Ø£ÙŠ Ø¬Ø²Ø¡ Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¯ÙˆÙ† Ø¥Ø°Ù† ÙƒØªØ§Ø¨ÙŠ ØµØ±ÙŠØ­.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">3. Ø³Ù„ÙˆÙƒ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø¹Ù†Ø¯ Ø§Ø³ØªØ®Ø¯Ø§Ù…Ùƒ Ù„Ù„Ø¹Ø¨Ø©ØŒ ÙØ¥Ù†Ùƒ ØªÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰:
                </p>
                <ul class="list-disc mr-6 mb-4 space-y-1" style="color: var(--text-primary);">
                    <li>Ø¹Ø¯Ù… Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ø®ØªØ±Ø§Ù‚ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£Ùˆ ØªØ¹Ø¯ÙŠÙ„Ù‡Ø§</li>
                    <li>Ø¹Ø¯Ù… Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ø£ÙŠ Ø£ØºØ±Ø§Ø¶ ØºÙŠØ± Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©</li>
                    <li>Ø¹Ø¯Ù… Ù…Ø­Ø§ÙˆÙ„Ø© ØªØ¹Ø·ÙŠÙ„ Ø£Ùˆ Ø¥Ø³Ø§Ø¡Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª</li>
                    <li>Ø§Ø­ØªØ±Ø§Ù… Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† ÙÙŠ Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</li>
                    <li>Ø¹Ø¯Ù… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ø¸Ø±</li>
                </ul>

                <h3 class="text-lg font-bold text-white mb-3">4. Ø§Ù„Ù…Ø­ØªÙˆÙ‰</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø§Ù„Ù„Ø¹Ø¨Ø© Ù‚Ø¯ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±ÙˆØ§Ø¨Ø· Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø®Ø§Ø±Ø¬ÙŠØ© (Ù…Ø«Ù„ Ù…Ù†ØµØ§Øª Ø§Ù„ØªÙˆØ§ØµÙ„ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ). Ù†Ø­Ù† Ù„Ø³Ù†Ø§ Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø¹Ù† Ù…Ø­ØªÙˆÙ‰ Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø£Ùˆ Ù…Ù…Ø§Ø±Ø³Ø§Øª Ø§Ù„Ø®ØµÙˆØµÙŠØ© Ø§Ù„Ø®Ø§ØµØ© Ø¨Ù‡Ø§.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">5. Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø­Ù† Ù†Ø­ØªÙØ¸ Ø¨Ø§Ù„Ø­Ù‚ ÙÙŠ ØªØ¹Ø¯ÙŠÙ„ Ø£Ùˆ ØªØ­Ø¯ÙŠØ« Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ· ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª. Ø³Ù†Ù‚ÙˆÙ… Ø¨Ø¥Ø´Ø¹Ø§Ø±Ùƒ Ø¨Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø© Ù…Ù† Ø®Ù„Ø§Ù„ ØªØ­Ø¯ÙŠØ« ØªØ§Ø±ÙŠØ® "Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«". Ø§Ø³ØªÙ…Ø±Ø§Ø±Ùƒ ÙÙŠ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¹Ø¯ Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª ÙŠØ¹Ù†ÙŠ Ù…ÙˆØ§ÙÙ‚ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">6. Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø®Ø¯Ù…Ø©</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø­Ù† Ù†Ø­ØªÙØ¸ Ø¨Ø§Ù„Ø­Ù‚ ÙÙŠ Ø¥Ù†Ù‡Ø§Ø¡ Ø£Ùˆ ØªØ¹Ù„ÙŠÙ‚ ÙˆØµÙˆÙ„Ùƒ Ø¥Ù„Ù‰ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Ø£ÙŠ ÙˆÙ‚ØªØŒ Ø¯ÙˆÙ† Ø¥Ø´Ø¹Ø§Ø± Ù…Ø³Ø¨Ù‚ØŒ Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡ÙƒØª Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">7. Ø¥Ø®Ù„Ø§Ø¡ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ù‚Ø¯Ù…Ø© "ÙƒÙ…Ø§ Ù‡ÙŠ" Ø¯ÙˆÙ† Ø£ÙŠ Ø¶Ù…Ø§Ù†Ø§Øª. Ù†Ø­Ù† Ù„Ø§ Ù†Ø¶Ù…Ù† Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø³ØªÙƒÙˆÙ† Ø®Ø§Ù„ÙŠØ© Ù…Ù† Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø£Ùˆ Ø£Ù† Ø§Ù„Ø¹Ù…Ù„ Ø¨Ù‡Ø§ Ø³ÙŠÙƒÙˆÙ† Ù…ØªÙˆØ§ØµÙ„Ø§Ù‹.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">8. Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø­Ù…Ø§ÙŠØ©</h3>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù‡Ø°Ù‡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…ØµÙ…Ù…Ø© Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„ØªØ±ÙÙŠÙ‡ÙŠ ÙÙ‚Ø·. Ù†Ø­Ù† ØºÙŠØ± Ù…Ø³Ø¤ÙˆÙ„ÙŠÙ† Ø¹Ù† Ø£ÙŠ Ø£Ø¶Ø±Ø§Ø± Ù†Ø§ØªØ¬Ø© Ø¹Ù† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">9. Ø§Ù„ØªÙˆØ§ØµÙ„</h3>
                <p class="leading-relaxed" style="color: var(--text-primary);">
                    Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª Ø¨Ø®ØµÙˆØµ Ù‡Ø°Ù‡ Ø§Ù„Ø´Ø±ÙˆØ·ØŒ ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:
                </p>
                <div class="mt-2 p-3 rounded-lg" style="background: rgba(0,0,0,0.3);">
                    <p><strong style="color: var(--accent-color);">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> <a href="mailto:eclipsegames1cloud@gmail.com" style="color: var(--text-primary);">eclipsegames1cloud@gmail.com</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- CONTACT PAGE -->
    <div id="page-contact" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§</h1>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <p class="mb-6 leading-relaxed" style="color: var(--text-primary);">
                    Ù†Ø­Ù† Ø³Ø¹Ø¯Ø§Ø¡ Ø¨ØªÙˆØ§ØµÙ„ÙƒÙ… Ù…Ø¹Ù†Ø§! ÙŠÙ…ÙƒÙ†ÙƒÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ø¹Ø¨Ø± Ø§Ù„ÙˆØ³Ø§Ø¦Ù„ Ø§Ù„ØªØ§Ù„ÙŠØ©:
                </p>

                <div class="space-y-4">
                    <a href="mailto:eclipsegames1cloud@gmail.com" class="flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-102" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: var(--accent-color);">
                            <i data-lucide="mail" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>
                            <div style="color: var(--accent-color);">eclipsegames1cloud@gmail.com</div>
                        </div>
                    </a>

                    <a href="https://www.facebook.com/share/185REmNQT7/" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-102" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: #1877f2;">
                            <i data-lucide="facebook" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white">ØµÙØ­Ø© ÙÙŠØ³Ø¨ÙˆÙƒ</div>
                            <div style="color: #1877f2;">@eclipse.games</div>
                        </div>
                    </a>

                    <a href="https://www.instagram.com/eclipse1_games" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-102" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: #e4405f;">
                            <i data-lucide="instagram" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white">Ø§Ù†Ø³ØªØ¬Ø±Ø§Ù…</div>
                            <div style="color: #e4405f;">@eclipse1_games</div>
                        </div>
                    </a>

                    <a href="https://youtube.com/@eclipsegames-u4l" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-102" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: #ff0000;">
                            <i data-lucide="youtube" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white">ÙŠÙˆØªÙŠÙˆØ¨</div>
                            <div style="color: #ff0000;">@eclipsegames-u4l</div>
                        </div>
                    </a>

                    <a href="https://www.tiktok.com/@eclipse.games1" target="_blank" rel="noopener noreferrer" class="flex items-center gap-4 p-4 rounded-xl transition-all hover:scale-102" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: #000000;">
                            <i data-lucide="music" class="w-6 h-6 text-white"></i>
                        </div>
                        <div>
                            <div class="font-bold text-white">ØªÙŠÙƒ ØªÙˆÙƒ</div>
                            <div style="color: #000000;">@eclipse.games1</div>
                        </div>
                    </a>

                    <div class="p-4 rounded-xl" style="background: rgba(0,0,0,0.3); border: 1px solid var(--border-color);">
                        <div class="font-bold text-white mb-2">Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ø±Ø¯</div>
                        <p style="color: var(--text-secondary);">Ù†Ø­Ø§ÙˆÙ„ Ø§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ Ø®Ù„Ø§Ù„ 24-48 Ø³Ø§Ø¹Ø©.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- GUIDE PAGE -->
    <div id="page-guide" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6 mb-6">
                <h2 class="text-xl font-bold text-white mb-4">ÙƒÙŠÙÙŠØ© Ø§Ù„Ù„Ø¹Ø¨</h2>
                <p class="mb-4 leading-relaxed" style="color: var(--text-primary);">
                    Ù„Ø¹Ø¨Ø© XO (Ø¥ÙƒØ³ Ø£Ùˆ) Ù‡ÙŠ Ù„Ø¹Ø¨Ø© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø¨Ø³ÙŠØ·Ø©. Ø§Ù„Ù‡Ø¯Ù Ù‡Ùˆ ÙˆØ¶Ø¹ Ø«Ù„Ø§Ø« Ø¹Ù„Ø§Ù…Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ© (Ø£ÙÙ‚ÙŠØ§Ù‹ØŒ Ø¹Ù…ÙˆØ¯ÙŠØ§Ù‹ØŒ Ø£Ùˆ Ù‚Ø·Ø±ÙŠØ§Ù‹) Ù‚Ø¨Ù„ Ø®ØµÙ…Ùƒ.
                </p>

                <h3 class="text-lg font-bold text-white mb-3">Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù„Ø¹Ø¨Ø©:</h3>
                <ul class="space-y-2 mb-6">
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: var(--accent-color);">1.</span>
                        ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù„Ø§Ø¹Ø¨ X Ø¯Ø§Ø¦Ù…Ø§Ù‹
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: var(--accent-color);">2.</span>
                        ÙŠØªÙ†Ø§ÙˆØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† Ø¹Ù„Ù‰ ÙˆØ¶Ø¹ Ø¹Ù„Ø§Ù…Ø§ØªÙ‡Ù…
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: var(--accent-color);">3.</span>
                        Ø§Ù„ÙØ§Ø¦Ø² Ù…Ù† ÙŠØ¶Ø¹ 3 Ø¹Ù„Ø§Ù…Ø§Øª Ù…ØªØªØ§Ù„ÙŠØ©
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: var(--accent-color);">4.</span>
                        Ø¥Ø°Ø§ Ø§Ù…ØªÙ„Ø£Øª Ø§Ù„Ù„ÙˆØ­Ø© Ø¨Ø¯ÙˆÙ† ÙØ§Ø¦Ø²ØŒ ØªÙƒÙˆÙ† Ù†ØªÙŠØ¬Ø© ØªØ¹Ø§Ø¯Ù„
                    </li>
                </ul>

                <h3 class="text-lg font-bold text-white mb-3">Ø§Ù„Ø£Ø·ÙˆØ§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© (Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†):</h3>
                <div class="space-y-3 mb-6">
                    <div class="p-3 rounded-lg" style="background: rgba(0, 212, 255, 0.1); border: 1px solid rgba(0, 212, 255, 0.3);">
                        <div class="font-bold" style="color: var(--accent-color);">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ø£Ù†Ø´Ø¦ ØºØ±ÙØ© ÙˆØ´Ø§Ø±Ùƒ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø¹ ØµØ¯ÙŠÙ‚Ùƒ. 5 Ø«ÙˆØ§Ù†ÙŠ Ù„ÙƒÙ„ Ø¯ÙˆØ± Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª.</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 215, 0, 0.1); border: 1px solid rgba(255, 215, 0, 0.3);">
                        <div class="font-bold" style="color: #ffd700;">Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† (XP)</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ØªØ­Ø¯Ù‘ÙŽ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¹Ø´ÙˆØ§Ø¦ÙŠÙŠÙ† ÙˆØ±Ø§Ù‡Ù† Ø¨Ù†Ù‚Ø§Ø· XP. ÙƒÙ„ Ù„Ø§Ø¹Ø¨ ÙŠØ®Ø§Ø·Ø± Ø¨Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙŠ Ø§Ø®ØªØ§Ø±Ù‡Ø§.</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 51, 102, 0.1); border: 1px solid rgba(255, 51, 102, 0.3);">
                        <div class="font-bold" style="color: var(--accent-secondary);">Ø¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ØªØ­Ø¯Ù‘ÙŽ Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù…Ù† Ù†ÙØ³ Ù…Ø³ØªÙˆØ§Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Best Of. Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ø§Ø¯Ù„ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹.</div>
                    </div>
                </div>

                <h3 class="text-lg font-bold text-white mb-3">Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„ØµØ¹ÙˆØ¨Ø©:</h3>
                <div class="space-y-3">
                    <div class="p-3 rounded-lg" style="background: rgba(0, 255, 136, 0.1); border: 1px solid rgba(0, 255, 136, 0.3);">
                        <div class="font-bold" style="color: #00ff88;">Ù…Ø¨ØªØ¯Ø¦</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ÙŠØªØ®Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø£Ø­ÙŠØ§Ù†Ø§Ù‹ - Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ†</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 215, 0, 0.1); border: 1px solid rgba(255, 215, 0, 0.3);">
                        <div class="font-bold" style="color: #ffd700;">Ù…ØªÙˆØ³Ø·</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„ØµØ¯ ÙˆØ§Ù„Ù‡Ø¬ÙˆÙ… - ØªØ­Ø¯Ù Ù…ØªÙˆØ§Ø²Ù†</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 107, 53, 0.1); border: 1px solid rgba(255, 107, 53, 0.3);">
                        <div class="font-bold" style="color: #ff6b35;">ØµØ¹Ø¨</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ÙŠØ³ØªØ®Ø¯Ù… Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© - ÙÙƒØ± Ø¬ÙŠØ¯Ø§Ù‹</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(255, 51, 102, 0.1); border: 1px solid rgba(255, 51, 102, 0.3);">
                        <div class="font-bold" style="color: var(--accent-secondary);">Ø¹Ø¨Ù‚Ø±ÙŠ</div>
                        <div class="text-sm" style="color: var(--text-secondary);">Ù„Ø§ ÙŠÙÙ‡Ø²Ù… ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹! - ØªØ­Ø¯Ù Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ù„Ù…Ø­ØªØ±ÙÙŠÙ†</div>
                    </div>
                    <div class="p-3 rounded-lg" style="background: rgba(168, 85, 247, 0.1); border: 1px solid rgba(168, 85, 247, 0.3);">
                        <div class="font-bold" style="color: #a855f7;">ØªÙƒÙŠÙÙŠ</div>
                        <div class="text-sm" style="color: var(--text-secondary);">ÙŠØªÙƒÙŠÙ Ù…Ø¹ Ù…Ø³ØªÙˆØ§Ùƒ ÙˆÙŠØªØ¹Ù„Ù… Ù…Ù† ØªØ­Ø±ÙƒØ§ØªÙƒ - ØªØ­Ø¯Ù Ø°ÙƒÙŠ</div>
                    </div>
                </div>

                <h3 class="text-lg font-bold text-white mb-3 mt-6">Ù†Ø¸Ø§Ù… Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ§Ù„Ù…ÙƒØ§ÙØ¢Øª:</h3>
                <ul class="space-y-2">
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+30 XP</span> - Ø§Ù„ÙÙˆØ² Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ù…Ø¨ØªØ¯Ø¦
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+50 XP</span> - Ø§Ù„ÙÙˆØ² Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ù…ØªÙˆØ³Ø·
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+80 XP</span> - Ø§Ù„ÙÙˆØ² Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ØµØ¹Ø¨
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+150 XP</span> - Ø§Ù„ÙÙˆØ² Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+100 XP</span> - Ø§Ù„ÙÙˆØ² Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ ØªÙƒÙŠÙÙŠ
                    </li>
                    <li class="flex items-start gap-2" style="color: var(--text-primary);">
                        <span style="color: #ffd700;">+15 XP</span> - Ø§Ù„ØªØ¹Ø§Ø¯Ù„
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- BLOG PAGE -->
    <div id="page-blog" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('home')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</h1>
            </div>

            <div class="space-y-4">
                <div class="glass-card rounded-2xl p-6">
                    <h2 class="text-xl font-bold text-white mb-2">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„ÙÙˆØ² ÙÙŠ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ</h2>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 15 ÙŠÙ†Ø§ÙŠØ± 2024 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                    <p class="mb-3" style="color: var(--text-primary);">Ù‡Ù„ ØªØ±ÙŠØ¯ Ø£Ù† ØªØµØ¨Ø­ Ù…Ø­ØªØ±ÙØ§Ù‹ ÙÙŠ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£ÙˆØŸ Ø¥Ù„ÙŠÙƒ 7 Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ø³Ø±ÙŠØ© Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§ Ø§Ù„Ø£Ø¨Ø·Ø§Ù„ Ø§Ù„Ù…Ø­ØªØ±ÙÙˆÙ† Ù„Ù„ÙÙˆØ² ÙÙŠ ÙƒÙ„ Ù…Ø±Ø© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹...</p>
                    <button onclick="navigateTo('article1')" class="text-sm hover:underline" style="color: var(--accent-color);">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h2 class="text-xl font-bold text-white mb-2">ÙƒÙŠÙ ØªØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ ÙÙŠ 5 Ø®Ø·ÙˆØ§Øª ÙÙ‚Ø·</h2>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 10 ÙŠÙ†Ø§ÙŠØ± 2024 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                    <p class="mb-3" style="color: var(--text-primary);">Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ Ù‡Ùˆ Ø£ØµØ¹Ø¨ Ù…Ø³ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©. Ù„ÙƒÙ† Ù…Ø¹ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„ØµØ­ÙŠØ­Ø©ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙÙˆØ². Ø§ØªØ¨Ø¹ Ù‡Ø°Ù‡ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø®Ù…Ø³...</p>
                    <button onclick="navigateTo('article2')" class="text-sm hover:underline" style="color: var(--accent-color);">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h2 class="text-xl font-bold text-white mb-2">10 ÙÙˆØ§Ø¦Ø¯ Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ø¹Ø¨ Ø¥ÙƒØ³ Ø£Ùˆ Ù„ØµØ­Ø© Ø§Ù„Ø¯Ù…Ø§Øº</h2>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 5 ÙŠÙ†Ø§ÙŠØ± 2024 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                    <p class="mb-3" style="color: var(--text-primary);">Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ ØªØ­Ø³Ù† Ø§Ù„Ø°Ø§ÙƒØ±Ø© ÙˆØªÙ‚ÙˆÙŠ Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØªØ²ÙŠØ¯ Ù…Ù† Ù†Ø³Ø¨Ø© Ø§Ù„Ø°ÙƒØ§Ø¡ØŸ Ø§ÙƒØªØ´Ù Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¹Ù„Ù…ÙŠØ© Ø§Ù„Ù…Ø°Ù‡Ù„Ø©...</p>
                    <button onclick="navigateTo('article3')" class="text-sm hover:underline" style="color: var(--accent-color);">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                </div>

                <div class="glass-card rounded-2xl p-6">
                    <h2 class="text-xl font-bold text-white mb-2">ØªØ§Ø±ÙŠØ® Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ: Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ø¨Ø¯ Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø±Ù‚Ù…ÙŠ</h2>
                    <p class="text-sm mb-3" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 28 Ø¯ÙŠØ³Ù…Ø¨Ø± 2023 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                    <p class="mb-3" style="color: var(--text-primary);">Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ø£Ù‚Ø¯Ù… Ù†Ø³Ø®Ø© Ù…Ù† Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ ÙˆØ¬Ø¯Øª ÙÙŠ Ù…Ø¹Ø¨Ø¯ Ù…ØµØ±ÙŠ Ø¹Ù…Ø±Ù‡ 3500 Ø³Ù†Ø©ØŸ Ø±Ø­Ù„Ø© Ø¹Ø¨Ø± ØªØ§Ø±ÙŠØ® Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¹Ø±ÙŠÙ‚Ø©...</p>
                    <button onclick="navigateTo('article4')" class="text-sm hover:underline" style="color: var(--accent-color);">Ø§Ù‚Ø±Ø£ Ø§Ù„Ù…Ø²ÙŠØ¯</button>
                </div>
            </div>
        </div>
    </div>

    <!-- ARTICLE 1 PAGE -->
    <div id="page-article1" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('blog')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6">
                <h2 class="text-2xl font-bold text-white mb-2">Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…ØªÙ‚Ø¯Ù…Ø© Ù„Ù„ÙÙˆØ² ÙÙŠ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ</h2>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 15 ÙŠÙ†Ø§ÙŠØ± 2026 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                
                <p class="mb-3" style="color: var(--text-primary);">Ù„Ø¹Ø¨Ø© XO Ù‚Ø¯ ØªØ¨Ø¯Ùˆ Ø¨Ø³ÙŠØ·Ø©ØŒ Ù„ÙƒÙ†Ù‡Ø§ ØªØ®ÙÙŠ Ø¹Ù…Ù‚Ø§Ù‹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹. ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ù‚Ø§Ù„ØŒ Ø³Ù†ÙƒØ´Ù Ù„Ùƒ Ø¹Ù† Ø£Ø³Ø±Ø§Ø± Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ù…Ø­ØªØ±ÙÙŠÙ†:</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">1. Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ² Ø£ÙˆÙ„Ø§Ù‹</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ù…Ø±ÙƒØ² (Ø§Ù„Ø®Ø§Ù†Ø© 4) Ù‡ÙŠ Ø£Ù‚ÙˆÙ‰ Ø®Ø§Ù†Ø© ÙÙŠ Ø§Ù„Ù„ÙˆØ­Ø©. Ø¥Ø°Ø§ Ø¨Ø¯Ø£Øª Ø§Ù„Ù„Ø¹Ø¨Ø©ØŒ Ø­Ø§ÙˆÙ„ Ø£Ø®Ø° Ø§Ù„Ù…Ø±ÙƒØ². Ù‡Ø°Ø§ ÙŠÙ…Ù†Ø­Ùƒ 4 Ø®Ø·ÙˆØ· ÙÙˆØ² Ù…Ø­ØªÙ…Ù„Ø© (Ø£ÙÙ‚ÙŠØŒ Ø¹Ù…ÙˆØ¯ÙŠØŒ ÙˆÙ‚Ø·Ø±ÙŠÙŠÙ†). Ø¥Ø­ØµØ§Ø¦ÙŠØ§Ù‹ØŒ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø°ÙŠ ÙŠØ³ÙŠØ·Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ² ÙŠÙÙˆØ² Ø¨Ù†Ø³Ø¨Ø© 70% Ù…Ù† Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">2. Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¥Ø°Ø§ Ø£Ø®Ø° Ø§Ù„Ø®ØµÙ… Ø§Ù„Ù…Ø±ÙƒØ²ØŒ Ù„Ø§ ØªÙ‚Ù„Ù‚. Ø£ÙØ¶Ù„ Ø±Ø¯ Ù‡Ùˆ Ø£Ø®Ø° Ø²Ø§ÙˆÙŠØªÙŠÙ† Ù…ØªÙ‚Ø§Ø¨Ù„ØªÙŠÙ† (Ù…Ø«Ù„ 0 Ùˆ8). Ù‡Ø°Ø§ ÙŠØ®Ù„Ù‚ ÙØ±Øµ ÙÙˆØ² Ù…ØªØ¹Ø¯Ø¯Ø© ÙˆÙŠØ¬Ø¨Ø± Ø§Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ§Ø¹. Ù‡Ø°Ù‡ Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ØªØ³ØªØ®Ø¯Ù…Ù‡Ø§ Ø§Ù„Ø°ÙƒØ§Ø¡Ø§Øª Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠØ© Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">3. Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø© Ù‡ÙŠ Ø¹Ù†Ø¯Ù…Ø§ ØªØ®Ù„Ù‚ ÙØ±ØµØªÙŠÙ† Ù„Ù„ÙÙˆØ² ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª. Ø§Ù„Ø®ØµÙ… Ù„Ø§ ÙŠØ³ØªØ·ÙŠØ¹ ØµØ¯ ÙƒÙ„Ø§Ù‡Ù…Ø§. Ù…Ø«Ø§Ù„: Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ X ÙÙŠ Ø§Ù„Ø®Ø§Ù†ØªÙŠÙ† 0 Ùˆ4ØŒ ÙˆØ¶Ø¹Øª X ÙÙŠ Ø§Ù„Ø®Ø§Ù†Ø© 8ØŒ ÙØ³ØªÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ ÙØ±Øµ ÙÙˆØ² (0,4,8) Ùˆ (2,4,6). Ù‡Ø°Ø§ Ù‡Ùˆ Ù…ÙØªØ§Ø­ Ø§Ù„ÙÙˆØ² ÙÙŠ Ø§Ù„Ù…Ø³ØªÙˆÙŠØ§Øª Ø§Ù„Ø¹Ù„ÙŠØ§.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">4. Ø§Ù„Ø¯ÙØ§Ø¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ù„Ø§ ØªØ±ÙƒØ² ÙÙ‚Ø· Ø¹Ù„Ù‰ Ø®Ø· ÙˆØ§Ø­Ø¯. Ø§Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø©. ÙÙŠ Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ø­ÙŠØ§Ù†ØŒ Ø£ÙØ¶Ù„ Ø¯ÙØ§Ø¹ Ù‡Ùˆ Ø§Ù„Ù‡Ø¬ÙˆÙ… - Ø®Ù„Ù‚ ÙØ±ØµÙƒ Ø§Ù„Ø®Ø§ØµØ© ÙŠØ¬Ø¨Ø± Ø§Ù„Ø®ØµÙ… Ø¹Ù„Ù‰ Ø§Ù„Ø¯ÙØ§Ø¹ Ø¹Ù† Ù†ÙØ³Ù‡ Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù…Ù‡Ø§Ø¬Ù…ØªÙƒ.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">5. ØªØ­Ù„ÙŠÙ„ Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø®ØµÙ…</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¹Ù†Ø¯Ù…Ø§ ØªÙ„Ø¹Ø¨ Ø¶Ø¯ Ø®ØµÙ… Ø­Ù‚ÙŠÙ‚ÙŠØŒ Ø­Ø§ÙˆÙ„ ØªØ­Ù„ÙŠÙ„ Ø£Ø³Ù„ÙˆØ¨Ù‡. Ø¨Ø¹Ø¶ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙŠÙØ¶Ù„ÙˆÙ† Ø§Ù„Ø²ÙˆØ§ÙŠØ§ØŒ ÙˆØ¢Ø®Ø±ÙˆÙ† ÙŠÙØ¶Ù„ÙˆÙ† Ø§Ù„Ø­ÙˆØ§Ù. Ø§Ø³ØªØºÙ„ Ù‡Ø°Ø§ Ù„ØµØ§Ù„Ø­Ùƒ.</p>
                
                <p class="mt-4 p-3 rounded-lg" style="background: rgba(0, 212, 255, 0.1); color: var(--text-primary);">
                    <strong>ØªØ°ÙƒØ±:</strong> Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø© Ø§Ù„Ù…Ø³ØªÙ…Ø±Ø© Ù‡ÙŠ Ù…ÙØªØ§Ø­ Ø§Ù„Ø¥ØªÙ‚Ø§Ù†. Ø¬Ø±Ø¨ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Øª Ù…Ø®ØªÙ„ÙØ© ÙˆØ´Ø§Ù‡Ø¯ Ù…Ø§ ÙŠÙ†Ø§Ø³Ø¨ Ø£Ø³Ù„ÙˆØ¨ Ù„Ø¹Ø¨Ùƒ.
                </p>
            </div>
        </div>
    </div>

    <!-- ARTICLE 2 PAGE -->
    <div id="page-article2" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('blog')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">Ù‚Ù‡Ø± Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6">
                <h2 class="text-2xl font-bold text-white mb-2">ÙƒÙŠÙ ØªØªÙÙˆÙ‚ Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ ÙÙŠ 5 Ø®Ø·ÙˆØ§Øª ÙÙ‚Ø·</h2>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 10 ÙŠÙ†Ø§ÙŠØ± 2026 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                
                <p class="mb-3" style="color: var(--text-primary);">Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ Ù‡Ùˆ Ø£ØµØ¹Ø¨ Ù…Ø³ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø©. Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ÙŠØ­Ù„Ù„ ÙƒÙ„ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª ÙˆÙ„Ø§ ÙŠØ®Ø·Ø¦ ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹. Ù„ÙƒÙ† Ù…Ø¹ Ø§Ù„ØµØ¨Ø± ÙˆØ§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ©ØŒ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙÙˆØ²:</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù…Ø±ÙƒØ² Ø¯Ø§Ø¦Ù…Ø§Ù‹</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¥Ø°Ø§ ÙƒÙ†Øª XØŒ Ø§Ø¨Ø¯Ø£ Ø¨Ø§Ù„Ù…Ø±ÙƒØ² Ø¯Ø§Ø¦Ù…Ø§Ù‹. Ø¥Ø°Ø§ ÙƒÙ†Øª O ÙˆØ§Ù„Ø®ØµÙ… Ø£Ø®Ø° Ø§Ù„Ù…Ø±ÙƒØ²ØŒ Ø®Ø° Ø²Ø§ÙˆÙŠØ© (ÙŠÙØ¶Ù„ 0 Ø£Ùˆ 2 Ø£Ùˆ 6 Ø£Ùˆ 8).</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„ØªØ¹Ø§Ø¯Ù„ Ø£ÙˆÙ„Ø§Ù‹</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¶Ø¯ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠØŒ Ø§Ù„ØªØ¹Ø§Ø¯Ù„ ÙŠØ¹ØªØ¨Ø± Ø¥Ù†Ø¬Ø§Ø²Ø§Ù‹. Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø¹Ø¯Ù… Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø£ÙˆÙ„Ø§Ù‹ØŒ Ø«Ù… Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ù„Ù„ÙÙˆØ². Ù„Ø§ ØªØ®Ø§Ø·Ø±.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø®Ø·ÙˆØ© 3: ØªØ¬Ù†Ø¨ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠØªÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©. Ø­Ø§ÙˆÙ„ Ø£Ù† ØªÙƒÙˆÙ† ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ ÙÙŠ ØªØ­Ø±ÙƒØ§ØªÙƒ. Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ø§ØªØ¨Ø§Ø¹ Ø§Ù„Ù†Ù…Ø· Ø§Ù„ØªÙ‚Ù„ÙŠØ¯ÙŠØŒ Ø¬Ø±Ø¨ ØªØ­Ø±ÙƒØ§Øª ØªØ¨Ø¯Ùˆ ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠØ© Ø£Ø­ÙŠØ§Ù†Ø§Ù‹.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø®Ø·ÙˆØ© 4: Ø§ØµÙ†Ø¹ Ø¶ØºØ·Ø§Ù‹ Ù…Ø³ØªÙ…Ø±Ø§Ù‹</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ø¬Ø¹Ù„ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠØ¯Ø§ÙØ¹ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø®Ù„Ù‚ ØªÙ‡Ø¯ÙŠØ¯Ø§Øª Ù…Ø³ØªÙ…Ø±Ø©. ÙƒÙ„Ù…Ø§ Ø²Ø§Ø¯ Ø§Ù„Ø¶ØºØ·ØŒ Ø²Ø§Ø¯Øª ÙØ±ØµØ© Ø®Ø·Ø¦Ù‡. Ø§Ø¨Ø­Ø« Ø¹Ù† ÙØ±Øµ Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø®Ø·ÙˆØ© 5: ØªØ­Ù„ÙŠÙ„ Ø®Ø³Ø§Ø¦Ø±Ùƒ</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¨Ø¹Ø¯ ÙƒÙ„ Ø®Ø³Ø§Ø±Ø©ØŒ Ø­Ø§ÙˆÙ„ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø®Ø·Ø£ Ø§Ù„Ø°ÙŠ Ø§Ø±ØªÙƒØ¨ØªÙ‡. Ù‡Ù„ ÙƒØ§Ù† Ù‡Ù†Ø§Ùƒ ÙØ±ØµØ© Ø£ÙØ¶Ù„ØŸ Ù‡Ù„ ÙƒØ§Ù† Ø¨Ø¥Ù…ÙƒØ§Ù†Ùƒ Ù…Ù†Ø¹ ÙÙˆØ² Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±ØŸ</p>
                
                <p class="mt-4 p-3 rounded-lg" style="background: rgba(255, 51, 102, 0.1); color: var(--text-primary);">
                    <strong>Ù†ØµÙŠØ­Ø©:</strong> Ø­ØªÙ‰ Ù„Ùˆ Ø®Ø³Ø±ØªØŒ ÙƒÙ„ Ù…Ø¨Ø§Ø±Ø§Ø© ØªØ¹Ù„Ù…Ùƒ Ø´ÙŠØ¦Ø§Ù‹ Ø¬Ø¯ÙŠØ¯Ø§Ù‹. Ø§Ø³ØªÙ…Ø± ÙÙŠ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©! Ù…Ø¹ 50 Ù…Ø¨Ø§Ø±Ø§Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„ Ø¶Ø¯ Ø§Ù„Ø¹Ø¨Ù‚Ø±ÙŠØŒ Ø³ØªÙ„Ø§Ø­Ø¸ ØªØ­Ø³Ù†Ø§Ù‹ ÙƒØ¨ÙŠØ±Ø§Ù‹ ÙÙŠ Ù…Ø³ØªÙˆØ§Ùƒ.
                </p>
            </div>
        </div>
    </div>

    <!-- ARTICLE 3 PAGE -->
    <div id="page-article3" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('blog')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù„Ø¹Ø¨</h1>
            </div>

            <div class="glass-card rounded-2xl p-6">
                <h2 class="text-2xl font-bold text-white mb-2">10 ÙÙˆØ§Ø¦Ø¯ Ù…Ø°Ù‡Ù„Ø© Ù„Ù„Ø¹Ø¨ Ø¥ÙƒØ³ Ø£Ùˆ Ù„ØµØ­Ø© Ø§Ù„Ø¯Ù…Ø§Øº</h2>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 5 ÙŠÙ†Ø§ÙŠØ± 2026 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                
                <p class="mb-3" style="color: var(--text-primary);">Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ù„Ø¹Ø¨ Ø¥ÙƒØ³ Ø£Ùˆ Ù„ÙŠØ³ Ù…Ø¬Ø±Ø¯ ØªØ³Ù„ÙŠØ©ØŒ Ø¨Ù„ Ù„Ù‡ ÙÙˆØ§Ø¦Ø¯ Ø¹Ù„Ù…ÙŠØ© Ù…Ø«Ø¨ØªØ© Ù„Ù„Ø¯Ù…Ø§ØºØŸ Ø¥Ù„ÙŠÙƒ 10 ÙÙˆØ§Ø¦Ø¯:</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">1. ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù…Ùƒ Ø§Ù„ØªÙÙƒÙŠØ± Ø¨Ø¹Ø¯Ø© Ø®Ø·ÙˆØ§Øª Ù„Ù„Ø£Ù…Ø§Ù… ÙˆØªÙˆÙ‚Ø¹ ØªØ­Ø±ÙƒØ§Øª Ø§Ù„Ø®ØµÙ…ØŒ ÙˆÙ‡ÙŠ Ù…Ù‡Ø§Ø±Ø© Ø­ÙŠÙˆÙŠØ© ÙÙŠ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">2. ØªÙ‚ÙˆÙŠØ© Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ø§Ù„Ø¹Ø§Ù…Ù„Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">ØªØ°ÙƒØ± ØªØ­Ø±ÙƒØ§ØªÙƒ ÙˆØªØ­Ø±ÙƒØ§Øª Ø§Ù„Ø®ØµÙ… ÙŠÙ‚ÙˆÙŠ Ø§Ù„Ø°Ø§ÙƒØ±Ø© Ù‚ØµÙŠØ±Ø© Ø§Ù„Ù…Ø¯Ù‰ ÙˆÙŠØ²ÙŠØ¯ Ù…Ù† ÙƒÙØ§Ø¡Ø© Ø§Ù„Ø¯Ù…Ø§Øº.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">3. Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªØ±ÙƒÙŠØ² ÙˆØ§Ù„Ø§Ù†ØªØ¨Ø§Ù‡</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØªØ·Ù„Ø¨ ØªØ±ÙƒÙŠØ²Ø§Ù‹ Ø¹Ø§Ù„ÙŠØ§Ù‹ØŒ Ù…Ù…Ø§ ÙŠØ­Ø³Ù† Ù‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø§Ù„ØªØ±ÙƒÙŠØ² ÙÙŠ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø£Ø®Ø±Ù‰.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">4. ØªØ¹Ù„Ù… Ø§Ù„ØµØ¨Ø± ÙˆØ¶Ø¨Ø· Ø§Ù„Ù†ÙØ³</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ù„Ø¹Ø¨Ø© ØªØ¹Ù„Ù…Ùƒ Ø£Ù† Ø§Ù„ØªØ³Ø±Ø¹ ÙŠØ¤Ø¯ÙŠ Ù„Ù„Ø®Ø³Ø§Ø±Ø©ØŒ ÙˆØ§Ù„ØµØ¨Ø± Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© ÙØ¹Ø§Ù„Ø© Ù„Ù„ÙÙˆØ².</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">5. ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØªØ± ÙˆØ§Ù„Ù‚Ù„Ù‚</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ø´ÙƒÙ„Ø§Ù‹ Ù…Ù† Ø£Ø´ÙƒØ§Ù„ Ø§Ù„ØªØ£Ù…Ù„ØŒ Ù…Ù…Ø§ ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªÙˆØªØ± ÙˆÙŠØ­Ø³Ù† Ø§Ù„Ù…Ø²Ø§Ø¬.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">6. ØªØ­Ø³ÙŠÙ† Ø³Ø±Ø¹Ø© Ø§Ù„Ø¨Ø¯ÙŠÙ‡Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">ÙƒÙ„Ù…Ø§ Ù„Ø¹Ø¨Øª Ø£ÙƒØ«Ø±ØŒ Ø²Ø§Ø¯Øª Ø³Ø±Ø¹Ø© Ø±Ø¯ÙˆØ¯ Ø£ÙØ¹Ø§Ù„Ùƒ ÙˆÙ‚Ø¯Ø±ØªÙƒ Ø¹Ù„Ù‰ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø±ÙŠØ¹Ø©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">7. ØªØ¹Ø²ÙŠØ² Ø§Ù„Ø«Ù‚Ø© Ø¨Ø§Ù„Ù†ÙØ³</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„ÙÙˆØ² ÙÙŠ Ø§Ù„Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ø§Ù„ØµØ¹Ø¨Ø© ÙŠÙ…Ù†Ø­Ùƒ Ø´Ø¹ÙˆØ±Ø§Ù‹ Ø¨Ø§Ù„Ø¥Ù†Ø¬Ø§Ø² ÙˆÙŠØ¹Ø²Ø² Ø«Ù‚ØªÙƒ Ø¨Ù†ÙØ³Ùƒ.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">8. ØªÙ†Ù…ÙŠØ© Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¥ÙŠØ¬Ø§Ø¯ Ø­Ù„ÙˆÙ„ Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù„Ù…ÙˆØ§Ù‚Ù Ø§Ù„ØµØ¹Ø¨Ø© ÙÙŠ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙŠÙ†Ù…ÙŠ Ø§Ù„ØªÙÙƒÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">9. ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙˆØ§Ù„Ø¹Ø§Ø¦Ù„Ø© ÙŠØ­Ø³Ù† Ø§Ù„ØªÙˆØ§ØµÙ„ ÙˆØ§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">10. ØªØ£Ø®ÙŠØ± Ø§Ù„Ø´ÙŠØ®ÙˆØ®Ø© Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø¯Ø±Ø§Ø³Ø§Øª Ø¹Ù„Ù…ÙŠØ© Ø£Ø«Ø¨ØªØª Ø£Ù† Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø°Ù‡Ù†ÙŠØ© ØªØ¤Ø®Ø± Ø¸Ù‡ÙˆØ± Ø£Ø¹Ø±Ø§Ø¶ Ø§Ù„Ø®Ø±Ù ÙˆØ§Ù„Ø²Ù‡Ø§ÙŠÙ…Ø±.</p>
                
                <p class="mt-4" style="color: var(--text-secondary);">Ø§Ù„Ø®Ù„Ø§ØµØ©: Ø§Ù„Ø¹Ø¨ Ø¨Ø§Ù†ØªØ¸Ø§Ù… Ù„ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù‡Ø°Ù‡ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ù…Ø¹ Ø§Ù„Ù…ØªØ¹Ø©! Ø­ØªÙ‰ 15 Ø¯Ù‚ÙŠÙ‚Ø© ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙƒØ§ÙÙŠØ© Ù„ØªÙ†Ø´ÙŠØ· Ø¹Ù‚Ù„Ùƒ.</p>
            </div>
        </div>
    </div>

    <!-- ARTICLE 4 PAGE -->
    <div id="page-article4" class="page flex-col items-center px-4 py-8">
        <div class="w-full max-w-lg relative z-10">
            <div class="flex items-center gap-4 mb-6">
                <button onclick="navigateTo('blog')" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                    <i data-lucide="arrow-right" class="w-6 h-6" style="color: var(--text-secondary);"></i>
                </button>
                <h1 class="text-2xl font-display font-bold" style="color: var(--accent-color);">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù„Ø¹Ø¨Ø©</h1>
            </div>

            <div class="glass-card rounded-2xl p-6">
                <h2 class="text-2xl font-bold text-white mb-2">ØªØ§Ø±ÙŠØ® Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ: Ù…Ù† Ø§Ù„Ù…Ø¹Ø§Ø¨Ø¯ Ø§Ù„Ù…ØµØ±ÙŠØ© Ø¥Ù„Ù‰ Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø±Ù‚Ù…ÙŠ</h2>
                <p class="text-sm mb-4" style="color: var(--text-secondary);">Ù†Ø´Ø± ÙÙŠ 28 Ø¯ÙŠØ³Ù…Ø¨Ø± 2023 | Ø¨ÙˆØ§Ø³Ø·Ø© Eclipse Games</p>
                
                <p class="mb-3" style="color: var(--text-primary);">Ù‡Ù„ ØªØ¹Ù„Ù… Ø£Ù† Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ ØªØ¹ØªØ¨Ø± Ù…Ù† Ø£Ù‚Ø¯Ù… Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ ÙÙŠ ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø´Ø±ÙŠØ©ØŸ</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø¨Ø¯Ø§ÙŠØ§Øª Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø£Ù‚Ø¯Ù… Ù†Ø³Ø®Ø© Ù…Ø¹Ø±ÙˆÙØ© Ù…Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ¬Ø¯Øª ÙÙŠ Ù…Ø¹Ø¨Ø¯ Ø§Ù„ÙƒØ±Ù†Ùƒ ÙÙŠ Ù…ØµØ±ØŒ ÙˆØªØ±Ø¬Ø¹ Ø¥Ù„Ù‰ Ø­ÙˆØ§Ù„ÙŠ 1300 Ù‚Ø¨Ù„ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯. ÙƒØ§Ù†Øª Ù…Ù†Ø­ÙˆØªØ© Ø¹Ù„Ù‰ Ø£Ù„ÙˆØ§Ø­ Ø­Ø¬Ø±ÙŠØ©ØŒ ÙˆÙƒØ§Ù† Ù‚Ø¯Ù…Ø§Ø¡ Ø§Ù„Ù…ØµØ±ÙŠÙŠÙ† ÙŠÙ„Ø¹Ø¨ÙˆÙ†Ù‡Ø§ ÙƒØªØ³Ù„ÙŠØ© Ù…Ù„ÙƒÙŠØ©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ø§Ù„Ø±ÙˆÙ…Ø§Ù† Ø£Ø·Ù„Ù‚ÙˆØ§ Ø¹Ù„ÙŠÙ‡Ø§ Ø§Ø³Ù… "Terni Lapilli" (Ø«Ù„Ø§Ø« Ø­ØµÙŠØ§Øª)ØŒ ÙˆÙƒØ§Ù†ÙˆØ§ ÙŠÙ„Ø¹Ø¨ÙˆÙ†Ù‡Ø§ Ø¹Ù„Ù‰ Ø´Ø¨ÙƒØ§Øª Ù…Ø±Ø³ÙˆÙ…Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ Ø£Ùˆ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù„ÙˆØ§Ø­ Ø§Ù„Ø®Ø´Ø¨ÙŠØ©. Ø§Ù†ØªØ´Ø±Øª Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠØ© Ø§Ù„Ø±ÙˆÙ…Ø§Ù†ÙŠØ©.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø¹ØµÙˆØ± Ø§Ù„ÙˆØ³Ø·Ù‰</h3>
                <p class="mb-3" style="color: var(--text-primary);">ÙÙŠ Ø£ÙˆØ±ÙˆØ¨Ø§ Ø§Ù„Ø¹ØµÙˆØ± Ø§Ù„ÙˆØ³Ø·Ù‰ØŒ Ø¹ÙØ±ÙØª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø§Ø³Ù… "Noughts and Crosses" (Ø§Ù„Ø£ØµÙØ§Ø± ÙˆØ§Ù„Ø¥ÙƒØ³Ø§Øª) ÙˆÙƒØ§Ù†Øª Ø´Ø¹Ø¨ÙŠØ© Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¨Ù„Ø§Ø¡ ÙˆØ¹Ø§Ù…Ø© Ø§Ù„Ø´Ø¹Ø¨ Ø¹Ù„Ù‰ Ø­Ø¯ Ø³ÙˆØ§Ø¡.</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø­Ø¯ÙŠØ«</h3>
                <p class="mb-3" style="color: var(--text-primary);">Ù…Ø¹ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø­ÙˆØ§Ø³ÙŠØ¨ ÙÙŠ Ø®Ù…Ø³ÙŠÙ†ÙŠØ§Øª Ø§Ù„Ù‚Ø±Ù† Ø§Ù„Ø¹Ø´Ø±ÙŠÙ†ØŒ ÙƒØ§Ù†Øª Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ù…Ù† Ø£ÙˆÙ„Ù‰ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„ØªÙŠ Ø¨Ø±Ù…Ø¬Øª Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±. ÙÙŠ Ø¹Ø§Ù… 1952ØŒ Ø·ÙˆØ± Alexander S. Douglas Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ù„Ù‰ Ø­Ø§Ø³ÙˆØ¨ EDSACØŒ Ù„ØªØµØ¨Ø­ Ø£ÙˆÙ„ Ù„Ø¹Ø¨Ø© ÙÙŠØ¯ÙŠÙˆ ÙÙŠ Ø§Ù„ØªØ§Ø±ÙŠØ®!</p>
                
                <h3 class="text-lg font-bold text-white mb-2 mt-4">Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</h3>
                <p class="mb-3" style="color: var(--text-primary);">ÙÙŠ 2019ØŒ Ø§Ø³ØªØ®Ø¯Ù… Ø¨Ø§Ø­Ø«ÙˆÙ† ÙÙŠ Ø¬Ø§Ù…Ø¹Ø© ÙƒØ§Ù…Ø¨Ø±ÙŠØ¯Ø¬ Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ§Øª ØªØ¹Ù„Ù… Ø¹Ù…ÙŠÙ‚ Ù„ØªØ·ÙˆÙŠØ± Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ø§ ÙŠÙÙ‡Ø²Ù… ÙÙŠ Ø¥ÙƒØ³ Ø£ÙˆØŒ Ù„ÙƒÙ†Ù‡Ù… Ø§ÙƒØªØ´ÙÙˆØ§ Ø£Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¥Ø°Ø§ Ù„Ø¹Ø¨Øª Ø¨Ø·Ø±ÙŠÙ‚Ø© Ù…Ø«Ø§Ù„ÙŠØ©ØŒ ØªÙ†ØªÙ‡ÙŠ Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¨Ø§Ù„ØªØ¹Ø§Ø¯Ù„!</p>
                
                <p class="mt-4 p-3 rounded-lg" style="background: rgba(0, 212, 255, 0.1); color: var(--text-primary);">
                    <strong>Ù…Ø¹Ù„ÙˆÙ…Ø©:</strong> Ø±ØºÙ… Ø£Ù† Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ù…Ø±Ù‡Ø§ Ø¢Ù„Ø§Ù Ø§Ù„Ø³Ù†ÙŠÙ†ØŒ Ø¥Ù„Ø§ Ø£Ù†Ù‡Ø§ Ù„Ø§ ØªØ²Ø§Ù„ ÙˆØ§Ø­Ø¯Ø© Ù…Ù† Ø£ÙƒØ«Ø± Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø´Ø¹Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŒ ÙˆÙŠÙ‚Ø¯Ø± Ø£Ù† 89% Ù…Ù† Ø§Ù„Ø¨Ø´Ø± Ø¬Ø±Ø¨ÙˆÙ‡Ø§ Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„.
                </p>
            </div>
        </div>
    </div>

    <!-- ========== MODALS ========== -->

    <!-- Guide Modal -->
    <div id="guide-modal-overlay" class="modal-overlay" onclick="closeGuide()"></div>
    <div id="guide-modal" class="modal-content glass-card rounded-2xl p-6 w-full max-w-md">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-xl font-display font-bold" style="color: var(--accent-color);">Ù†ØµÙŠØ­Ø© Ø§Ù„ÙŠÙˆÙ…</h2>
            <button onclick="closeGuide()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                <i data-lucide="x" class="w-5 h-5" style="color: var(--text-secondary);"></i>
            </button>
        </div>
        <p id="tip-of-day" class="mb-4 leading-relaxed" style="color: var(--text-primary);"></p>
        <button onclick="closeGuide()" class="neon-btn w-full py-3 rounded-xl font-bold" style="color: var(--text-primary);">Ø­Ø³Ù†Ø§Ù‹</button>
    </div>

    <!-- VAR Modal -->
    <div id="var-modal-overlay" class="modal-overlay" onclick="closeVAR()"></div>
    <div id="var-modal" class="modal-content var-modal glass-card">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-2xl font-display font-bold" style="color: var(--accent-color);">VAR - Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</h2>
            <button onclick="closeVAR()" class="p-2 rounded-lg hover:bg-white/10 transition-colors">
                <i data-lucide="x" class="w-6 h-6" style="color: var(--text-secondary);"></i>
            </button>
        </div>
        
        <div id="var-board" class="var-board"></div>
        
        <div class="var-controls">
            <button onclick="varPause()" id="var-pause-btn" class="var-btn">
                <i data-lucide="pause"></i>
            </button>
            <button onclick="varPrev()" class="var-btn">
                <i data-lucide="skip-back"></i>
            </button>
            <button onclick="varNext()" class="var-btn">
                <i data-lucide="skip-forward"></i>
            </button>
            <button onclick="varRestart()" class="var-btn">
                <i data-lucide="rotate-ccw"></i>
            </button>
        </div>
        
        <div id="var-timeline" class="var-timeline"></div>
        
        <div class="text-center mt-4" style="color: var(--text-secondary);">
            <span id="var-move-counter">Ø§Ù„Ø­Ø±ÙƒØ© 0 / 0</span>
        </div>
    </div>

    <!-- Division Complete Modal -->
    <div id="division-complete-overlay" class="modal-overlay" onclick="closeDivisionComplete()"></div>
    <div id="division-complete-modal" class="modal-content glass-card rounded-2xl p-8 w-full max-w-md division-complete-modal">
        <div class="division-reward-icon">
            <i data-lucide="crown"></i>
        </div>
        <h2 id="divisionCompleteTitle" class="text-3xl font-display font-bold mb-4 animate-rainbow" style="color: #ffd700;">ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!</h2>
        <p id="divisionCompleteMessage" class="text-xl mb-6" style="color: var(--text-primary);"></p>
        <div id="divisionRewards" class="mb-6 p-4 rounded-lg" style="background: rgba(255,215,0,0.1); border: 1px solid #ffd700;">
            <p class="font-bold mb-2" style="color: #ffd700;">Ø§Ù„Ù…ÙƒØ§ÙØ¢Øª:</p>
            <p id="divisionRewardText" style="color: var(--text-primary);"></p>
        </div>
        <button onclick="closeDivisionComplete()" class="neon-btn w-full py-3 rounded-xl font-bold">Ø±Ø§Ø¦Ø¹!</button>
    </div>

    <!-- ========== SCRIPTS ========== -->
    <script>
        // ==================== DATA ====================

        const SONG_URLS = [
            'https://files.catbox.moe/ltx4q6.mp3',  // Without Me
            'https://files.catbox.moe/2v21ol.mp3',  // Believer
            'https://files.catbox.moe/fx0yrj.mp3',  // B3teny leh
            'https://files.catbox.moe/2a0vpe.mp3',  // Superman
            'https://files.catbox.moe/6j6o4q.mp3',  // Billie Jean
            'https://files.catbox.moe/a2oux7.mp3',  // Sing For The Moment
            'https://files.catbox.moe/pqii3k.mp3',  // Cleanin Out My Closet
            'https://files.catbox.moe/baotd9.mp3',  // Big Mafia
            'https://files.catbox.moe/nfedgb.mp3',  // Karma
            'https://files.catbox.moe/w1dp4t.mp3',   // Mockingbird
            'https://files.catbox.moe/475aix.mp3',   // The Real Slim Shady
            'https://files.catbox.moe/hmelxy.mp3',   // Lovely
            'https://files.catbox.moe/l87rxs.m4a',   // MOONLIGHT
            'https://files.catbox.moe/xyysxv.mp3',   // Dorak Gai
            'https://files.catbox.moe/svwkl4.mp3',    // Birds of a Feather
            'https://files.catbox.moe/46t2ms.mp3',    // 3alam kadaba
            'https://files.catbox.moe/vndq8l.mp3',    // The Fate of Ophelia
            'https://files.catbox.moe/zx2276.mp3',    // Gabolna Hkoma
            'https://files.catbox.moe/yc9mt7.mp3',    // Stan
            'https://files.catbox.moe/0rtibn.mp3'     // Godzilla
        ];

        const SONG_NAMES = [
            'Without Me - Eminem',
            'Believer - Imagine Dragons',
            'B3teny leh - Ziad Zaza',
            'Superman - Eminem',
            'Billie Jean - Michael Jackson',
            'Sing For The Moment - Eminem',
            'Cleanin Out My Closet - Eminem',
            'Big Mafia - Marwan Moussa',
            'Karma - Marwan Pablo',
            'Mockingbird - Eminem',
            'The Real Slim Shady - Eminem',
            'Lovely - Billie Eilish',
            'MOONLIGHT - XXXTentacion',
            'Dorak Gai - Wegz',
            'Birds of a Feather - Billie Eilish',
            '3alam kadaba - Lege Cy',
            'The Fate of Ophelia - Taylor Swift',
            'Gabolna Hkoma - Ziad Zaza',
            'Stan - Eminem',
            'Godzilla - Eminem'
        ];

        // Ø£ÙƒÙˆØ§Ø¯ ÙÙƒ Ø§Ù„Ø­Ø¸Ø±
        const UNBAN_CODES = ['51375', '07813', '04575', '51376', '31676', '07844', '11236', '96123', '18596', '33166'];

        // ØªØ¹Ø¯ÙŠÙ„ Ø¬ÙˆØ§Ø¦Ø² Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø­Ø³Ø¨ Ø§Ù„Ø·Ù„Ø¨
        const DIVISIONS = [
            { level: 10, difficulty: 'beginner', required: 6, reward: 2500, name: 'Division 10' },
            { level: 9, difficulty: 'beginner', required: 9, reward: 2500, name: 'Division 9' },
            { level: 8, difficulty: 'beginner', required: 9, reward: 2500, name: 'Division 8' },
            { level: 7, difficulty: 'medium', required: 10, reward: 2500, name: 'Division 7' },
            { level: 6, difficulty: 'medium', required: 10, reward: 2500, name: 'Division 6' },
            { level: 5, difficulty: 'hard', required: 15, reward: 3000, name: 'Division 5' },
            { level: 4, difficulty: 'hard', required: 21, reward: 4000, name: 'Division 4' },
            { level: 3, difficulty: 'genius', required: 21, reward: 20000, name: 'Division 3' },
            { level: 2, difficulty: 'genius', required: 21, reward: 50000, name: 'Division 2' },
            { level: 1, difficulty: 'genius', required: 30, reward: 100000, name: 'Division 1' },
        ];

        // Ù†Ø¸Ø§Ù… Best Of Ù„Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø­Ø³Ø¨ Ø§Ù„Ù…Ø³ØªÙˆÙ‰
        const DIVISION_BEST_OF = {
            10: 3, 9: 3, 8: 3, 7: 3, 6: 3, // Divisions 10-6: Best of 3
            5: 5, 4: 5, // Divisions 5-4: Best of 5
            3: 8, 2: 8, 1: 8 // Divisions 3-1: Best of 8
        };

        const SKINS = [
            // Original skins
            { id: 'default', name: 'Classic Cyan', price: 0, rarity: 'common', class: 'skin-default' },
            { id: 'red', name: 'Crimson Fury', price: 10000, rarity: 'rare', class: 'skin-red' },
            { id: 'gold', name: 'Golden Legend', price: 20000, rarity: 'epic', class: 'skin-gold' },
            { id: 'purple', name: 'Cyber Void', price: 15000, rarity: 'rare', class: 'skin-purple' },
            { id: 'green', name: 'Toxic Waste', price: 12000, rarity: 'rare', class: 'skin-green' },
            { id: 'rainbow', name: 'Rainbow Master', price: 0, rarity: 'legendary', class: 'skin-rainbow', secret: true },
            
            // New Rare Skins (5000 - 15000)
            { id: 'blue-crystal', name: 'Blue Crystal', price: 8000, rarity: 'common', class: 'skin-blue-crystal' },
            { id: 'emerald', name: 'Emerald', price: 9000, rarity: 'common', class: 'skin-emerald' },
            { id: 'ruby', name: 'Ruby', price: 9500, rarity: 'common', class: 'skin-ruby' },
            { id: 'sapphire', name: 'Sapphire', price: 8500, rarity: 'common', class: 'skin-sapphire' },
            { id: 'amethyst', name: 'Amethyst', price: 8800, rarity: 'common', class: 'skin-amethyst' },
            { id: 'topaz', name: 'Topaz', price: 9200, rarity: 'common', class: 'skin-topaz' },
            
            // New Epic Skins (15000 - 40000)
            { id: 'fire', name: 'Fire Element', price: 25000, rarity: 'epic', class: 'skin-fire' },
            { id: 'ice', name: 'Ice Element', price: 25000, rarity: 'epic', class: 'skin-ice' },
            { id: 'electric', name: 'Electric', price: 27000, rarity: 'epic', class: 'skin-electric' },
            { id: 'shadow', name: 'Shadow', price: 28000, rarity: 'epic', class: 'skin-shadow' },
            { id: 'light', name: 'Light', price: 29000, rarity: 'epic', class: 'skin-light' },
            { id: 'nature', name: 'Nature', price: 26000, rarity: 'epic', class: 'skin-nature' },
            { id: 'ocean', name: 'Ocean', price: 27000, rarity: 'epic', class: 'skin-ocean' },
            { id: 'lava', name: 'Lava', price: 28000, rarity: 'epic', class: 'skin-lava' },
            
            // New Legendary Skins (40000 - 150000)
            { id: 'space', name: 'Space Galaxy', price: 80000, rarity: 'legendary', class: 'skin-space' },
            { id: 'nebula', name: 'Cosmic Nebula', price: 95000, rarity: 'legendary', class: 'skin-nebula' },
            { id: 'galaxy', name: 'Galaxy', price: 85000, rarity: 'legendary', class: 'skin-galaxy' },
            { id: 'cosmic', name: 'Cosmic', price: 90000, rarity: 'legendary', class: 'skin-cosmic' },
            { id: 'quantum', name: 'Quantum', price: 110000, rarity: 'legendary', class: 'skin-quantum' },
            { id: 'void', name: 'Void', price: 120000, rarity: 'legendary', class: 'skin-void' },
            { id: 'infinity', name: 'Infinity', price: 135000, rarity: 'legendary', class: 'skin-infinity' },
            { id: 'eternity', name: 'Eternity', price: 150000, rarity: 'legendary', class: 'skin-eternity' },
        ];

        const FRAMES = [
            { id: 'frame-default', name: 'Default Frame', price: 0, rarity: 'common', class: '', previewClass: '' },
            
            // Common Frames (5000 - 10000)
            { id: 'frame-common-1', name: 'Silver Edge', price: 5000, rarity: 'common', class: '', previewClass: 'silver-edge' },
            { id: 'frame-common-2', name: 'Bronze Edge', price: 5500, rarity: 'common', class: '', previewClass: 'bronze-edge' },
            { id: 'frame-common-3', name: 'Steel Edge', price: 6000, rarity: 'common', class: '', previewClass: 'steel-edge' },
            { id: 'frame-common-4', name: 'Iron Edge', price: 6500, rarity: 'common', class: '', previewClass: 'iron-edge' },
            
            // Rare Frames (10000 - 25000)
            { id: 'frame-rare-1', name: 'Golden Edge', price: 15000, rarity: 'rare', class: 'frame-rare', previewClass: 'golden-edge' },
            { id: 'frame-rare-2', name: 'Ruby Edge', price: 18000, rarity: 'rare', class: 'frame-rare', previewClass: 'ruby-edge' },
            { id: 'frame-rare-3', name: 'Sapphire Edge', price: 20000, rarity: 'rare', class: 'frame-rare', previewClass: 'sapphire-edge' },
            { id: 'frame-rare-4', name: 'Emerald Edge', price: 22000, rarity: 'rare', class: 'frame-rare', previewClass: 'emerald-edge' },
            { id: 'frame-rare-5', name: 'Amethyst Edge', price: 24000, rarity: 'rare', class: 'frame-rare', previewClass: 'amethyst-edge' },
            
            // Epic Frames (25000 - 60000)
            { id: 'frame-epic-1', name: 'Fire Frame', price: 35000, rarity: 'epic', class: 'frame-fire', previewClass: 'fire-frame' },
            { id: 'frame-epic-2', name: 'Ice Frame', price: 35000, rarity: 'epic', class: 'frame-ice', previewClass: 'ice-frame' },
            { id: 'frame-epic-3', name: 'Electric Frame', price: 38000, rarity: 'epic', class: 'frame-electric', previewClass: 'electric-frame' },
            { id: 'frame-epic-4', name: 'Nature Frame', price: 40000, rarity: 'epic', class: 'frame-epic', previewClass: 'nature-frame' },
            { id: 'frame-epic-5', name: 'Ocean Frame', price: 42000, rarity: 'epic', class: 'frame-epic', previewClass: 'ocean-frame' },
            { id: 'frame-epic-6', name: 'Lava Frame', price: 45000, rarity: 'epic', class: 'frame-fire', previewClass: 'lava-frame' },
            
            // Legendary Frames (60000 - 200000)
            { id: 'frame-legendary-1', name: 'Legendary Gold', price: 80000, rarity: 'legendary', class: 'frame-legendary', previewClass: 'legendary-gold' },
            { id: 'frame-legendary-2', name: 'Space Frame', price: 95000, rarity: 'legendary', class: 'frame-space', previewClass: 'space-frame' },
            { id: 'frame-legendary-3', name: 'Divine Frame', price: 110000, rarity: 'legendary', class: 'frame-legendary', previewClass: 'divine-frame' },
            { id: 'frame-legendary-4', name: 'Infinite Frame', price: 135000, rarity: 'legendary', class: 'frame-legendary', previewClass: 'infinite-frame' },
            { id: 'frame-legendary-5', name: 'Cosmic Frame', price: 150000, rarity: 'legendary', class: 'frame-space', previewClass: 'cosmic-frame' },
            { id: 'frame-division1', name: 'Division 1 Champion', price: 0, rarity: 'legendary', class: 'frame-division1', previewClass: 'division1-champion', secret: true },
        ];

        const THEMES = [
            { id: 'default', name: 'Neon Cyan', color: '#00d4ff', class: '' },
            { id: 'red', name: 'Red Inferno', color: '#ff4444', class: 'theme-red' },
            { id: 'purple', name: 'Purple Cyber', color: '#a855f7', class: 'theme-purple' },
            { id: 'green', name: 'Green Toxic', color: '#00ff88', class: 'theme-green' },
            { id: 'gold', name: 'Golden Royal', color: '#ffd700', class: 'theme-gold' },
        ];

        const LEVELS = [
            { id: 'beginner', name: 'Ù…Ø¨ØªØ¯Ø¦', desc: 'Ù„Ù„Ù…Ø¨ØªØ¯Ø¦ÙŠÙ† - Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠØªØ®Ø° Ù‚Ø±Ø§Ø±Ø§Øª Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©', color: '#00ff88', icon: 'feather' },
            { id: 'medium', name: 'Ù…ØªÙˆØ³Ø·', desc: 'ØªØ­Ø¯ÙŠ Ù…ØªÙˆØ§Ø²Ù† - Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙŠØ¯Ø§ÙØ¹ ÙˆÙŠÙ‡Ø§Ø¬Ù…', color: '#ffd700', icon: 'shield' },
            { id: 'hard', name: 'ØµØ¹Ø¨', desc: 'ÙÙƒØ± Ø¬ÙŠØ¯Ø§Ù‹ - Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ø°ÙƒÙŠ Ø¬Ø¯Ø§Ù‹', color: '#ff6b35', icon: 'brain' },
            { id: 'genius', name: 'Ø¹Ø¨Ù‚Ø±ÙŠ', desc: 'Ù…Ø³ØªØ­ÙŠÙ„ØŸ - Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± Ù„Ø§ ÙŠÙÙ‡Ø²Ù… ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹', color: '#ff3366', icon: 'skull' },
            { id: 'adaptive', name: 'ØªÙƒÙŠÙÙŠ', desc: 'ÙŠØªÙƒÙŠÙ Ù…Ø¹ Ù…Ø³ØªÙˆØ§Ùƒ ÙˆÙŠØªØ¹Ù„Ù… Ù…Ù† ØªØ­Ø±ÙƒØ§ØªÙƒ', color: '#a855f7', icon: 'cpu' },
        ];

        const ACHIEVEMENTS = [
            { id: 'first-win', title: 'Ø£ÙˆÙ„ ÙÙˆØ²', desc: 'Ø§Ø±Ø¨Ø­ Ø£ÙˆÙ„ Ù…Ø¨Ø§Ø±Ø§Ø©', xp: 50, icon: 'trophy', check: s => s.stats.wins >= 1 },
            { id: 'win-10', title: 'Ù…Ø­Ø§Ø±Ø¨', desc: 'Ø§Ø±Ø¨Ø­ 10 Ù…Ø¨Ø§Ø±ÙŠØ§Øª', xp: 200, icon: 'sword', check: s => s.stats.wins >= 10 },
            { id: 'win-50', title: 'Ø¨Ø·Ù„', desc: 'Ø§Ø±Ø¨Ø­ 50 Ù…Ø¨Ø§Ø±Ø§Ø©', xp: 500, icon: 'crown', check: s => s.stats.wins >= 50 },
            { id: 'streak-3', title: 'Ø³Ù„Ø³Ù„Ø© Ø°Ù‡Ø¨ÙŠØ©', desc: 'Ø§Ø±Ø¨Ø­ 3 Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…ØªØªØ§Ù„ÙŠØ©', xp: 100, icon: 'flame', check: s => s.stats.bestStreak >= 3 },
            { id: 'streak-5', title: 'Ù„Ø§ ÙŠÙÙ‚Ù‡Ø±', desc: 'Ø§Ø±Ø¨Ø­ 5 Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…ØªØªØ§Ù„ÙŠØ©', xp: 250, icon: 'zap', check: s => s.stats.bestStreak >= 5 },
            { id: 'genius-beaten', title: 'Ù‚Ø§Ù‡Ø± Ø§Ù„Ø¹Ø¨Ø§Ù‚Ø±Ø©', desc: 'Ø§Ù‡Ø²Ù… Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠ', xp: 500, icon: 'star', check: s => s.beatenGenius },
            { id: 'adaptive-master', title: 'Ø³ÙŠØ¯ Ø§Ù„ØªÙƒÙŠÙ', desc: 'Ø§Ù‡Ø²Ù… Ù…Ø³ØªÙˆÙ‰ ØªÙƒÙŠÙÙŠ', xp: 300, icon: 'cpu', check: s => s.beatenAdaptive },
            { id: 'matches-20', title: 'Ù…Ø®Ø¶Ø±Ù…', desc: 'Ø§Ù„Ø¹Ø¨ 20 Ù…Ø¨Ø§Ø±Ø§Ø©', xp: 100, icon: 'gamepad-2', check: s => s.stats.totalMatches >= 20 },
            { id: 'matches-100', title: 'Ø£Ø³Ø·ÙˆØ±Ø©', desc: 'Ø§Ù„Ø¹Ø¨ 100 Ù…Ø¨Ø§Ø±Ø§Ø©', xp: 1000, icon: 'award', check: s => s.stats.totalMatches >= 100 },
            { id: 'division-10', title: 'Ù…ØªØ­Ø¯ÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†', desc: 'Ø£ÙƒÙ…Ù„ Ø£ÙˆÙ„ Ø¯ÙŠÙÙŠØ¬Ù†', xp: 200, icon: 'git-branch', check: s => s.completedDivisions >= 1 },
            { id: 'division-5', title: 'Ù…Ø­Ø§Ø±Ø¨ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†', desc: 'Ø£ÙƒÙ…Ù„ 5 Ø¯ÙŠÙÙŠØ¬Ù†Ø²', xp: 500, icon: 'git-branch', check: s => s.completedDivisions >= 5 },
            { id: 'division-1', title: 'Ø£Ø³Ø·ÙˆØ±Ø© Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†', desc: 'Ø£ÙƒÙ…Ù„ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† 1', xp: 2000, icon: 'crown', check: s => s.completedDivision1 },
        ];

        const CHALLENGES = [
            { id: 'speed-demon', title: 'Ø´ÙŠØ·Ø§Ù† Ø§Ù„Ø³Ø±Ø¹Ø©', desc: 'Ø§Ù‡Ø²Ù… Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙÙŠ Ø£Ù‚Ù„ Ù…Ù† 10 Ø«ÙˆØ§Ù†ÙŠ', reward: 100, icon: 'zap' },
            { id: 'perfect-game', title: 'Ù…Ø¨Ø§Ø±Ø§Ø© Ù…Ø«Ø§Ù„ÙŠØ©', desc: 'Ø§Ø±Ø¨Ø­ Ø¨Ø¯ÙˆÙ† Ø£Ù† ÙŠØ£Ø®Ø° Ø®ØµÙ…Ùƒ Ø£ÙŠ Ø®Ø§Ù†Ø© ÙÙŠ ØµÙ', reward: 150, icon: 'target' },
            { id: 'comeback-king', title: 'Ù…Ù„Ùƒ Ø§Ù„Ø¹ÙˆØ¯Ø©', desc: 'Ø§Ø±Ø¨Ø­ Ø¨Ø¹Ø¯ Ø£Ù† ÙƒØ§Ù† Ø®ØµÙ…Ùƒ Ø¹Ù„Ù‰ ÙˆØ´Ùƒ Ø§Ù„ÙÙˆØ²', reward: 200, icon: 'rotate-ccw' },
            { id: 'division-streak', title: 'Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†', desc: 'Ø§Ø±Ø¨Ø­ 5 Ù…Ø¨Ø§Ø±ÙŠØ§Øª Ù…ØªØªØ§Ù„ÙŠØ© ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†', reward: 300, icon: 'flame' },
            { id: 'no-loss-division', title: 'Ù„Ø§ ÙŠÙ‚Ù‡Ø±', desc: 'Ø£ÙƒÙ…Ù„ Ø¯ÙŠÙÙŠØ¬Ù† Ø¨Ø¯ÙˆÙ† Ø®Ø³Ø§Ø±Ø©', reward: 500, icon: 'shield' },
        ];

        const RANKS = [
            { minXP: 0, name: 'Rookie', color: '#8892b0' },
            { minXP: 200, name: 'Fighter', color: '#00ff88' },
            { minXP: 600, name: 'Master', color: '#00d4ff' },
            { minXP: 1500, name: 'Elite', color: '#a855f7' },
            { minXP: 3000, name: 'Legend', color: '#ffd700' },
            { minXP: 6000, name: 'XO GOD', color: '#ff3366' },
            { minXP: 15000, name: 'Division Master', color: '#ffaa00' },
            { minXP: 50000, name: 'XO Immortal', color: '#ff5500' },
        ];

        const TIPS = [
            'Ø­Ø§ÙˆÙ„ Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø±ÙƒØ² (Ø§Ù„Ø®Ø§Ù†Ø© Ø§Ù„ÙˆØ³Ø·Ù‰) ÙÙŠ Ø¨Ø¯Ø§ÙŠØ© Ø§Ù„Ù„Ø¹Ø¨Ø© - Ø¥Ù†Ù‡Ø§ Ø£Ø¹Ø¸Ù… Ø®Ø§Ù†Ø© Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ§Ù‹!',
            'Ø¥Ø°Ø§ Ø¨Ø¯Ø£Øª Ø«Ø§Ù†ÙŠØ§Ù‹ØŒ Ø­Ø§ÙˆÙ„ Ø£Ø®Ø° Ø²Ø§ÙˆÙŠØ© Ù„Ù…Ù†Ø¹ Ø®ØµÙ…Ùƒ Ù…Ù† Ø§Ù„Ø³ÙŠØ·Ø±Ø©.',
            'Ø§Ø¨Ø­Ø« Ø¯Ø§Ø¦Ù…Ø§Ù‹ Ø¹Ù† ÙØ±Øµ "Ø§Ù„Ø¶Ø±Ø¨Ø© Ø§Ù„Ù…Ø²Ø¯ÙˆØ¬Ø©" - Ø®Ø·Ø§Ù† ÙÙˆØ² Ù…Ø­ØªÙ…Ù„Ø§Ù† ÙÙŠ Ù†ÙØ³ Ø§Ù„ÙˆÙ‚Øª.',
            'Ù„Ø§ ØªÙ‡Ø§Ø¬Ù… ÙÙ‚Ø· - Ø±Ø§Ù‚Ø¨ Ø®Ø·ÙˆØ· Ø§Ù„ÙÙˆØ² Ø§Ù„Ù…Ø­ØªÙ…Ù„Ø© Ù„Ø®ØµÙ…Ùƒ ÙˆØ§ØµØ¯Ù‡Ø§.',
            'Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ø£Ø±Ø¨Ø¹ Ù…Ù‡Ù…Ø© Ø¬Ø¯Ø§Ù‹ - Ø­Ø§ÙˆÙ„ Ø§Ù„Ø³ÙŠØ·Ø±Ø© Ø¹Ù„Ù‰ Ø£ÙƒØ¨Ø± Ø¹Ø¯Ø¯ Ù…Ù†Ù‡Ø§.',
            'ÙÙŠ Ù…Ø³ØªÙˆÙ‰ Ø¹Ø¨Ù‚Ø±ÙŠØŒ Ø§Ù„ØªØ¹Ø§Ø¯Ù„ ÙŠØ¹ØªØ¨Ø± Ø¥Ù†Ø¬Ø§Ø²Ø§Ù‹! Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø¹Ø¯Ù… Ø§Ù„Ø®Ø³Ø§Ø±Ø© Ø£ÙˆÙ„Ø§Ù‹.',
            'Ø§Ù„Ø·ÙˆØ± Ø§Ù„ØªÙƒÙŠÙÙŠ ÙŠØªØ¹Ù„Ù… Ù…Ù† ØªØ­Ø±ÙƒØ§ØªÙƒ - ØºÙŠØ± Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØªÙƒ Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±.',
            'Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠØ© Ø§Ù„Ù…Ø±ÙƒØ² ØªÙ…Ù†Ø­Ùƒ 4 Ø®Ø·ÙˆØ· ÙÙˆØ² Ù…Ø­ØªÙ…Ù„Ø©.',
            'Ø§Ù„Ø²ÙˆØ§ÙŠØ§ ØªÙ…Ù†Ø­Ùƒ 3 Ø®Ø·ÙˆØ· ÙÙˆØ² Ù…Ø­ØªÙ…Ù„Ø© Ù„ÙƒÙ„ Ù…Ù†Ù‡Ø§.',
            'Ø¥Ø°Ø§ Ø¨Ø¯Ø£Øª Ø¨Ø§Ù„Ù…Ø±ÙƒØ² Ø«Ù… Ø£Ø®Ø°Øª Ø²ÙˆØ§ÙŠØ§ Ù…ØªÙ‚Ø§Ø¨Ù„Ø©ØŒ ØªØ®Ù„Ù‚ ÙØ±Øµ ÙÙˆØ² Ù…ØªØ¹Ø¯Ø¯Ø©.',
            'ØªØ§Ø±ÙŠØ® Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ ÙŠØ¹ÙˆØ¯ Ù„Ø£ÙƒØ«Ø± Ù…Ù† 3000 Ø³Ù†Ø©!',
            'Ø§Ù„Ø¹Ø¨ 10 Ø¯Ù‚Ø§Ø¦Ù‚ ÙŠÙˆÙ…ÙŠØ§Ù‹ Ù„ØªØ­Ø³ÙŠÙ† ØªØ±ÙƒÙŠØ²Ùƒ ÙˆØ°Ø§ÙƒØ±ØªÙƒ.',
            'ÙÙŠ Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†ØŒ ÙƒÙ„ Ù†Ù‚Ø·Ø© Ù…Ù‡Ù…Ø©. Ù„Ø§ ØªØ®Ø§Ø·Ø± Ø¨Ø®Ø³Ø§Ø±Ø© 3 Ù†Ù‚Ø§Ø· Ø¨Ø³Ù‡ÙˆÙ„Ø©!',
            'Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† 1 ÙŠÙ…Ù†Ø­Ùƒ Ù…ÙƒØ§ÙØ£Ø© Ø£Ø³Ø·ÙˆØ±ÙŠØ© 100000 XP ÙˆØ³ÙƒÙ† Ù‚ÙˆØ³ Ù‚Ø²Ø­ ÙˆØ¥Ø·Ø§Ø± Ø£Ø³Ø·ÙˆØ±ÙŠ!',
            'Ø§Ù„Ø®Ø³Ø§Ø±Ø© ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† ØªÙƒÙ„ÙÙƒ -3 Ù†Ù‚Ø§Ø·ØŒ ÙÙƒØ± Ø¬ÙŠØ¯Ø§Ù‹ Ù‚Ø¨Ù„ ÙƒÙ„ Ø­Ø±ÙƒØ©.',
            'Ø§Ù„Ø¥Ø·Ø§Ø±Ø§Øª Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠØ© ØªØ¹Ø·ÙŠ Ù…Ø¸Ù‡Ø±Ø§Ù‹ Ù…Ù…ÙŠØ²Ø§Ù‹ Ù„Ù…Ù„ÙÙƒ Ø§Ù„Ø´Ø®ØµÙŠ.',
            'ÙÙŠ Ø·ÙˆØ± Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŒ 5 Ø«ÙˆØ§Ù†Ù ÙÙ‚Ø· Ù„ÙƒÙ„ Ø¯ÙˆØ± - ØªØ­Ø±Ùƒ Ø¨Ø³Ø±Ø¹Ø©!',
            'Ø¥Ø°Ø§ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª ÙÙŠ Ø¯ÙˆØ±ÙƒØŒ ØªØ®Ø³Ø± Ø§Ù„Ø¬ÙˆÙ„Ø© Ù…Ø¨Ø§Ø´Ø±Ø©.',
            'ÙÙŠ Ù…Ø¨Ø§Ø±ÙŠØ§Øª XPØŒ ÙƒÙ„ Ù„Ø§Ø¹Ø¨ ÙŠØ®Ø§Ø·Ø± Ø¨Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„ØªÙŠ Ø§Ø®ØªØ§Ø±Ù‡Ø§ ÙÙ‚Ø·.',
            'ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†ØŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¹Ø§Ø¯Ù„ - ÙŠØªÙ… Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬ÙˆÙ„Ø© Ø­ØªÙ‰ Ø§Ù„ÙÙˆØ².',
        ];

        // ==================== STATE ====================

        let state = {
            profileName: 'Player',
            profileImage: null,
            xp: 0,
            unlockedSkins: ['default'],
            unlockedFrames: ['frame-default'],
            currentSkin: 'default',
            currentFrame: 'frame-default',
            currentTheme: 'default',
            playAs: 'X',
            stats: { totalMatches: 0, wins: 0, losses: 0, draws: 0, winStreak: 0, bestStreak: 0 },
            achievements: [],
            beatenGenius: false,
            beatenAdaptive: false,
            dailyStreak: 0,
            lastClaimDate: null,
            soundEnabled: true,
            cookiesAccepted: false,
            
            // Online stats
            onlineStats: { matches: 0, wins: 0, losses: 0, xpEarned: 0, xpLost: 0 },
            
            // Banned system
            isBanned: false,
            unbanAttempts: 3,
            
            // Music settings
            musicEnabled: false,
            currentSong: 0,
            
            // Ad settings
            adsRemoved: false,
            lastAdTime: 0,
            adTimer: null,
            
            // Share system
            shareCount: 0,
            shareRewardClaimed: false,
            
            // Division mode
            currentDivision: 10,
            divisionPoints: 0,
            completedDivisions: 0,
            completedDivision1: false,
            
            // Game session
            gameMode: 'friend',
            difficulty: 'beginner',
            board: Array(9).fill(null),
            moveHistory: [], // for VAR
            isXNext: true,
            winner: null,
            winningLine: null,
            isComputerTurn: false,
            gameStartTime: null,
            
            // Online game state
            currentRoom: null, // room data for friends online
            currentMatch: null, // match data for online matches/division
            isHost: false,
            playerSymbol: 'X',
            opponentSymbol: 'O',
            timerSeconds: 5,
            timerInterval: null,
            timerValue: 5,
            timerActive: false,
            myTurn: false,
            disconnectedTimer: null,
            
            // Adaptive AI data
            adaptiveData: {
                matchesPlayed: 0,
                playerSkill: 0.5,
                currentDifficulty: 'beginner'
            },
            
            // Win streak for counter
            currentWinStreak: 0,
            
            // AI Progress
            aiProgress: {
                beginner: 0,
                medium: 0,
                hard: 0,
                genius: 0,
                adaptive: 0
            },
            
            // What's New modal
            hasSeenWhatsNew: false,
            
            // Logo click counter for Easter Egg
            logoClickCount: 0,
            logoTimer: null
        };

        // Firebase references (will be set after init)
        let db, auth, currentUser = null;

        // Unsubscribe functions
        let roomUnsubscribe = null;
        let matchUnsubscribe = null;

        // Audio Context
        let audioCtx = null;
        let musicAudio = null;
        let isMusicPlaying = false;

        // Win Streak Counter Element
        let winStreakElement = null;
        let winStreakValueElement = null;

        // VAR variables
        let varMoveIndex = 0;
        let varIsPlaying = false;
        let varInterval = null;

        // ==================== SETTINGS PANEL ====================

        function toggleSettingsPanel() {
            const panel = document.getElementById('settingsPanel');
            panel.classList.toggle('open');
            if (panel.classList.contains('open')) {
                playSound('click');
            }
        }

        function navigateToAndCloseSettings(pageId) {
            navigateTo(pageId);
            toggleSettingsPanel();
        }

        function openSettingsAndNavigate(pageId) {
            toggleSettingsPanel();
            setTimeout(() => navigateTo(pageId), 300);
        }

        // ==================== INIT ====================

        function init() {
            loadState();
            applyTheme(state.currentTheme);
            renderAll();
            checkDailyReward();
            showTipOfDay();
            lucide.createIcons();
            
            // Initialize win streak elements
            winStreakElement = document.getElementById('win-streak-counter');
            winStreakValueElement = document.getElementById('win-streak-value');
            
            // Show cookie consent if not accepted
            if (!state.cookiesAccepted) {
                setTimeout(() => {
                    document.getElementById('cookie-consent').classList.add('show');
                }, 1000);
            }
            
            // Update social media links with correct attributes for SEO
            updateSocialLinks();
            
            // Initialize music
            initMusic();
            
            // Load AI progress from localStorage
            loadAIProgress();
            
            // Check if banned
            if (state.isBanned) {
                showBannedModal();
            }
            
            // Show What's New modal for existing users
            if (!state.hasSeenWhatsNew && state.xp > 0) {
                setTimeout(() => {
                    showWhatsNew();
                }, 2000);
            }
        }

        function updateSocialLinks() {
            document.querySelectorAll('a[target="_blank"]').forEach(link => {
                link.setAttribute('rel', 'noopener noreferrer');
            });
        }

        function loadState() {
            const saved = localStorage.getItem('xo-arena-v5'); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥ØµØ¯Ø§Ø±
            if (saved) {
                try {
                    const parsed = JSON.parse(saved);
                    state = { ...state, ...parsed, board: Array(9).fill(null), winner: null, winningLine: null, isComputerTurn: false };
                    
                    // Ø¥Ø¶Ø§ÙØ© 10,000 XP Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù‚Ø¯Ø§Ù…Ù‰ (Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø©)
                    if (!state.hasSeenWhatsNew && state.xp > 0) {
                        state.xp += 10000;
                        showNotification('ðŸŽ‰ ØªÙ… ØªØ¹ÙˆÙŠØ¶Ùƒ 10,000 XP! Ø´ÙƒØ±Ø§Ù‹ Ù„ØµØ¨Ø±Ùƒ', 'reward');
                    }
                } catch (e) { console.error('Save corrupted'); }
            }
        }

        function saveState() {
            const toSave = {
                profileName: state.profileName,
                profileImage: state.profileImage,
                xp: state.xp,
                unlockedSkins: state.unlockedSkins,
                unlockedFrames: state.unlockedFrames,
                currentSkin: state.currentSkin,
                currentFrame: state.currentFrame,
                currentTheme: state.currentTheme,
                playAs: state.playAs,
                stats: state.stats,
                onlineStats: state.onlineStats,
                achievements: state.achievements,
                beatenGenius: state.beatenGenius,
                beatenAdaptive: state.beatenAdaptive,
                dailyStreak: state.dailyStreak,
                lastClaimDate: state.lastClaimDate,
                soundEnabled: state.soundEnabled,
                cookiesAccepted: state.cookiesAccepted,
                isBanned: state.isBanned,
                unbanAttempts: state.unbanAttempts,
                musicEnabled: state.musicEnabled,
                currentSong: state.currentSong,
                adsRemoved: state.adsRemoved,
                shareCount: state.shareCount,
                shareRewardClaimed: state.shareRewardClaimed,
                currentDivision: state.currentDivision,
                divisionPoints: state.divisionPoints,
                completedDivisions: state.completedDivisions,
                completedDivision1: state.completedDivision1,
                currentWinStreak: state.currentWinStreak,
                aiProgress: state.aiProgress,
                adaptiveData: state.adaptiveData,
                hasSeenWhatsNew: state.hasSeenWhatsNew
            };
            localStorage.setItem('xo-arena-v5', JSON.stringify(toSave));
        }

        // ==================== BANNED SYSTEM ====================

        function showBannedModal() {
            const overlay = document.getElementById('banned-modal-overlay');
            const modal = document.getElementById('banned-modal');
            overlay.classList.add('active');
            modal.classList.add('active');
        }

        function closeBannedModal() {
            if (state.isBanned) return; // Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø¥ØºÙ„Ø§Ù‚Ù‡Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø­Ø¸ÙˆØ±Ø§Ù‹
            document.getElementById('banned-modal-overlay').classList.remove('active');
            document.getElementById('banned-modal').classList.remove('active');
        }

        function attemptUnban() {
            if (state.isBanned) {
                showNotification('Ø­Ø³Ø§Ø¨Ùƒ Ù…Ø­Ø¸ÙˆØ± ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† ÙÙƒ Ø§Ù„Ø­Ø¸Ø±', 'error');
                return;
            }
            
            const code = document.getElementById('unban-code').value.trim();
            
            if (UNBAN_CODES.includes(code)) {
                // ÙƒÙˆØ¯ ØµØ­ÙŠØ­ - ÙÙƒ Ø§Ù„Ø­Ø¸Ø±
                state.isBanned = false;
                state.unbanAttempts = 3;
                saveState();
                closeBannedModal();
                showNotification('ØªÙ… ÙÙƒ Ø­Ø¸Ø± Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            } else {
                // ÙƒÙˆØ¯ Ø®Ø·Ø£
                state.unbanAttempts--;
                
                if (state.unbanAttempts <= 0) {
                    // Ø­Ø¸Ø± Ù†Ù‡Ø§Ø¦ÙŠ
                    state.isBanned = true;
                    state.unbanAttempts = 0;
                    saveState();
                    
                    // Ø¥Ø®ÙØ§Ø¡ Ø®Ø§Ù†Ø© Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„ÙƒÙˆØ¯
                    document.getElementById('unban-section').style.display = 'none';
                    
                    showNotification('ØªÙ… Ø­Ø¸Ø± Ø­Ø³Ø§Ø¨Ùƒ Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹', 'error');
                } else {
                    // ØªØ­Ø¯ÙŠØ« Ø¹Ø¯Ø¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
                    document.getElementById('unban-attempts').textContent = `Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©: ${state.unbanAttempts}`;
                    showNotification('ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­', 'error');
                }
                
                saveState();
            }
        }

        // ==================== WHAT'S NEW MODAL ====================

        function showWhatsNew() {
            const overlay = document.getElementById('whats-new-modal-overlay');
            const modal = document.getElementById('whats-new-modal');
            overlay.classList.add('active');
            modal.classList.add('active');
            
            state.hasSeenWhatsNew = true;
            saveState();
        }

        function closeWhatsNew() {
            document.getElementById('whats-new-modal-overlay').classList.remove('active');
            document.getElementById('whats-new-modal').classList.remove('active');
        }

        // ==================== COOKIES ====================

        function acceptCookies() {
            state.cookiesAccepted = true;
            saveState();
            document.getElementById('cookie-consent').classList.remove('show');
            showNotification('Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!', 'success');
        }

        function declineCookies() {
            state.cookiesAccepted = false;
            saveState();
            document.getElementById('cookie-consent').classList.remove('show');
        }

        // ==================== MUSIC SYSTEM ====================

        function initMusic() {
            musicAudio = new Audio();
            musicAudio.loop = false; // Changed to false to handle auto-play next
            
            // Add event listener for when song ends
            musicAudio.addEventListener('ended', function() {
                if (state.musicEnabled) {
                    nextSong();
                }
            });
            
            // Load saved settings
            updateMusicUI();
            
            if (state.musicEnabled) {
                playMusic();
            }
        }

        function toggleMusic() {
            state.musicEnabled = !state.musicEnabled;
            saveState();
            
            if (state.musicEnabled) {
                playMusic();
            } else {
                stopMusic();
            }
            
            updateMusicUI();
        }

        function playMusic() {
            if (musicAudio) {
                musicAudio.src = SONG_URLS[state.currentSong];
                musicAudio.play().catch(e => console.log('Autoplay prevented:', e));
                isMusicPlaying = true;
            }
        }

        function stopMusic() {
            if (musicAudio) {
                musicAudio.pause();
                isMusicPlaying = false;
            }
        }

        function nextSong() {
            state.currentSong = (state.currentSong + 1) % SONG_URLS.length;
            saveState();
            
            if (state.musicEnabled) {
                musicAudio.src = SONG_URLS[state.currentSong];
                musicAudio.play();
            }
            
            updateMusicUI();
        }

        function previousSong() {
            state.currentSong = (state.currentSong - 1 + SONG_URLS.length) % SONG_URLS.length;
            saveState();
            
            if (state.musicEnabled) {
                musicAudio.src = SONG_URLS[state.currentSong];
                musicAudio.play();
            }
            
            updateMusicUI();
        }

        function changeSong(index) {
            state.currentSong = parseInt(index);
            saveState();
            
            if (state.musicEnabled) {
                musicAudio.src = SONG_URLS[state.currentSong];
                musicAudio.play();
            }
            
            updateMusicUI();
        }

        function updateMusicUI() {
            const musicToggleBtn = document.getElementById('musicToggleBtn');
            const musicToggleBtnSettings = document.getElementById('musicToggleBtnSettings');
            const musicSelect = document.getElementById('musicSelect');
            const musicSelectSettings = document.getElementById('musicSelectSettings');
            const nowPlaying = document.getElementById('nowPlaying');
            const nowPlayingSettings = document.getElementById('nowPlayingSettings');
            
            if (musicToggleBtn) {
                musicToggleBtn.innerHTML = state.musicEnabled ? '<i data-lucide="pause"></i>' : '<i data-lucide="play"></i>';
            }
            if (musicToggleBtnSettings) {
                musicToggleBtnSettings.innerHTML = state.musicEnabled ? '<i data-lucide="pause"></i>' : '<i data-lucide="play"></i>';
            }
            
            if (musicSelect) musicSelect.value = state.currentSong;
            if (musicSelectSettings) musicSelectSettings.value = state.currentSong;
            
            const nowPlayingText = state.musicEnabled ? `ÙŠØ´ØºÙ„: ${SONG_NAMES[state.currentSong]}` : 'Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù…ØªÙˆÙ‚ÙØ©';
            if (nowPlaying) nowPlaying.textContent = nowPlayingText;
            if (nowPlayingSettings) nowPlayingSettings.textContent = nowPlayingText;
            
            lucide.createIcons();
        }

        // ==================== AUDIO ====================

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
        }

        function playSound(type) {
            if (!state.soundEnabled) return;
            initAudio();
            
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();
            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);

            switch(type) {
                case 'click':
                    oscillator.frequency.value = 800;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.1);
                    break;
                case 'win':
                    oscillator.frequency.value = 523;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.15, audioCtx.currentTime);
                    const notes = [523, 659, 784, 1047];
                    notes.forEach((freq, i) => {
                        oscillator.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.15);
                    });
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.6);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.6);
                    break;
                case 'lose':
                    oscillator.frequency.value = 200;
                    oscillator.type = 'sawtooth';
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.4);
                    break;
                case 'draw':
                    oscillator.frequency.value = 350;
                    oscillator.type = 'triangle';
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.3);
                    break;
                case 'achievement':
                    oscillator.frequency.value = 880;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.15, audioCtx.currentTime);
                    const achNotes = [880, 1100, 1320];
                    achNotes.forEach((freq, i) => {
                        oscillator.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.1);
                    });
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.4);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.4);
                    break;
                case 'hover':
                    oscillator.frequency.value = 1200;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.03, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + 0.05);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.05);
                    break;
                case 'division-up':
                    oscillator.frequency.value = 523;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.15, audioCtx.currentTime);
                    const divNotes = [523, 659, 784, 1047, 1318];
                    divNotes.forEach((freq, i) => {
                        oscillator.frequency.setValueAtTime(freq, audioCtx.currentTime + i * 0.1);
                    });
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.5);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.5);
                    break;
                case 'timer-tick':
                    oscillator.frequency.value = 800;
                    oscillator.type = 'sine';
                    gainNode.gain.setValueAtTime(0.05, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.1);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.1);
                    break;
                case 'timer-end':
                    oscillator.frequency.value = 200;
                    oscillator.type = 'sawtooth';
                    gainNode.gain.setValueAtTime(0.15, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.3);
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.3);
                    break;
            }
        }

        function toggleSound() {
            state.soundEnabled = !state.soundEnabled;
            saveState();
            updateSoundIcon();
            if (state.soundEnabled) playSound('click');
        }

        function updateSoundIcon() {
            const icon = document.querySelector('#sound-toggle-settings i');
            if (icon) {
                icon.setAttribute('data-lucide', state.soundEnabled ? 'volume-2' : 'volume-x');
                lucide.createIcons();
            }
        }

        // ==================== AD SYSTEM ====================

        function startAdTimer() {
            if (state.adsRemoved) return; // ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
            
            const interval = Math.random() * 300000 + 300000; // 5-10 Ø¯Ù‚Ø§Ø¦Ù‚ (300,000-600,000 Ù…Ù„Ù„ÙŠ Ø«Ø§Ù†ÙŠØ©)
            
            state.adTimer = setTimeout(() => {
                showAdCountdown();
            }, interval);
        }

        function showAdCountdown() {
            if (state.adsRemoved) return;
            
            let countdown = 5;
            const countdownEl = document.getElementById('ad-countdown');
            const numberEl = document.getElementById('ad-countdown-number');
            
            countdownEl.classList.remove('hidden');
            
            const interval = setInterval(() => {
                countdown--;
                numberEl.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(interval);
                    countdownEl.classList.add('hidden');
                    showAdVideo();
                }
            }, 1000);
        }

        function showAdVideo() {
            if (state.adsRemoved) return;
            
            const container = document.getElementById('ad-video-container');
            const video = document.getElementById('ad-video-player');
            
            container.classList.remove('hidden');
            video.currentTime = 0;
            video.play();
            
            video.onended = function() {
                closeAd();
                startAdTimer(); // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø¤Ù‚Øª Ø§Ù„ØªØ§Ù„ÙŠ
            };
        }

        function closeAd() {
            document.getElementById('ad-video-container').classList.add('hidden');
            document.getElementById('ad-video-player').pause();
        }

        function purchaseAdRemoval() {
            if (state.adsRemoved) {
                showNotification('Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù„ØºØ§Ø© Ø¨Ø§Ù„ÙØ¹Ù„', 'info');
                return;
            }
            
            if (state.xp >= 200000) {
                state.xp -= 200000;
                state.adsRemoved = true;
                
                if (state.adTimer) {
                    clearTimeout(state.adTimer);
                }
                
                saveState();
                updateAdStatus();
                showNotification('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù†Ù‡Ø§Ø¦ÙŠØ§Ù‹!', 'achievement');
                playSound('achievement');
            } else {
                showNotification('Ù†Ù‚Ø§Ø· XP ØºÙŠØ± ÙƒØ§ÙÙŠØ©', 'error');
            }
        }

        function updateAdStatus() {
            const status = document.getElementById('adStatus');
            const statusSettings = document.getElementById('adStatusSettings');
            
            const text = state.adsRemoved ? 'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ù„ØºØ§Ø©' : 'Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…ÙØ¹Ù„Ø©';
            if (status) status.textContent = text;
            if (statusSettings) statusSettings.textContent = text;
        }

        // ==================== SHARE SYSTEM ====================

        function shareOnFacebook() {
            const url = encodeURIComponent('https://xo-arena-1.github.io/XO-Arena/');
            const text = encodeURIComponent('ðŸŽ® Ø¬Ø±Ø¨ XO Arena - Ø£ÙØ¶Ù„ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù…ØªÙƒØ§Ù…Ù„!');
            window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');
            incrementShareCount();
        }

        function shareOnTwitter() {
            const url = encodeURIComponent('https://xo-arena-1.github.io/XO-Arena/');
            const text = encodeURIComponent('ðŸŽ® XO Arena - Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ø§Ø­ØªØ±Ø§ÙÙŠØ© Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ùˆ 5 Ù…Ø³ØªÙˆÙŠØ§Øª Ø°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ!');
            window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');
            incrementShareCount();
        }

        function shareOnWhatsApp() {
            const url = encodeURIComponent('https://xo-arena-1.github.io/XO-Arena/');
            const text = encodeURIComponent('ðŸŽ® Ø¬Ø±Ø¨ XO Arena - Ø£Ù‚ÙˆÙ‰ Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†!');
            window.open(`https://api.whatsapp.com/send?text=${text}%20${url}`, '_blank');
            incrementShareCount();
        }

        function shareOnTelegram() {
            const url = encodeURIComponent('https://xo-arena-1.github.io/XO-Arena/');
            const text = encodeURIComponent('ðŸŽ® XO Arena - Ù„Ø¹Ø¨Ø© Ø¥ÙƒØ³ Ø£Ùˆ Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†');
            window.open(`https://t.me/share/url?url=${url}&text=${text}`, '_blank');
            incrementShareCount();
        }

        function incrementShareCount() {
            if (state.shareRewardClaimed) return;
            
            state.shareCount++;
            saveState();
            
            updateShareUI();
            
            if (state.shareCount >= 20) {
                document.getElementById('verifyShareBtn').disabled = false;
            }
        }

        function verifyShare() {
            if (state.shareRewardClaimed) {
                showNotification('Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙƒØ§ÙØ£Ø© Ø¨Ø§Ù„ÙØ¹Ù„', 'info');
                return;
            }
            
            if (state.shareCount >= 20) {
                state.xp += 100000;
                state.shareRewardClaimed = true;
                saveState();
                updateShareUI();
                showNotification('ðŸŽ‰ ØªÙ… Ø¥Ø¶Ø§ÙØ© 100,000 XP! Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…Ø´Ø§Ø±ÙƒØªÙƒ', 'reward');
                playSound('achievement');
            } else {
                showNotification(`ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…Ø¹ ${20 - state.shareCount} Ø´Ø®Øµ Ø¢Ø®Ø±`, 'info');
            }
        }

        function updateShareUI() {
            const shareCount = document.getElementById('shareCount');
            const shareProgress = document.getElementById('shareProgress');
            const verifyBtn = document.getElementById('verifyShareBtn');
            
            if (shareCount) shareCount.textContent = `${state.shareCount}/20`;
            if (shareProgress) shareProgress.style.width = `${(state.shareCount / 20) * 100}%`;
            
            if (verifyBtn) {
                verifyBtn.disabled = state.shareCount < 20 || state.shareRewardClaimed;
                verifyBtn.style.opacity = state.shareCount >= 20 && !state.shareRewardClaimed ? '1' : '0.5';
            }
        }

        // ==================== NAVIGATION ====================

        function navigateTo(pageId) {
            if (state.isBanned && pageId !== 'home') {
                showBannedModal();
                return;
            }
            
            // Clean up any online subscriptions when leaving game pages
            if (pageId !== 'game' && pageId !== 'friends-online' && pageId !== 'online-matches') {
                cleanupOnlineSubscriptions();
            }
            
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            const target = document.getElementById(`page-${pageId}`);
            if (target) {
                target.classList.add('active');
                
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ ØµÙØ­Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ©
                if (pageId === 'share') {
                    updateShareUI();
                }
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¹Ø±Ø¶ Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ Ø¹Ù†Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„
                if (pageId === 'friends-online') {
                    document.getElementById('friends-online-options').style.display = 'none';
                    document.getElementById('room-display').style.display = 'none';
                }
            }
            lucide.createIcons();
            playSound('click');
        }

        function cleanupOnlineSubscriptions() {
            if (roomUnsubscribe) {
                roomUnsubscribe();
                roomUnsubscribe = null;
            }
            if (matchUnsubscribe) {
                matchUnsubscribe();
                matchUnsubscribe = null;
            }
            if (state.timerInterval) {
                clearInterval(state.timerInterval);
                state.timerInterval = null;
            }
            if (state.disconnectedTimer) {
                clearTimeout(state.disconnectedTimer);
                state.disconnectedTimer = null;
            }
            state.currentRoom = null;
            state.currentMatch = null;
        }

        // ==================== FRIENDS ONLINE FUNCTIONS ====================

        function showFriendOptions() {
            // Show options dialog
            const modal = document.createElement('div');
            modal.className = 'modal-overlay active';
            modal.onclick = () => modal.remove();
            
            const content = document.createElement('div');
            content.className = 'modal-content glass-card rounded-2xl p-6 w-full max-w-sm';
            content.onclick = (e) => e.stopPropagation();
            
            content.innerHTML = `
                <h2 class="text-2xl font-bold text-center mb-6" style="color: var(--accent-color);">Ø§Ù„Ø¹Ø¨ Ù…Ø¹ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡</h2>
                <div class="space-y-4">
                    <button onclick="navigateTo('friends-online'); this.closest('.modal-overlay').remove();" class="neon-btn w-full p-5 rounded-xl flex items-center gap-3 text-lg font-bold">
                        <i data-lucide="wifi" class="w-6 h-6" style="color: var(--accent-color);"></i>
                        <span style="color: var(--text-primary);">Friends Online</span>
                    </button>
                    <button onclick="navigateTo('friends-offline'); this.closest('.modal-overlay').remove();" class="neon-btn w-full p-5 rounded-xl flex items-center gap-3 text-lg font-bold">
                        <i data-lucide="wifi-off" class="w-6 h-6" style="color: var(--accent-secondary);"></i>
                        <span style="color: var(--text-primary);">Friends Offline</span>
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            document.body.appendChild(content);
            lucide.createIcons();
        }

        function showFriendsOnlineOptions() {
            document.getElementById('friends-online-options').style.display = 'block';
        }

        function generateRoomCode() {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let code = '';
            for (let i = 0; i < 6; i++) {
                code += chars[Math.floor(Math.random() * chars.length)];
            }
            return code;
        }

        async function createRoom() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            const roomCode = generateRoomCode();
            
            // Get user profile data
            const userDoc = await getDoc(doc(db, "users", currentUser.uid));
            const userData = userDoc.exists() ? userDoc.data() : {};
            
            const roomData = {
                roomCode,
                mode: "friends",
                hostUID: currentUser.uid,
                hostName: state.profileName || currentUser.displayName || 'Host',
                hostAvatar: state.profileImage || currentUser.photoURL || '',
                hostLevel: getLevel(state.xp),
                hostXP: state.xp,
                guestUID: null,
                guestName: null,
                guestAvatar: null,
                guestLevel: null,
                guestXP: null,
                status: "waiting",
                createdAt: new Date(),
                settings: {
                    rounds: 3,
                    timerSeconds: 5,
                    allowDraw: true,
                    soundEnabled: true,
                    hostSymbol: "X",
                    guestSymbol: "O"
                },
                scoreboard: {
                    hostWins: 0,
                    guestWins: 0,
                    draws: 0,
                    currentRound: 1
                },
                game: {
                    board: ["","","","","","","","",""],
                    turn: "X",
                    winner: null,
                    roundFinished: false
                }
            };

            try {
                await setDoc(doc(db, "rooms", roomCode), roomData);
                
                state.currentRoom = roomData;
                state.isHost = true;
                
                // Show room display
                document.getElementById('friends-online-options').style.display = 'none';
                document.getElementById('room-display').style.display = 'block';
                document.getElementById('room-code-display').textContent = roomCode;
                
                // Show host settings
                document.getElementById('room-settings-host').style.display = 'block';
                document.getElementById('room-settings-guest').style.display = 'none';
                
                // Update host info
                document.getElementById('host-name').textContent = roomData.hostName;
                document.getElementById('host-avatar').src = roomData.hostAvatar || 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3C/svg%3E';
                document.getElementById('host-level').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${roomData.hostLevel || 1}`;
                document.getElementById('host-xp').textContent = `${roomData.hostXP || 0} XP`;
                
                // Listen for room changes
                listenToRoom(roomCode);
                
                showNotification('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØºØ±ÙØ© Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                
            } catch (error) {
                console.error('Error creating room:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ØºØ±ÙØ©', 'error');
            }
        }

        async function joinRoom() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            const roomCode = document.getElementById('room-code-input').value.trim().toUpperCase();
            if (!roomCode || roomCode.length !== 6) {
                showNotification('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙˆØ¯ ØµØ­ÙŠØ­ Ù…Ù† 6 Ø£Ø­Ø±Ù', 'error');
                return;
            }

            try {
                const roomDoc = await getDoc(doc(db, "rooms", roomCode));
                
                if (!roomDoc.exists()) {
                    showNotification('Ø§Ù„ØºØ±ÙØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©', 'error');
                    return;
                }

                const roomData = roomDoc.data();
                
                if (roomData.status !== "waiting") {
                    showNotification('Ø§Ù„ØºØ±ÙØ© Ù…Ù…ØªÙ„Ø¦Ø© Ø£Ùˆ Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø¨Ø¯Ø£Øª', 'error');
                    return;
                }

                if (roomData.guestUID) {
                    showNotification('Ø§Ù„ØºØ±ÙØ© Ù…Ù…ØªÙ„Ø¦Ø© Ø¨Ø§Ù„ÙØ¹Ù„', 'error');
                    return;
                }

                // Get user profile data
                const userDoc = await getDoc(doc(db, "users", currentUser.uid));
                const userData = userDoc.exists() ? userDoc.data() : {};

                // Join the room
                await updateDoc(doc(db, "rooms", roomCode), {
                    guestUID: currentUser.uid,
                    guestName: state.profileName || currentUser.displayName || 'Guest',
                    guestAvatar: state.profileImage || currentUser.photoURL || '',
                    guestLevel: getLevel(state.xp),
                    guestXP: state.xp,
                    status: "playing"
                });

                state.currentRoom = roomData;
                state.isHost = false;
                
                // Show room display
                document.getElementById('friends-online-options').style.display = 'none';
                document.getElementById('room-display').style.display = 'block';
                document.getElementById('room-code-display').textContent = roomCode;
                
                // Show guest settings
                document.getElementById('room-settings-host').style.display = 'none';
                document.getElementById('room-settings-guest').style.display = 'block';
                
                // Update host info
                document.getElementById('host-name').textContent = roomData.hostName;
                document.getElementById('host-avatar').src = roomData.hostAvatar || 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3C/svg%3E';
                document.getElementById('host-level').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${roomData.hostLevel || 1}`;
                document.getElementById('host-xp').textContent = `${roomData.hostXP || 0} XP`;
                
                // Update guest info
                document.getElementById('guest-name').textContent = state.profileName || currentUser.displayName || 'Guest';
                document.getElementById('guest-avatar').src = state.profileImage || currentUser.photoURL || 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3C/svg%3E';
                document.getElementById('guest-level').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${getLevel(state.xp)}`;
                document.getElementById('guest-xp').textContent = `${state.xp} XP`;
                
                // Listen for room changes
                listenToRoom(roomCode);
                
                showNotification('ØªÙ… Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©!', 'success');
                
            } catch (error) {
                console.error('Error joining room:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ø§Ù„ØºØ±ÙØ©', 'error');
            }
        }

        function listenToRoom(roomCode) {
            if (roomUnsubscribe) {
                roomUnsubscribe();
            }

            roomUnsubscribe = onSnapshot(doc(db, "rooms", roomCode), (doc) => {
                if (!doc.exists()) {
                    showNotification('Ø§Ù„ØºØ±ÙØ© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©', 'error');
                    leaveRoom();
                    return;
                }

                const roomData = doc.data();
                state.currentRoom = roomData;

                // Update UI based on room data
                updateRoomUI(roomData);

                // If game started, navigate to game page
                if (roomData.status === "playing" && roomData.game && document.getElementById('page-game').classList.contains('active')) {
                    updateOnlineGameBoard(roomData);
                } else if (roomData.status === "playing" && !document.getElementById('page-game').classList.contains('active')) {
                    startOnlineGame(roomData);
                }

                // Check for opponent disconnect
                if (roomData.status === "disconnected") {
                    handleOpponentDisconnect();
                }
            });
        }

        function updateRoomUI(roomData) {
            // Update host info
            document.getElementById('host-name').textContent = roomData.hostName;
            document.getElementById('host-avatar').src = roomData.hostAvatar || 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3C/svg%3E';
            document.getElementById('host-level').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${roomData.hostLevel || 1}`;
            document.getElementById('host-xp').textContent = `${roomData.hostXP || 0} XP`;

            // Update guest info if exists
            if (roomData.guestUID) {
                document.getElementById('guest-name').textContent = roomData.guestName || 'Ø¶ÙŠÙ';
                document.getElementById('guest-avatar').src = roomData.guestAvatar || 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3C/svg%3E';
                document.getElementById('guest-level').textContent = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${roomData.guestLevel || 1}`;
                document.getElementById('guest-xp').textContent = `${roomData.guestXP || 0} XP`;
            } else {
                document.getElementById('guest-name').textContent = 'ÙŠÙ†ØªØ¸Ø±...';
                document.getElementById('guest-level').textContent = '-';
                document.getElementById('guest-xp').textContent = '-';
            }

            // Update scoreboard
            if (roomData.scoreboard) {
                document.getElementById('host-wins').textContent = roomData.scoreboard.hostWins || 0;
                document.getElementById('guest-wins').textContent = roomData.scoreboard.guestWins || 0;
                document.getElementById('draws-count').textContent = roomData.scoreboard.draws || 0;
                document.getElementById('current-round').textContent = roomData.scoreboard.currentRound || 1;
                document.getElementById('total-rounds').textContent = roomData.settings?.rounds || 3;
            }

            // Update settings UI if host
            if (state.isHost && roomData.settings) {
                document.getElementById('rounds-value').textContent = roomData.settings.rounds || 3;
                document.getElementById('timer-seconds').value = roomData.settings.timerSeconds || 5;
                document.getElementById('allow-draw').checked = roomData.settings.allowDraw !== false;
                document.getElementById('room-sound').checked = roomData.settings.soundEnabled !== false;
            }
        }

        function startOnlineGame(roomData) {
            state.gameMode = 'online-friends';
            state.isHost = (roomData.hostUID === currentUser?.uid);
            state.playerSymbol = state.isHost ? roomData.settings.hostSymbol : roomData.settings.guestSymbol;
            state.opponentSymbol = state.isHost ? roomData.settings.guestSymbol : roomData.settings.hostSymbol;
            state.timerSeconds = roomData.settings.timerSeconds || 5;
            
            navigateTo('game');
            
            // Set player names
            document.getElementById('player-x-name').textContent = state.playerSymbol === 'X' ? state.profileName : roomData.hostName;
            document.getElementById('player-o-name').textContent = state.playerSymbol === 'O' ? state.profileName : roomData.guestName;
            
            document.getElementById('gameModeIndicator').innerHTML = '<span style="color: var(--accent-color);">ØºØ±ÙØ© Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</span>';
            
            // Show timer
            document.getElementById('game-timer-container').style.display = 'flex';
            
            // Update board
            updateOnlineGameBoard(roomData);
        }

        function updateOnlineGameBoard(roomData) {
            const game = roomData.game;
            if (!game) return;

            // Update board
            for (let i = 0; i < 9; i++) {
                const cell = document.getElementById(`cell-${i}`);
                if (cell) {
                    const value = game.board[i];
                    cell.innerHTML = value ? `<span class="animate-pop-in">${value}</span>` : '';
                    cell.classList.toggle('disabled', !!value || game.winner || roomData.scoreboard.currentRound > roomData.settings.rounds);
                }
            }

            // Update turn
            state.isXNext = game.turn === 'X';
            state.myTurn = (state.playerSymbol === game.turn);
            
            // Update game status
            updateOnlineGameStatus(roomData);

            // Start timer if it's my turn
            if (state.myTurn && !game.winner && !game.roundFinished) {
                startOnlineTimer();
            } else {
                stopOnlineTimer();
            }

            // Check if round ended
            if (game.winner || game.roundFinished) {
                stopOnlineTimer();
            }
        }

        function updateOnlineGameStatus(roomData) {
            const game = roomData.game;
            const scoreboard = roomData.scoreboard;
            const statusEl = document.getElementById('game-status');

            if (game.winner) {
                const winnerName = game.winner === 'X' ? roomData.hostName : roomData.guestName;
                const color = game.winner === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                statusEl.innerHTML = `<span style="color: ${color};">ÙØ§Ø² ${winnerName} ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø©!</span>`;
            } else if (game.roundFinished && game.winner === 'draw' && roomData.settings.allowDraw) {
                statusEl.innerHTML = '<span style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„ ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø©</span>';
            } else if (scoreboard.currentRound > roomData.settings.rounds) {
                // Match ended
                const hostWins = scoreboard.hostWins;
                const guestWins = scoreboard.guestWins;
                if (hostWins > guestWins) {
                    statusEl.innerHTML = `<span style="color: var(--accent-color);">ÙØ§Ø² ${roomData.hostName} Ø¨Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©!</span>`;
                } else if (guestWins > hostWins) {
                    statusEl.innerHTML = `<span style="color: var(--accent-secondary);">ÙØ§Ø² ${roomData.guestName} Ø¨Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©!</span>`;
                } else {
                    statusEl.innerHTML = '<span style="color: var(--text-secondary);">Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø© Ø§Ù†ØªÙ‡Øª Ø¨ØªØ¹Ø§Ø¯Ù„</span>';
                }
            } else {
                const current = game.turn;
                const currentPlayer = current === 'X' ? roomData.hostName : roomData.guestName;
                const color = current === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                statusEl.innerHTML = `Ø¯ÙˆØ±: <span style="color: ${color};">${currentPlayer}</span>`;
            }
        }

        function startOnlineTimer() {
            stopOnlineTimer();

            state.timerValue = state.timerSeconds;
            updateTimerDisplay();

            state.timerInterval = setInterval(() => {
                state.timerValue--;
                updateTimerDisplay();

                if (state.timerValue <= 0) {
                    playSound('timer-end');
                    stopOnlineTimer();
                    
                    // Time's up - lose the round
                    if (state.myTurn && state.currentRoom) {
                        handleTimerTimeout();
                    }
                } else if (state.timerValue <= 3) {
                    playSound('timer-tick');
                }
            }, 1000);
        }

        function stopOnlineTimer() {
            if (state.timerInterval) {
                clearInterval(state.timerInterval);
                state.timerInterval = null;
            }
        }

        function updateTimerDisplay() {
            const timerEl = document.getElementById('game-timer-display');
            if (timerEl) {
                timerEl.textContent = state.timerValue;
                
                // Change color based on remaining time
                timerEl.classList.remove('warning', 'danger');
                if (state.timerValue <= 2) {
                    timerEl.classList.add('danger');
                } else if (state.timerValue <= 3) {
                    timerEl.classList.add('warning');
                }
            }
        }

        async function handleTimerTimeout() {
            if (!state.currentRoom || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            const roomData = state.currentRoom;

            // Determine loser (current player)
            const loserUID = currentUser.uid;
            const isHost = (roomData.hostUID === loserUID);

            // Update scoreboard
            const newScoreboard = { ...roomData.scoreboard };
            if (isHost) {
                newScoreboard.guestWins++; // Guest wins by timeout
            } else {
                newScoreboard.hostWins++; // Host wins by timeout
            }

            // Move to next round or end match
            const totalRounds = roomData.settings.rounds;
            const currentRound = newScoreboard.currentRound;

            if (currentRound >= totalRounds) {
                // Match ended
                await updateDoc(roomRef, {
                    'scoreboard': newScoreboard,
                    'status': 'finished'
                });
                
                // Calculate XP rewards
                await handleOnlineMatchEnd(roomData, newScoreboard);
                
            } else {
                // Start next round
                const newGame = {
                    board: ["","","","","","","","",""],
                    turn: currentRound % 2 === 0 ? "X" : "O", // Alternate starting player
                    winner: null,
                    roundFinished: false
                };

                await updateDoc(roomRef, {
                    'scoreboard': newScoreboard,
                    'scoreboard.currentRound': currentRound + 1,
                    'game': newGame
                });
            }
        }

        async function handleOnlineMatchEnd(roomData, scoreboard) {
            if (!currentUser) return;

            const isHost = (roomData.hostUID === currentUser.uid);
            const opponentUID = isHost ? roomData.guestUID : roomData.hostUID;
            
            // Determine winner
            const hostWins = scoreboard.hostWins;
            const guestWins = scoreboard.guestWins;
            
            let xpChange = 0;
            let opponentXpChange = 0;
            
            if (hostWins > guestWins) {
                // Host wins
                if (isHost) {
                    xpChange = 100;
                    opponentXpChange = 0;
                    state.onlineStats.wins++;
                    state.currentWinStreak++;
                    if (state.currentWinStreak > state.stats.bestStreak) {
                        state.stats.bestStreak = state.currentWinStreak;
                    }
                } else {
                    xpChange = 0;
                    opponentXpChange = 100;
                    state.onlineStats.losses++;
                    state.currentWinStreak = 0;
                }
            } else if (guestWins > hostWins) {
                // Guest wins
                if (!isHost) {
                    xpChange = 100;
                    opponentXpChange = 0;
                    state.onlineStats.wins++;
                    state.currentWinStreak++;
                    if (state.currentWinStreak > state.stats.bestStreak) {
                        state.stats.bestStreak = state.currentWinStreak;
                    }
                } else {
                    xpChange = 0;
                    opponentXpChange = 100;
                    state.onlineStats.losses++;
                    state.currentWinStreak = 0;
                }
            } else {
                // Draw
                xpChange = 50;
                opponentXpChange = 50;
                state.stats.draws++;
                state.currentWinStreak = 0;
            }

            // Update local stats
            state.stats.wins += (xpChange > 0 && xpChange < 100) ? 0 : (xpChange === 100 ? 1 : 0);
            state.stats.losses += (xpChange === 0 && opponentXpChange > 0) ? 1 : 0;
            state.stats.totalMatches++;
            state.onlineStats.matches++;
            state.xp += xpChange;

            // Update opponent's XP in Firestore (if we could)
            if (opponentUID) {
                try {
                    const opponentRef = doc(db, "users", opponentUID);
                    await updateDoc(opponentRef, {
                        xp: increment(opponentXpChange),
                        wins: increment(guestWins > hostWins ? 1 : 0),
                        losses: increment(hostWins > guestWins ? 1 : 0)
                    });
                } catch (e) {
                    console.error('Error updating opponent XP:', e);
                }
            }

            saveState();
            
            // Update win streak display
            updateWinStreak();

            // Show end game screen
            const result = {
                winner: hostWins > guestWins ? 'X' : (guestWins > hostWins ? 'O' : 'draw')
            };
            showEndGameScreen(result, xpChange);

            // Check achievements
            checkAchievements();
        }

        async function makeOnlineMove(index) {
            if (!state.currentRoom || !currentUser || !state.myTurn) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            const roomData = state.currentRoom;
            const game = roomData.game;

            // Check if move is valid
            if (game.board[index] || game.winner || game.roundFinished) return;

            // Get current player symbol
            const isHost = (roomData.hostUID === currentUser.uid);
            const playerSymbol = isHost ? roomData.settings.hostSymbol : roomData.settings.guestSymbol;
            const currentTurn = game.turn;

            if (playerSymbol !== currentTurn) return;

            // Make the move
            const newBoard = [...game.board];
            newBoard[index] = playerSymbol;

            // Check for winner
            const result = checkWinner(newBoard);
            let newGame = { ...game, board: newBoard };

            if (result) {
                // Round ended
                newGame.winner = result.winner;
                newGame.roundFinished = true;

                // Update scoreboard
                const newScoreboard = { ...roomData.scoreboard };
                if (result.winner === 'X') {
                    newScoreboard.hostWins++;
                } else if (result.winner === 'O') {
                    newScoreboard.guestWins++;
                } else if (result.winner === 'draw' && roomData.settings.allowDraw) {
                    newScoreboard.draws++;
                }

                // Check if match ended or need next round
                const totalRounds = roomData.settings.rounds;
                const currentRound = newScoreboard.currentRound;

                if (currentRound >= totalRounds) {
                    // Match ended
                    await updateDoc(roomRef, {
                        'game': newGame,
                        'scoreboard': newScoreboard,
                        'status': 'finished'
                    });
                    
                    await handleOnlineMatchEnd(roomData, newScoreboard);
                    
                } else {
                    // Start next round
                    const nextGame = {
                        board: ["","","","","","","","",""],
                        turn: currentRound % 2 === 0 ? "X" : "O", // Alternate starting player
                        winner: null,
                        roundFinished: false
                    };

                    await updateDoc(roomRef, {
                        'game': newGame,
                        'scoreboard': newScoreboard,
                        'scoreboard.currentRound': currentRound + 1,
                        'nextRound': nextGame // We'll handle this in onSnapshot
                    });
                }
            } else {
                // No winner, just update turn
                newGame.turn = playerSymbol === 'X' ? 'O' : 'X';
                await updateDoc(roomRef, { 'game': newGame });
            }

            // Stop timer
            stopOnlineTimer();
        }

        function copyRoomCode() {
            const code = document.getElementById('room-code-display').textContent;
            navigator.clipboard.writeText(code);
            showNotification('ØªÙ… Ù†Ø³Ø® Ø§Ù„ÙƒÙˆØ¯!', 'success');
        }

        function adjustRounds(delta) {
            const roundsEl = document.getElementById('rounds-value');
            let rounds = parseInt(roundsEl.textContent) + delta;
            rounds = Math.max(1, Math.min(10, rounds));
            roundsEl.textContent = rounds;
            
            updateRoomSettings({ rounds });
        }

        function updateTimerSetting(value) {
            updateRoomSettings({ timerSeconds: parseInt(value) });
        }

        function updateDrawSetting(checked) {
            updateRoomSettings({ allowDraw: checked });
        }

        function updateSoundSetting(checked) {
            updateRoomSettings({ soundEnabled: checked });
        }

        async function updateRoomSettings(settings) {
            if (!state.currentRoom || !state.isHost || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            await updateDoc(roomRef, { settings: { ...state.currentRoom.settings, ...settings } });
        }

        async function restartMatch() {
            if (!state.currentRoom || !state.isHost || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            const newGame = {
                board: ["","","","","","","","",""],
                turn: "X",
                winner: null,
                roundFinished: false
            };
            const newScoreboard = {
                hostWins: 0,
                guestWins: 0,
                draws: 0,
                currentRound: 1
            };

            await updateDoc(roomRef, {
                game: newGame,
                scoreboard: newScoreboard,
                status: "playing"
            });
        }

        async function kickPlayer() {
            if (!state.currentRoom || !state.isHost || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            await updateDoc(roomRef, {
                guestUID: null,
                guestName: null,
                guestAvatar: null,
                guestLevel: null,
                guestXP: null,
                status: "waiting"
            });
        }

        async function closeRoom() {
            if (!state.currentRoom || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            await deleteDoc(roomRef);
            
            leaveRoom();
        }

        async function leaveRoom() {
            if (state.currentRoom && currentUser) {
                // If I'm the host and there's a guest, close the room
                if (state.isHost && state.currentRoom.guestUID) {
                    await closeRoom();
                } else if (!state.isHost) {
                    // Just remove myself as guest
                    const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
                    await updateDoc(roomRef, {
                        guestUID: null,
                        guestName: null,
                        guestAvatar: null,
                        guestLevel: null,
                        guestXP: null,
                        status: "waiting"
                    });
                }
            }

            cleanupOnlineSubscriptions();
            navigateTo('home');
        }

        function handleOpponentDisconnect() {
            const overlay = document.getElementById('disconnected-overlay');
            const timerEl = document.getElementById('disconnected-timer');
            
            overlay.classList.add('show');
            
            let countdown = 5;
            timerEl.textContent = countdown;
            
            state.disconnectedTimer = setInterval(() => {
                countdown--;
                timerEl.textContent = countdown;
                
                if (countdown <= 0) {
                    clearInterval(state.disconnectedTimer);
                    overlay.classList.remove('show');
                    
                    // Award win to current player
                    if (state.currentRoom && currentUser) {
                        awardWinByDisconnect();
                    }
                }
            }, 1000);
        }

        async function awardWinByDisconnect() {
            if (!state.currentRoom || !currentUser) return;

            const roomRef = doc(db, "rooms", state.currentRoom.roomCode);
            const roomData = state.currentRoom;
            
            const isHost = (roomData.hostUID === currentUser.uid);
            
            // Update scoreboard to give win
            const newScoreboard = { ...roomData.scoreboard };
            if (isHost) {
                newScoreboard.hostWins = roomData.settings.rounds; // Host wins all rounds
            } else {
                newScoreboard.guestWins = roomData.settings.rounds; // Guest wins all rounds
            }

            await updateDoc(roomRef, {
                scoreboard: newScoreboard,
                status: 'finished'
            });

            await handleOnlineMatchEnd(roomData, newScoreboard);
        }

        // ==================== ONLINE MATCHES FUNCTIONS ====================

        function showOnlineMatches() {
            navigateTo('online-matches');
        }

        function updateXpBetValue(value) {
            document.getElementById('xp-bet-value').textContent = value;
        }

        async function joinOnlineMatchmaking() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            const xpBet = parseInt(document.getElementById('xp-bet-range').value);
            
            if (state.xp < xpBet) {
                showNotification('Ù†Ù‚Ø§Ø· XP ØºÙŠØ± ÙƒØ§ÙÙŠØ© Ù„Ù„Ù…Ø±Ø§Ù‡Ù†Ø©', 'error');
                return;
            }

            // Show queue
            document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'none';
            document.getElementById('queue-container').style.display = 'block';

            // Add to queue
            const queueRef = doc(db, "matchmakingQueue", currentUser.uid);
            
            try {
                await setDoc(queueRef, {
                    uid: currentUser.uid,
                    username: state.profileName || currentUser.displayName || 'Player',
                    avatar: state.profileImage || currentUser.photoURL || '',
                    level: getLevel(state.xp),
                    xpBet: xpBet,
                    mode: "onlineMatches",
                    createdAt: new Date()
                });

                // Listen for match found
                listenForMatch(currentUser.uid, xpBet);

            } catch (error) {
                console.error('Error joining queue:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', 'error');
                cancelMatchmaking();
            }
        }

        function listenForMatch(uid, xpBet) {
            // This will be handled by Firebase Functions or client-side polling
            // For simplicity, we'll poll every 3 seconds
            const checkInterval = setInterval(async () => {
                try {
                    // Check if there's another player in queue with similar XP
                    const queueSnapshot = await getDocs(collection(db, "matchmakingQueue"));
                    const players = [];
                    queueSnapshot.forEach(doc => {
                        if (doc.id !== uid) {
                            players.push({ id: doc.id, ...doc.data() });
                        }
                    });

                    if (players.length > 0) {
                        // Find player with closest XP bet
                        const opponent = players.reduce((prev, curr) => {
                            return (Math.abs(curr.xpBet - xpBet) < Math.abs(prev.xpBet - xpBet) ? curr : prev);
                        });

                        // Create match
                        const matchId = `${uid}_${opponent.uid}_${Date.now()}`;
                        const matchData = {
                            mode: "onlineMatches",
                            player1UID: uid,
                            player2UID: opponent.uid,
                            player1Name: state.profileName || currentUser.displayName,
                            player2Name: opponent.username,
                            player1Avatar: state.profileImage || currentUser.photoURL,
                            player2Avatar: opponent.avatar,
                            player1Level: getLevel(state.xp),
                            player2Level: opponent.level,
                            player1Bet: xpBet,
                            player2Bet: opponent.xpBet,
                            player1Symbol: "X", // Randomly assign
                            player2Symbol: "O",
                            status: "inGame",
                            createdAt: new Date(),
                            game: {
                                board: ["","","","","","","","",""],
                                turn: "X",
                                winner: null
                            },
                            timerSeconds: 5
                        };

                        await setDoc(doc(db, "matches", matchId), matchData);

                        // Remove both from queue
                        await deleteDoc(doc(db, "matchmakingQueue", uid));
                        await deleteDoc(doc(db, "matchmakingQueue", opponent.uid));

                        clearInterval(checkInterval);
                        
                        // Start match
                        state.currentMatch = matchData;
                        state.isHost = true; // First player
                        state.playerSymbol = matchData.player1Symbol;
                        state.opponentSymbol = matchData.player2Symbol;
                        state.timerSeconds = matchData.timerSeconds;
                        
                        navigateTo('game');
                        
                        // Set player names
                        document.getElementById('player-x-name').textContent = matchData.player1Name;
                        document.getElementById('player-o-name').textContent = matchData.player2Name;
                        
                        document.getElementById('gameModeIndicator').innerHTML = '<span style="color: #ffd700;">Ù…Ø¨Ø§Ø±Ø§Ø© Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† (XP)</span>';
                        
                        // Show timer
                        document.getElementById('game-timer-container').style.display = 'flex';
                        
                        // Listen for match updates
                        listenToMatch(matchId);
                        
                        // Hide queue
                        document.getElementById('queue-container').style.display = 'none';
                        document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'block';
                    }
                } catch (error) {
                    console.error('Error checking queue:', error);
                }
            }, 3000);

            // Store interval to clear on cancel
            state.matchmakingInterval = checkInterval;
        }

        function listenToMatch(matchId) {
            if (matchUnsubscribe) {
                matchUnsubscribe();
            }

            matchUnsubscribe = onSnapshot(doc(db, "matches", matchId), (doc) => {
                if (!doc.exists()) {
                    showNotification('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©', 'info');
                    navigateTo('home');
                    return;
                }

                const matchData = doc.data();
                state.currentMatch = matchData;

                // Update game board
                updateOnlineMatchBoard(matchData);
            });
        }

        function updateOnlineMatchBoard(matchData) {
            const game = matchData.game;
            if (!game) return;

            const isPlayer1 = (matchData.player1UID === currentUser?.uid);
            const playerSymbol = isPlayer1 ? matchData.player1Symbol : matchData.player2Symbol;
            const opponentSymbol = isPlayer1 ? matchData.player2Symbol : matchData.player1Symbol;
            const playerName = isPlayer1 ? matchData.player1Name : matchData.player2Name;
            const opponentName = isPlayer1 ? matchData.player2Name : matchData.player1Name;

            // Update player names if needed
            document.getElementById('player-x-name').textContent = matchData.player1Name;
            document.getElementById('player-o-name').textContent = matchData.player2Name;

            // Update board
            for (let i = 0; i < 9; i++) {
                const cell = document.getElementById(`cell-${i}`);
                if (cell) {
                    const value = game.board[i];
                    cell.innerHTML = value ? `<span class="animate-pop-in">${value}</span>` : '';
                    cell.classList.toggle('disabled', !!value || game.winner || matchData.status !== 'inGame');
                }
            }

            // Update turn
            state.myTurn = (playerSymbol === game.turn);
            state.isXNext = game.turn === 'X';

            // Update game status
            updateOnlineMatchStatus(matchData, playerName, opponentName);

            // Start timer if it's my turn
            if (state.myTurn && !game.winner && matchData.status === 'inGame') {
                startOnlineTimer();
            } else {
                stopOnlineTimer();
            }
        }

        function updateOnlineMatchStatus(matchData, playerName, opponentName) {
            const game = matchData.game;
            const statusEl = document.getElementById('game-status');

            if (game.winner) {
                if (game.winner === 'draw') {
                    statusEl.innerHTML = '<span style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„!</span>';
                } else {
                    const winnerName = game.winner === 'X' ? matchData.player1Name : matchData.player2Name;
                    const color = game.winner === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                    statusEl.innerHTML = `<span style="color: ${color};">ÙØ§Ø² ${winnerName}!</span>`;
                }
            } else if (matchData.status === 'finished') {
                // Match ended, calculate XP
                const isPlayer1 = (matchData.player1UID === currentUser?.uid);
                const playerBet = isPlayer1 ? matchData.player1Bet : matchData.player2Bet;
                const opponentBet = isPlayer1 ? matchData.player2Bet : matchData.player1Bet;
                
                // Determine winner
                let xpChange = 0;
                if (game.winner === 'X' && matchData.player1UID === currentUser?.uid) {
                    xpChange = opponentBet;
                    state.onlineStats.wins++;
                    state.currentWinStreak++;
                } else if (game.winner === 'O' && matchData.player2UID === currentUser?.uid) {
                    xpChange = opponentBet;
                    state.onlineStats.wins++;
                    state.currentWinStreak++;
                } else if (game.winner && game.winner !== 'draw') {
                    xpChange = -playerBet;
                    state.onlineStats.losses++;
                    state.currentWinStreak = 0;
                } else if (game.winner === 'draw') {
                    xpChange = 0; // No XP change for draw in matchmaking
                    state.currentWinStreak = 0;
                }

                if (xpChange !== 0) {
                    state.xp += xpChange;
                    state.onlineStats.xpEarned += Math.max(0, xpChange);
                    state.onlineStats.xpLost += Math.max(0, -xpChange);
                    
                    showEndGameScreen(game, xpChange);
                }

                state.stats.totalMatches++;
                saveState();
                updateWinStreak();
                checkAchievements();
            } else {
                const current = game.turn;
                const currentPlayer = current === 'X' ? matchData.player1Name : matchData.player2Name;
                const color = current === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                statusEl.innerHTML = `Ø¯ÙˆØ±: <span style="color: ${color};">${currentPlayer}</span>`;
            }
        }

        async function makeOnlineMatchMove(index) {
            if (!state.currentMatch || !currentUser || !state.myTurn) return;

            const matchRef = doc(db, "matches", state.currentMatch.id);
            const matchData = state.currentMatch;
            const game = matchData.game;

            // Check if move is valid
            if (game.board[index] || game.winner || matchData.status !== 'inGame') return;

            // Get current player symbol
            const isPlayer1 = (matchData.player1UID === currentUser.uid);
            const playerSymbol = isPlayer1 ? matchData.player1Symbol : matchData.player2Symbol;
            const currentTurn = game.turn;

            if (playerSymbol !== currentTurn) return;

            // Make the move
            const newBoard = [...game.board];
            newBoard[index] = playerSymbol;

            // Check for winner
            const result = checkWinner(newBoard);
            const newGame = { ...game, board: newBoard };

            if (result) {
                newGame.winner = result.winner;
                
                // Update match status
                await updateDoc(matchRef, {
                    game: newGame,
                    status: 'finished'
                });
            } else {
                newGame.turn = playerSymbol === 'X' ? 'O' : 'X';
                await updateDoc(matchRef, { game: newGame });
            }

            // Stop timer
            stopOnlineTimer();
        }

        function cancelMatchmaking() {
            if (state.matchmakingInterval) {
                clearInterval(state.matchmakingInterval);
                state.matchmakingInterval = null;
            }

            // Remove from queue
            if (currentUser) {
                deleteDoc(doc(db, "matchmakingQueue", currentUser.uid)).catch(console.error);
            }

            // Hide queue
            document.getElementById('queue-container').style.display = 'none';
            document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'block';
        }

        // ==================== DIVISION ONLINE FUNCTIONS ====================

        function startDivisionOffline() {
            startGame('division', DIVISIONS.find(d => d.level === state.currentDivision)?.difficulty || 'beginner');
        }

        function startDivisionOnline() {
            if (!currentUser) {
                showNotification('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                return;
            }

            navigateTo('online-matches');
            showDivisionMatchmaking();
        }

        function showDivisionMatchmaking() {
            // Modify the online matches page for division mode
            document.querySelector('.glass-card.rounded-xl.p-6 h3 span').textContent = 'Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¨Ø§Ø±Ø§Ø© ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†';
            document.querySelector('.glass-card.rounded-xl.p-6').innerHTML = `
                <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                    <i data-lucide="git-branch" class="w-5 h-5" style="color: #ffd700;"></i>
                    <span>Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ù…Ø¨Ø§Ø±Ø§Ø© ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†</span>
                </h3>
                <div class="text-center mb-4">
                    <p style="color: var(--text-secondary);">Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø§Ù„Ø­Ø§Ù„ÙŠ: <span style="color: var(--accent-color); font-weight: bold;">${state.currentDivision}</span></p>
                    <p style="color: var(--text-secondary);">Ù†Ù‚Ø§Ø·Ùƒ: <span style="color: #ffd700; font-weight: bold;">${state.divisionPoints}</span></p>
                </div>
                <button onclick="joinDivisionQueue()" class="neon-btn w-full py-4 rounded-xl font-bold text-lg">
                    <i data-lucide="search" class="inline w-5 h-5 ml-2"></i>
                    Ø¨Ø¯Ø¡ Ø§Ù„Ø¨Ø­Ø«
                </button>
            `;
            
            // Hide the queue container initially
            document.getElementById('queue-container').style.display = 'none';
            
            lucide.createIcons();
        }

        async function joinDivisionQueue() {
            if (!currentUser) return;

            const currentDivisionData = DIVISIONS.find(d => d.level === state.currentDivision);
            if (!currentDivisionData) {
                showNotification('Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†Ø²!', 'info');
                return;
            }

            // Show queue
            document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'none';
            document.getElementById('queue-container').style.display = 'block';

            // Add to division queue
            const queueRef = doc(db, "divisionQueue", currentUser.uid);
            
            try {
                await setDoc(queueRef, {
                    uid: currentUser.uid,
                    division: state.currentDivision,
                    divisionPoints: state.divisionPoints,
                    username: state.profileName || currentUser.displayName || 'Player',
                    avatar: state.profileImage || currentUser.photoURL || '',
                    level: getLevel(state.xp),
                    createdAt: new Date()
                });

                // Listen for match found
                listenForDivisionMatch(currentUser.uid);

            } catch (error) {
                console.error('Error joining division queue:', error);
                showNotification('ÙØ´Ù„ ÙÙŠ Ø§Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±', 'error');
                cancelDivisionMatchmaking();
            }
        }

        function listenForDivisionMatch(uid) {
            const checkInterval = setInterval(async () => {
                try {
                    const queueSnapshot = await getDocs(collection(db, "divisionQueue"));
                    const players = [];
                    queueSnapshot.forEach(doc => {
                        if (doc.id !== uid) {
                            players.push({ id: doc.id, ...doc.data() });
                        }
                    });

                    if (players.length > 0) {
                        // Find player in same division
                        const sameDivision = players.filter(p => p.division === state.currentDivision);
                        
                        let opponent;
                        if (sameDivision.length > 0) {
                            // Pick random player from same division
                            opponent = sameDivision[Math.floor(Math.random() * sameDivision.length)];
                        } else {
                            // Pick player with closest division
                            opponent = players.reduce((prev, curr) => {
                                return (Math.abs(curr.division - state.currentDivision) < Math.abs(prev.division - state.currentDivision) ? curr : prev);
                            });
                        }

                        // Get best of value based on division
                        const bestOf = DIVISION_BEST_OF[state.currentDivision] || 3;

                        // Create division match
                        const matchId = `div_${uid}_${opponent.uid}_${Date.now()}`;
                        const matchData = {
                            mode: "division",
                            division: state.currentDivision,
                            player1UID: uid,
                            player2UID: opponent.uid,
                            player1Name: state.profileName || currentUser.displayName,
                            player2Name: opponent.username,
                            player1Avatar: state.profileImage || currentUser.photoURL,
                            player2Avatar: opponent.avatar,
                            player1Level: getLevel(state.xp),
                            player2Level: opponent.level,
                            player1Division: state.currentDivision,
                            player2Division: opponent.division,
                            player1Points: state.divisionPoints,
                            player2Points: opponent.divisionPoints,
                            player1Symbol: "X", // Randomly assign
                            player2Symbol: "O",
                            status: "inGame",
                            bestOfWinsRequired: bestOf,
                            player1Wins: 0,
                            player2Wins: 0,
                            currentRound: 1,
                            createdAt: new Date(),
                            game: {
                                board: ["","","","","","","","",""],
                                turn: "X",
                                winner: null
                            },
                            timerSeconds: 5
                        };

                        await setDoc(doc(db, "divisionMatches", matchId), matchData);

                        // Remove both from queue
                        await deleteDoc(doc(db, "divisionQueue", uid));
                        await deleteDoc(doc(db, "divisionQueue", opponent.uid));

                        clearInterval(checkInterval);
                        
                        // Start match
                        state.currentMatch = matchData;
                        state.isHost = true;
                        state.playerSymbol = matchData.player1Symbol;
                        state.opponentSymbol = matchData.player2Symbol;
                        state.timerSeconds = matchData.timerSeconds;
                        
                        navigateTo('game');
                        
                        // Set player names
                        document.getElementById('player-x-name').textContent = matchData.player1Name;
                        document.getElementById('player-o-name').textContent = matchData.player2Name;
                        
                        document.getElementById('gameModeIndicator').innerHTML = '<span style="color: #ff3366;">Ø¯ÙŠÙÙŠØ¬Ù† Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</span>';
                        
                        // Show timer
                        document.getElementById('game-timer-container').style.display = 'flex';
                        
                        // Listen for match updates
                        listenToDivisionMatch(matchId);
                        
                        // Hide queue
                        document.getElementById('queue-container').style.display = 'none';
                        document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'block';
                    }
                } catch (error) {
                    console.error('Error checking division queue:', error);
                }
            }, 3000);

            state.divisionMatchmakingInterval = checkInterval;
        }

        function listenToDivisionMatch(matchId) {
            if (matchUnsubscribe) {
                matchUnsubscribe();
            }

            matchUnsubscribe = onSnapshot(doc(db, "divisionMatches", matchId), (doc) => {
                if (!doc.exists()) {
                    showNotification('Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©', 'info');
                    navigateTo('home');
                    return;
                }

                const matchData = doc.data();
                state.currentMatch = matchData;

                // Update game board
                updateDivisionMatchBoard(matchData);
            });
        }

        function updateDivisionMatchBoard(matchData) {
            const game = matchData.game;
            if (!game) return;

            const isPlayer1 = (matchData.player1UID === currentUser?.uid);
            const playerSymbol = isPlayer1 ? matchData.player1Symbol : matchData.player2Symbol;
            const opponentSymbol = isPlayer1 ? matchData.player2Symbol : matchData.player1Symbol;

            // Update board
            for (let i = 0; i < 9; i++) {
                const cell = document.getElementById(`cell-${i}`);
                if (cell) {
                    const value = game.board[i];
                    cell.innerHTML = value ? `<span class="animate-pop-in">${value}</span>` : '';
                    cell.classList.toggle('disabled', !!value || game.winner || matchData.status !== 'inGame');
                }
            }

            // Update turn
            state.myTurn = (playerSymbol === game.turn);
            state.isXNext = game.turn === 'X';

            // Update game status
            updateDivisionMatchStatus(matchData, isPlayer1);

            // Start timer if it's my turn
            if (state.myTurn && !game.winner && matchData.status === 'inGame') {
                startOnlineTimer();
            } else {
                stopOnlineTimer();
            }
        }

        function updateDivisionMatchStatus(matchData, isPlayer1) {
            const game = matchData.game;
            const statusEl = document.getElementById('game-status');

            if (game.winner) {
                if (game.winner === 'draw') {
                    // No draws in division - restart round
                    statusEl.innerHTML = '<span style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„ - Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¬ÙˆÙ„Ø©</span>';
                } else {
                    statusEl.innerHTML = `<span style="color: ${game.winner === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)'};">ÙØ§Ø² ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„Ø¬ÙˆÙ„Ø©</span>`;
                }
            } else if (matchData.status === 'finished') {
                // Match ended
                const playerWins = isPlayer1 ? matchData.player1Wins : matchData.player2Wins;
                const opponentWins = isPlayer1 ? matchData.player2Wins : matchData.player1Wins;
                
                if (playerWins >= matchData.bestOfWinsRequired) {
                    statusEl.innerHTML = '<span style="color: #00ff88;">ÙØ²Øª Ø¨Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©!</span>';
                    
                    // Award division points
                    handleDivisionWin();
                } else if (opponentWins >= matchData.bestOfWinsRequired) {
                    statusEl.innerHTML = '<span style="color: #ff3366;">Ø®Ø³Ø±Øª Ø§Ù„Ù…Ø¨Ø§Ø±Ø§Ø©</span>';
                    
                    // Subtract division points
                    handleDivisionLoss();
                }
            } else {
                const current = game.turn;
                const currentPlayer = current === 'X' ? matchData.player1Name : matchData.player2Name;
                const color = current === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                statusEl.innerHTML = `Ø¯ÙˆØ±: <span style="color: ${color};">${currentPlayer}</span>`;
            }
        }

        function handleDivisionWin() {
            // Add 3 division points
            state.divisionPoints += 3;
            
            // Check if division completed
            const currentDivisionData = DIVISIONS.find(d => d.level === state.currentDivision);
            if (currentDivisionData && state.divisionPoints >= currentDivisionData.required) {
                completeDivision();
            }
            
            saveState();
        }

        function handleDivisionLoss() {
            // Subtract 3 division points (minimum 0)
            state.divisionPoints = Math.max(0, state.divisionPoints - 3);
            
            // Check if demotion needed (if points = 0 and not division 10)
            if (state.divisionPoints === 0 && state.currentDivision < 10) {
                state.currentDivision++;
                showNotification(`ØªÙ… Ù‡Ø¨ÙˆØ·Ùƒ Ø¥Ù„Ù‰ Division ${state.currentDivision}`, 'info');
            }
            
            saveState();
        }

        async function makeDivisionMove(index) {
            if (!state.currentMatch || !currentUser || !state.myTurn) return;

            const matchRef = doc(db, "divisionMatches", state.currentMatch.id);
            const matchData = state.currentMatch;
            const game = matchData.game;

            // Check if move is valid
            if (game.board[index] || game.winner || matchData.status !== 'inGame') return;

            // Get current player symbol
            const isPlayer1 = (matchData.player1UID === currentUser.uid);
            const playerSymbol = isPlayer1 ? matchData.player1Symbol : matchData.player2Symbol;
            const currentTurn = game.turn;

            if (playerSymbol !== currentTurn) return;

            // Make the move
            const newBoard = [...game.board];
            newBoard[index] = playerSymbol;

            // Check for winner
            const result = checkWinner(newBoard);
            const newGame = { ...game, board: newBoard };

            if (result) {
                if (result.winner === 'draw') {
                    // No draws in division - restart round
                    newGame.board = ["","","","","","","","",""];
                    newGame.turn = "X";
                    newGame.winner = null;
                    
                    await updateDoc(matchRef, { game: newGame });
                } else {
                    // Round ended with winner
                    newGame.winner = result.winner;
                    
                    // Update round wins
                    const newPlayer1Wins = matchData.player1Wins + (result.winner === matchData.player1Symbol ? 1 : 0);
                    const newPlayer2Wins = matchData.player2Wins + (result.winner === matchData.player2Symbol ? 1 : 0);
                    
                    // Check if match ended
                    if (newPlayer1Wins >= matchData.bestOfWinsRequired || newPlayer2Wins >= matchData.bestOfWinsRequired) {
                        // Match ended
                        await updateDoc(matchRef, {
                            game: newGame,
                            player1Wins: newPlayer1Wins,
                            player2Wins: newPlayer2Wins,
                            status: 'finished'
                        });
                    } else {
                        // Next round
                        const nextRoundGame = {
                            board: ["","","","","","","","",""],
                            turn: "X",
                            winner: null
                        };
                        
                        await updateDoc(matchRef, {
                            game: newGame,
                            player1Wins: newPlayer1Wins,
                            player2Wins: newPlayer2Wins,
                            currentRound: matchData.currentRound + 1,
                            nextRound: nextRoundGame
                        });
                    }
                }
            } else {
                newGame.turn = playerSymbol === 'X' ? 'O' : 'X';
                await updateDoc(matchRef, { game: newGame });
            }

            // Stop timer
            stopOnlineTimer();
        }

        function cancelDivisionMatchmaking() {
            if (state.divisionMatchmakingInterval) {
                clearInterval(state.divisionMatchmakingInterval);
                state.divisionMatchmakingInterval = null;
            }

            // Remove from queue
            if (currentUser) {
                deleteDoc(doc(db, "divisionQueue", currentUser.uid)).catch(console.error);
            }

            // Hide queue
            document.getElementById('queue-container').style.display = 'none';
            document.querySelector('.glass-card.rounded-xl.p-6').style.display = 'block';
        }

        // ==================== HELPER FUNCTIONS ====================

        function getLevel(xp) {
            if (xp < 200) return 1;
            if (xp < 600) return 2;
            if (xp < 1500) return 3;
            if (xp < 3000) return 4;
            if (xp < 6000) return 5;
            if (xp < 15000) return 6;
            if (xp < 50000) return 7;
            return 8;
        }

        // ==================== AI FUNCTIONS (Ù…Ø­Ø³Ù†Ø©) ====================

        function getBeginnerMove(board) {
            const empty = board.map((v, i) => v === null ? i : null).filter(v => v !== null);
            
            // 50% Ø¹Ø´ÙˆØ§Ø¦ÙŠØŒ 50% Ø°ÙƒÙŠ
            if (Math.random() < 0.5) {
                return empty[Math.floor(Math.random() * empty.length)];
            }
            
            // Ø­Ø§ÙˆÙ„ Ø£Ø®Ø° Ø§Ù„Ù…Ø±ÙƒØ²
            if (board[4] === null) return 4;
            
            // Ø­Ø§ÙˆÙ„ Ø£Ø®Ø° Ø§Ù„Ø²ÙˆØ§ÙŠØ§
            const corners = [0, 2, 6, 8].filter(i => board[i] === null);
            if (corners.length > 0) return corners[Math.floor(Math.random() * corners.length)];
            
            return empty[Math.floor(Math.random() * empty.length)];
        }

        function getMediumMove(board, computer, player) {
            const empty = board.map((v, i) => v === null ? i : null).filter(v => v !== null);
            
            // Ø­Ø§ÙˆÙ„ Ø§Ù„ÙÙˆØ²
            for (let i of empty) {
                const copy = [...board];
                copy[i] = computer;
                if (checkWinner(copy)?.winner === computer) return i;
            }
            
            // Ø­Ø§ÙˆÙ„ Ù…Ù†Ø¹ Ø§Ù„Ù„Ø§Ø¹Ø¨ Ù…Ù† Ø§Ù„ÙÙˆØ²
            for (let i of empty) {
                const copy = [...board];
                copy[i] = player;
                if (checkWinner(copy)?.winner === player) return i;
            }
            
            // Ø®Ø° Ø§Ù„Ù…Ø±ÙƒØ² Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
            if (board[4] === null) return 4;
            
            // Ø®Ø° Ø²Ø§ÙˆÙŠØ©
            const corners = [0, 2, 6, 8].filter(i => board[i] === null);
            if (corners.length > 0) return corners[Math.floor(Math.random() * corners.length)];
            
            return empty[Math.floor(Math.random() * empty.length)];
        }

        function getHardMove(board, computer, player) {
            // 70% Ù…Ø«Ø§Ù„ÙŠØŒ 30% Ù…ØªÙˆØ³Ø·
            if (Math.random() < 0.3) {
                return getMediumMove(board, computer, player);
            }
            return getGeniusMove(computer, player);
        }

        function getGeniusMove(computer, player) {
            let bestScore = -Infinity;
            let bestMove = -1;
            
            for (let i = 0; i < 9; i++) {
                if (state.board[i] === null) {
                    state.board[i] = computer;
                    const score = minimax(state.board, 0, false, -Infinity, Infinity, computer, player);
                    state.board[i] = null;
                    
                    if (score > bestScore) {
                        bestScore = score;
                        bestMove = i;
                    }
                }
            }
            
            return bestMove;
        }

        function minimax(board, depth, isMax, alpha, beta, computer, player) {
            const result = checkWinner(board);
            if (result) {
                if (result.winner === computer) return 10 - depth;
                if (result.winner === player) return depth - 10;
                return 0;
            }
            
            if (isMax) {
                let maxEval = -Infinity;
                for (let i = 0; i < 9; i++) {
                    if (board[i] === null) {
                        board[i] = computer;
                        const score = minimax(board, depth + 1, false, alpha, beta, computer, player);
                        board[i] = null;
                        maxEval = Math.max(maxEval, score);
                        alpha = Math.max(alpha, score);
                        if (beta <= alpha) break;
                    }
                }
                return maxEval;
            } else {
                let minEval = Infinity;
                for (let i = 0; i < 9; i++) {
                    if (board[i] === null) {
                        board[i] = player;
                        const score = minimax(board, depth + 1, true, alpha, beta, computer, player);
                        board[i] = null;
                        minEval = Math.min(minEval, score);
                        beta = Math.min(beta, score);
                        if (beta <= alpha) break;
                    }
                }
                return minEval;
            }
        }

        function getComputerMove() {
            const empty = state.board.map((v, i) => v === null ? i : null).filter(v => v !== null);
            if (empty.length === 0) return -1;
            
            const computer = state.playAs === 'X' ? 'O' : 'X';
            const player = state.playAs;
            
            switch (state.difficulty) {
                case 'beginner':
                    return getBeginnerMove(state.board);
                case 'medium':
                    return getMediumMove(state.board, computer, player);
                case 'hard':
                    return getHardMove(state.board, computer, player);
                case 'genius':
                    return getGeniusMove(computer, player);
                case 'adaptive':
                    return getAdaptiveMove(computer, player);
                default:
                    return empty[Math.floor(Math.random() * empty.length)];
            }
        }

        function getAdaptiveMove(computer, player) {
            // Ø£ÙˆÙ„ 3 Ù…Ø¨Ø§Ø±ÙŠØ§Øª ØªÙƒÙˆÙ† Ø³Ù‡Ù„Ø©
            if (state.adaptiveData.matchesPlayed < 3) {
                return getBeginnerMove(state.board);
            }
            
            // Ø¨Ø¹Ø¯ Ø°Ù„Ùƒ Ø§Ø³ØªØ®Ø¯Ù… Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨
            switch(state.adaptiveData.currentDifficulty) {
                case 'beginner':
                    return getBeginnerMove(state.board);
                case 'medium':
                    return getMediumMove(state.board, computer, player);
                case 'hard':
                    return getHardMove(state.board, computer, player);
                case 'genius':
                    return getGeniusMove(computer, player);
                default:
                    return getMediumMove(state.board, computer, player);
            }
        }

        function updateAdaptiveDifficulty(playerWon) {
            // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ù‡Ø§Ø±Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ù„Ø§Ø¹Ø¨
            if (playerWon) {
                state.adaptiveData.playerSkill = Math.min(1, state.adaptiveData.playerSkill + 0.1);
            } else {
                state.adaptiveData.playerSkill = Math.max(0, state.adaptiveData.playerSkill - 0.1);
            }
            
            // ØªØ­Ø¯ÙŠØ« Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ù‡Ø§Ø±Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨
            if (state.adaptiveData.playerSkill < 0.25) {
                state.adaptiveData.currentDifficulty = 'beginner';
            } else if (state.adaptiveData.playerSkill < 0.5) {
                state.adaptiveData.currentDifficulty = 'medium';
            } else if (state.adaptiveData.playerSkill < 0.75) {
                state.adaptiveData.currentDifficulty = 'hard';
            } else {
                state.adaptiveData.currentDifficulty = 'genius';
            }
            
            state.adaptiveData.matchesPlayed++;
            saveState();
        }

        // ==================== GAME LOGIC ====================

        function startGame(mode, difficulty = 'beginner') {
            state.gameMode = mode;
            state.difficulty = difficulty;
            state.gameStartTime = Date.now();
            state.moveHistory = [];
            resetBoard();
            
            navigateTo('game');
            
            const playerSymbol = state.playAs;
            document.getElementById('player-x-name').textContent = mode === 'computer' ? (playerSymbol === 'X' ? state.profileName : 'Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±') : 'Ù„Ø§Ø¹Ø¨ 1';
            document.getElementById('player-o-name').textContent = mode === 'computer' ? (playerSymbol === 'O' ? state.profileName : 'Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±') : 'Ù„Ø§Ø¹Ø¨ 2';
            
            const modeIndicator = document.getElementById('gameModeIndicator');
            if (mode === 'division') {
                modeIndicator.innerHTML = `<span style="color: #ff3366;">Ø·ÙˆØ± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† - Division ${state.currentDivision}</span>`;
            } else if (mode === 'computer') {
                const level = LEVELS.find(l => l.id === difficulty);
                modeIndicator.innerHTML = `<span style="color: ${level.color};">Ù…Ø³ØªÙˆÙ‰ ${level.name}</span>`;
            } else if (mode === 'online-friends') {
                modeIndicator.innerHTML = '<span style="color: var(--accent-color);">ØºØ±ÙØ© Ø£ØµØ¯Ù‚Ø§Ø¡ Ø£ÙˆÙ†Ù„Ø§ÙŠÙ†</span>';
            } else {
                modeIndicator.innerHTML = '<span style="color: var(--accent-color);">Ø¶Ø¯ ØµØ¯ÙŠÙ‚</span>';
            }
            
            // Hide timer for offline games
            if (mode !== 'online-friends' && mode !== 'online-matches' && mode !== 'division-online') {
                document.getElementById('game-timer-container').style.display = 'none';
            }
            
            // If computer goes first
            if (mode === 'computer' && playerSymbol === 'O') {
                state.isComputerTurn = true;
                setTimeout(() => {
                    const move = getComputerMove();
                    if (move !== -1) makeMove(move, 'X');
                    state.isComputerTurn = false;
                }, 800);
            }
            
            // Start ad timer if not removed
            if (!state.adsRemoved && !state.adTimer) {
                startAdTimer();
            }
        }

        function resetBoard() {
            state.board = Array(9).fill(null);
            state.isXNext = true;
            state.winner = null;
            state.winningLine = null;
            state.isComputerTurn = false;
            
            const boardEl = document.getElementById('game-board');
            boardEl.innerHTML = '';
            
            for (let i = 0; i < 9; i++) {
                const btn = document.createElement('button');
                btn.className = 'game-cell w-24 h-24 md:w-28 md:h-28 rounded-xl flex items-center justify-center text-4xl md:text-5xl font-display';
                btn.id = `cell-${i}`;
                btn.onmouseenter = () => playSound('hover');
                btn.onclick = () => handleMove(i);
                boardEl.appendChild(btn);
            }
            
            updateGameStatus();
            document.getElementById('game-controls').style.opacity = '0';
            updateWinStreak();
        }

        function handleMove(index) {
            if (state.board[index] || state.winner || state.isComputerTurn) return;
            
            const currentPlayer = state.isXNext ? 'X' : 'O';
            
            // Check if it's online game and it's player's turn
            if (state.gameMode === 'online-friends') {
                makeOnlineMove(index);
                return;
            } else if (state.gameMode === 'online-matches' || state.gameMode === 'division-online') {
                makeOnlineMatchMove(index);
                return;
            }
            
            if (state.gameMode !== 'friend') {
                if (currentPlayer !== state.playAs) return;
            }
            
            makeMove(index, currentPlayer);
            
            // Computer's turn
            if (!state.winner && state.gameMode === 'computer') {
                state.isComputerTurn = true;
                const delay = 500 + Math.random() * 500;
                setTimeout(() => {
                    const computerSymbol = state.playAs === 'X' ? 'O' : 'X';
                    const move = getComputerMove();
                    if (move !== -1) {
                        makeMove(move, computerSymbol);
                    }
                    state.isComputerTurn = false;
                }, delay);
            }
        }

        function makeMove(index, player) {
            state.board[index] = player;
            
            // Save move for VAR
            state.moveHistory.push({
                player: player,
                position: index,
                board: [...state.board]
            });
            
            const cell = document.getElementById(`cell-${index}`);
            const skin = SKINS.find(s => s.id === state.currentSkin) || SKINS[0];
            
            // Apply skin class if it exists
            if (skin.class) {
                cell.classList.add(skin.class);
            }
            
            cell.innerHTML = `<span class="animate-pop-in">${player}</span>`;
            cell.classList.add('disabled');
            
            playSound('click');
            
            if (navigator.vibrate) {
                navigator.vibrate(30);
            }
            
            const result = checkWinner(state.board);
            if (result) {
                state.winner = result.winner;
                state.winningLine = result.line;
                handleGameEnd(result);
            } else {
                state.isXNext = !state.isXNext;
            }
            
            updateGameStatus();
        }

        function checkWinner(board) {
            const lines = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];
            
            for (const [a, b, c] of lines) {
                if (board[a] && board[a] === board[b] && board[a] === board[c]) {
                    return { winner: board[a], line: [a, b, c] };
                }
            }
            
            if (board.every(c => c !== null)) {
                return { winner: 'draw', line: null };
            }
            
            return null;
        }

        function handleGameEnd(result) {
            document.getElementById('game-controls').style.opacity = '1';
            state.stats.totalMatches++;
            
            const playerSymbol = state.playAs;
            const computerSymbol = playerSymbol === 'X' ? 'O' : 'X';
            
            let xpChange = 0;
            
            if (state.gameMode === 'division') {
                // Division mode scoring
                if (result.winner === playerSymbol) {
                    state.divisionPoints += 3;
                    xpChange = 50;
                    showNotification(`ÙÙˆØ²! +3 Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†`, 'success');
                } else if (result.winner === 'draw') {
                    state.divisionPoints += 1;
                    xpChange = 25;
                    showNotification(`ØªØ¹Ø§Ø¯Ù„! +1 Ù†Ù‚Ø·Ø© ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†`, 'success');
                } else {
                    state.divisionPoints = Math.max(0, state.divisionPoints - 3);
                    xpChange = 0;
                    showNotification(`Ø®Ø³Ø§Ø±Ø©! -3 Ù†Ù‚Ø§Ø· ÙÙŠ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†`, 'error');
                }
                
                // Check if division completed
                const currentDivisionData = DIVISIONS.find(d => d.level === state.currentDivision);
                if (currentDivisionData && state.divisionPoints >= currentDivisionData.required) {
                    completeDivision();
                }
                
            } else if (state.gameMode === 'computer') {
                // Normal computer mode
                if (result.winner === playerSymbol) {
                    state.stats.wins++;
                    state.currentWinStreak++;
                    if (state.currentWinStreak > state.stats.bestStreak) {
                        state.stats.bestStreak = state.currentWinStreak;
                    }
                    
                    const rewards = { 
                        beginner: 150, 
                        medium: 300, 
                        hard: 500, 
                        genius: 800,
                        adaptive: 600 
                    };
                    const reward = rewards[state.difficulty] || 30;
                    state.xp += reward;
                    xpChange = reward;
                    
                    if (state.difficulty === 'genius') {
                        state.beatenGenius = true;
                    }
                    if (state.difficulty === 'adaptive') {
                        state.beatenAdaptive = true;
                    }
                    
                    // Update adaptive AI
                    if (state.difficulty === 'adaptive') {
                        updateAdaptiveDifficulty(true);
                    }
                    
                    // Increment AI progress
                    incrementAIProgress(state.difficulty);
                    
                    showNotification(`ÙÙˆØ²! +${reward} XP`);
                    playSound('win');
                    
                    // Play win sound from audio element
                    try {
                        document.getElementById('win-sound').play();
                    } catch (e) {}
                    
                } else if (result.winner === computerSymbol) {
                    state.stats.losses++;
                    state.currentWinStreak = 0;
                    xpChange = 0;
                    
                    // Update adaptive AI
                    if (state.difficulty === 'adaptive') {
                        updateAdaptiveDifficulty(false);
                    }
                    
                    showNotification('Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙØ§Ø²!');
                    playSound('lose');
                    
                    // Play lose sound from audio element
                    try {
                        document.getElementById('lose-sound').play();
                    } catch (e) {}
                    
                } else {
                    state.stats.draws++;
                    state.currentWinStreak = 0;
                    state.xp += 15;
                    xpChange = 15;
                    
                    // Update adaptive AI
                    if (state.difficulty === 'adaptive') {
                        updateAdaptiveDifficulty(false);
                    }
                    
                    showNotification('ØªØ¹Ø§Ø¯Ù„! +15 XP');
                    playSound('draw');
                }
            } else if (state.gameMode === 'friend') {
                // Friend mode
                if (result.winner === 'X') {
                    state.stats.wins++;
                    state.currentWinStreak++;
                    if (state.currentWinStreak > state.stats.bestStreak) {
                        state.stats.bestStreak = state.currentWinStreak;
                    }
                    state.xp += 25;
                    xpChange = 25;
                    showNotification('X ÙØ§Ø²! +25 XP');
                } else if (result.winner === 'O') {
                    state.stats.losses++;
                    state.currentWinStreak = 0;
                    xpChange = 0;
                    showNotification('O ÙØ§Ø²!');
                } else {
                    state.stats.draws++;
                    state.currentWinStreak = 0;
                    state.xp += 15;
                    xpChange = 15;
                    showNotification('ØªØ¹Ø§Ø¯Ù„! +15 XP');
                }
                playSound(result.winner === 'draw' ? 'draw' : 'win');
            }
            
            // Show end game screen for non-online games
            if (state.gameMode !== 'online-friends' && state.gameMode !== 'online-matches' && state.gameMode !== 'division-online') {
                showEndGameScreen(result, xpChange);
            }
            
            // Highlight winning cells
            if (result.line) {
                result.line.forEach(idx => {
                    const cell = document.getElementById(`cell-${idx}`);
                    cell.classList.add('win-cell');
                });
            }
            
            // Update win streak counter
            updateWinStreak();
            
            checkAchievements();
            saveState();
        }

        function updateGameStatus() {
            const statusEl = document.getElementById('game-status');
            
            if (state.winner) {
                if (state.winner === 'draw') {
                    statusEl.innerHTML = '<span style="color: var(--text-secondary);">ØªØ¹Ø§Ø¯Ù„!</span>';
                } else {
                    const winnerName = state.gameMode === 'division' ? 
                        (state.winner === state.playAs ? 'ÙÙˆØ²!' : 'Ø®Ø³Ø§Ø±Ø©!') :
                        state.gameMode === 'computer' ? 
                        (state.winner === state.playAs ? 'Ø£Ù†Øª ÙØ²Øª!' : 'Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ± ÙØ§Ø²!') :
                        `${state.winner} ÙØ§Ø²!`;
                    const color = state.winner === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                    statusEl.innerHTML = `<span style="color: ${color};">${winnerName}</span>`;
                }
            } else {
                const current = state.isXNext ? 'X' : 'O';
                const color = current === 'X' ? 'var(--accent-color)' : 'var(--accent-secondary)';
                statusEl.innerHTML = `Ø§Ù„Ø¯ÙˆØ±: <span style="color: ${color};">${current}</span>`;
            }
        }

        function endGameAndReturn() {
            // Clean up online subscriptions
            cleanupOnlineSubscriptions();
            
            resetBoard();
            navigateTo('home');
            renderAll();
        }

        // ==================== AI PROGRESS ====================

        function loadAIProgress() {
            const saved = localStorage.getItem('aiProgress');
            if (saved) {
                try {
                    state.aiProgress = JSON.parse(saved);
                } catch (e) {}
            }
        }

        function saveAIProgress() {
            localStorage.setItem('aiProgress', JSON.stringify(state.aiProgress));
        }

        function incrementAIProgress(difficulty) {
            if (!difficulty) return;
            state.aiProgress[difficulty] = (state.aiProgress[difficulty] || 0) + 1;
            saveAIProgress();
        }

        function getAIStars(difficulty) {
            const matches = state.aiProgress[difficulty] || 0;
            const stars = Math.min(5, Math.floor(matches / 3));
            return stars;
        }

        function renderAIStars(difficulty) {
            const stars = getAIStars(difficulty);
            let html = '<div class="ai-progress">';
            for (let i = 0; i < 5; i++) {
                html += `<span class="star ${i < stars ? 'gold' : ''}">â˜…</span>`;
            }
            html += '</div>';
            return html;
        }

        // ==================== TIPS ====================

        function showTipOfDay() {
            const tip = TIPS[Math.floor(Math.random() * TIPS.length)];
            const tipEl = document.getElementById('tip-of-day');
            if (tipEl) tipEl.textContent = tip;
        }

        function openGuide() {
            document.getElementById('guide-modal-overlay').classList.add('active');
            document.getElementById('guide-modal').classList.add('active');
            playSound('click');
        }

        function closeGuide() {
            document.getElementById('guide-modal-overlay').classList.remove('active');
            document.getElementById('guide-modal').classList.remove('active');
        }

        // ==================== VAR FUNCTIONS ====================

        function showVAR() {
            if (state.moveHistory.length === 0) {
                showNotification('Ù„Ø§ ØªÙˆØ¬Ø¯ ØªØ­Ø±ÙƒØ§Øª Ù„Ø¹Ø±Ø¶Ù‡Ø§', 'info');
                return;
            }
            
            varMoveIndex = 0;
            updateVARBoard();
            
            const overlay = document.getElementById('var-modal-overlay');
            const modal = document.getElementById('var-modal');
            overlay.classList.add('active');
            modal.classList.add('active');
            
            renderVARTimeline();
        }

        function closeVAR() {
            if (varInterval) {
                clearInterval(varInterval);
                varIsPlaying = false;
            }
            
            document.getElementById('var-modal-overlay').classList.remove('active');
            document.getElementById('var-modal').classList.remove('active');
        }

        function renderVARTimeline() {
            const timeline = document.getElementById('var-timeline');
            timeline.innerHTML = '';
            
            for (let i = 0; i <= state.moveHistory.length; i++) {
                const dot = document.createElement('div');
                dot.className = 'var-timeline-dot';
                
                if (i === 0) {
                    dot.textContent = 'â—';
                } else {
                    const move = state.moveHistory[i-1];
                    dot.textContent = move.player;
                    dot.classList.add(`player-${move.player.toLowerCase()}`);
                }
                
                if (i === varMoveIndex) {
                    dot.classList.add('active');
                }
                
                dot.onclick = () => {
                    varMoveIndex = i;
                    updateVARBoard();
                    renderVARTimeline();
                };
                
                timeline.appendChild(dot);
            }
        }

        function updateVARBoard() {
            const board = document.getElementById('var-board');
            board.innerHTML = '';
            
            let currentBoard;
            if (varMoveIndex === 0) {
                currentBoard = Array(9).fill(null);
            } else {
                currentBoard = [...state.moveHistory[varMoveIndex - 1].board];
            }
            
            for (let i = 0; i < 9; i++) {
                const cell = document.createElement('div');
                cell.className = 'var-cell';
                
                if (currentBoard[i]) {
                    cell.innerHTML = `<span>${currentBoard[i]}</span>`;
                    if (state.winningLine && state.winningLine.includes(i) && varMoveIndex === state.moveHistory.length) {
                        cell.classList.add('win-cell');
                    }
                }
                
                board.appendChild(cell);
            }
            
            document.getElementById('var-move-counter').textContent = `Ø§Ù„Ø­Ø±ÙƒØ© ${varMoveIndex} / ${state.moveHistory.length}`;
        }

        function varPrev() {
            if (varMoveIndex > 0) {
                varMoveIndex--;
                updateVARBoard();
                renderVARTimeline();
            }
        }

        function varNext() {
            if (varMoveIndex < state.moveHistory.length) {
                varMoveIndex++;
                updateVARBoard();
                renderVARTimeline();
            }
        }

        function varRestart() {
            varMoveIndex = 0;
            updateVARBoard();
            renderVARTimeline();
        }

        function varPause() {
            if (varIsPlaying) {
                clearInterval(varInterval);
                varIsPlaying = false;
                document.getElementById('var-pause-btn').innerHTML = '<i data-lucide="play"></i>';
            } else {
                varIsPlaying = true;
                document.getElementById('var-pause-btn').innerHTML = '<i data-lucide="pause"></i>';
                
                varInterval = setInterval(() => {
                    if (varMoveIndex < state.moveHistory.length) {
                        varMoveIndex++;
                        updateVARBoard();
                        renderVARTimeline();
                    } else {
                        clearInterval(varInterval);
                        varIsPlaying = false;
                        document.getElementById('var-pause-btn').innerHTML = '<i data-lucide="play"></i>';
                    }
                }, 1000);
            }
            
            lucide.createIcons();
        }

        // ==================== NOTIFICATIONS ====================

        function showNotification(message, type = 'success') {
            const notif = document.getElementById('notification');
            notif.textContent = message;
            notif.style.background = type === 'success' ? 'linear-gradient(135deg, rgba(0,255,136,0.9), rgba(0,200,100,0.9))' :
                                    type === 'achievement' ? 'linear-gradient(135deg, rgba(168,85,247,0.9), rgba(139,69,219,0.9))' :
                                    type === 'reward' ? 'linear-gradient(135deg, rgba(255,215,0,0.9), rgba(255,170,0,0.9))' :
                                    type === 'error' ? 'linear-gradient(135deg, rgba(255,51,102,0.9), rgba(200,0,50,0.9))' :
                                    type === 'info' ? 'linear-gradient(135deg, rgba(0,212,255,0.9), rgba(0,150,200,0.9))' :
                                    'linear-gradient(135deg, rgba(0,212,255,0.9), rgba(0,150,200,0.9))';
            notif.style.color = type === 'reward' ? '#1a1a2e' : 'white';
            notif.classList.add('show');
            
            if (type === 'achievement') playSound('achievement');
            
            setTimeout(() => notif.classList.remove('show'), 3000);
        }

        // ==================== END GAME SCREEN ====================

        function showEndGameScreen(result, xpChange) {
            const screen = document.getElementById('end-game-screen');
            const icon = document.getElementById('end-game-icon');
            const title = document.getElementById('end-game-title');
            const xpEl = document.getElementById('end-game-xp');
            
            let iconHtml = '';
            let titleText = '';
            let xpText = '';
            
            if (result.winner === state.playAs) {
                iconHtml = 'ðŸ†';
                titleText = 'ÙÙˆØ²!';
                xpText = `+${xpChange} XP`;
                icon.style.background = 'rgba(0,255,136,0.2)';
                icon.style.color = '#00ff88';
            } else if (result.winner === 'draw') {
                iconHtml = 'ðŸ¤';
                titleText = 'ØªØ¹Ø§Ø¯Ù„';
                xpText = `+${xpChange} XP`;
                icon.style.background = 'rgba(255,215,0,0.2)';
                icon.style.color = '#ffd700';
            } else {
                iconHtml = 'ðŸ’”';
                titleText = 'Ø®Ø³Ø§Ø±Ø©';
                xpText = `${xpChange} XP`;
                icon.style.background = 'rgba(255,51,102,0.2)';
                icon.style.color = '#ff3366';
            }
            
            icon.innerHTML = iconHtml;
            title.textContent = titleText;
            xpEl.textContent = xpText;
            
            screen.classList.add('show');
            
            setTimeout(() => {
                screen.classList.remove('show');
            }, 3000);
        }

        // ==================== LOADING SCREEN ====================

        function showLoadingScreen(text = 'Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø®ØµÙ…...') {
            const screen = document.getElementById('loading-screen');
            const textEl = document.getElementById('loading-text');
            textEl.textContent = text;
            screen.classList.add('show');
        }

        function hideLoadingScreen() {
            const screen = document.getElementById('loading-screen');
            screen.classList.remove('show');
        }

        function showLoadingAndReset() {
            showLoadingScreen(Math.random() > 0.5 ? 'Ø¬Ø§Ø±ÙŠ ØªØ¬Ù‡ÙŠØ² Ø§Ù„Ø®ØµÙ…...' : 'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ø¨ÙŠÙÙƒØ±...');
            
            setTimeout(() => {
                hideLoadingScreen();
                resetBoard();
            }, 1000);
        }

        // ==================== EASTER EGG ====================

        function handleLogoClick() {
            state.logoClickCount++;
            
            if (state.logoTimer) {
                clearTimeout(state.logoTimer);
            }
            
            state.logoTimer = setTimeout(() => {
                state.logoClickCount = 0;
            }, 2000);
            
            if (state.logoClickCount >= 5) {
                activateRainbowMode();
                state.logoClickCount = 0;
            }
        }

        function activateRainbowMode() {
            document.body.classList.add('rainbow-mode');
            showNotification('ðŸŽ‰ Ø§ÙƒØªØ´ÙØª Ø§Ù„Ø³Ø±! ØªÙ… ØªÙØ¹ÙŠÙ„ ÙˆØ¶Ø¹ Ù‚ÙˆØ³ Ù‚Ø²Ø­!', 'achievement');
            playSound('achievement');
            
            setTimeout(() => {
                document.body.classList.remove('rainbow-mode');
            }, 10000);
        }

        // ==================== WIN STREAK ====================

        function updateWinStreak() {
            if (winStreakElement && winStreakValueElement) {
                if (state.currentWinStreak > 0) {
                    winStreakElement.style.display = 'flex';
                    winStreakValueElement.textContent = state.currentWinStreak;
                } else {
                    winStreakElement.style.display = 'none';
                }
            }
        }

        // ==================== RANKS ====================

        function getRank(xp) {
            let rank = RANKS[0];
            for (const r of RANKS) {
                if (xp >= r.minXP) rank = r;
            }
            return rank;
        }

        // ==================== DAILY REWARDS ====================

        function checkDailyReward() {
            const today = new Date().toDateString();
            const btn = document.getElementById('daily-reward-btn');
            const text = document.getElementById('daily-reward-text');
            
            if (state.lastClaimDate === today) {
                text.textContent = 'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ù‡Ø¯ÙŠØ© Ø§Ù„ÙŠÙˆÙ…';
                btn.style.opacity = '0.5';
                btn.style.cursor = 'not-allowed';
            } else {
                const reward = getNextReward();
                text.textContent = `Ù‡Ø¯ÙŠØ© ÙŠÙˆÙ…ÙŠØ©: +${reward} XP`;
                btn.style.opacity = '1';
                btn.style.cursor = 'pointer';
            }
        }

        function getNextReward() {
            const nextDay = state.dailyStreak + 1;
            if (nextDay % 30 === 0) return 3000;
            if (nextDay % 7 === 0) return 1000;
            return 500;
        }

        function claimDailyReward() {
            const today = new Date().toDateString();
            if (state.lastClaimDate === today) return;
            
            state.dailyStreak++;
            const reward = getNextReward();
            state.xp += reward;
            state.lastClaimDate = today;
            saveState();
            
            let msg = `+${reward} XP!`;
            if (state.dailyStreak % 30 === 0) msg = `Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø´Ù‡Ø±! ${msg}`;
            else if (state.dailyStreak % 7 === 0) msg = `Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹! ${msg}`;
            
            showNotification(msg, 'reward');
            playSound('achievement');
            checkDailyReward();
            renderAll();
        }

        // ==================== PROFILE ====================

        function handleProfileImage(event) {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    state.profileImage = e.target.result;
                    saveState();
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© ÙÙŠ ÙƒÙ„ Ù…ÙƒØ§Ù†
                    const homeProfileImg = document.getElementById('home-profile-img');
                    const profileImg = document.getElementById('profile-img');
                    
                    if (homeProfileImg) {
                        homeProfileImg.src = e.target.result;
                        homeProfileImg.style.opacity = '1';
                    }
                    if (profileImg) {
                        profileImg.src = e.target.result;
                        profileImg.style.opacity = '1';
                    }
                    
                    renderAll();
                    playSound('click');
                    showNotification('ØªÙ… ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©');
                };
                reader.readAsDataURL(file);
            }
        }

        function saveProfileName() {
            const input = document.getElementById('profile-name-input');
            state.profileName = input.value.trim() || 'Player';
            saveState();
            renderAll();
            playSound('click');
        }

        // ==================== FRAMES ====================

        function applyFrame(elementId, containerId) {
            const frame = FRAMES.find(f => f.id === state.currentFrame) || FRAMES[0];
            const container = document.getElementById(containerId);
            if (container) {
                container.className = `rounded-full p-1 ${frame.class}`;
                
                // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ø§Ù„ØµÙˆØ±Ø© ØªØ¸Ù‡Ø±
                const img = container.querySelector('img');
                if (img && state.profileImage) {
                    img.src = state.profileImage;
                }
            }
        }

        function unlockFrame(id) {
            const frame = FRAMES.find(f => f.id === id);
            if (state.xp >= frame.price) {
                state.xp -= frame.price;
                state.unlockedFrames.push(id);
                saveState();
                renderStore();
                showNotification(`ØªÙ… ÙØªØ­ ${frame.name}!`, 'achievement');
                playSound('achievement');
            }
        }

        function equipFrame(id) {
            state.currentFrame = id;
            saveState();
            renderStore();
            applyFrame('homeProfileFrame', 'homeProfileFrame');
            applyFrame('profileFrameContainer', 'profileFrameContainer');
            playSound('click');
        }

        // ==================== THEMES ====================

        function applyTheme(themeId) {
            const theme = THEMES.find(t => t.id === themeId) || THEMES[0];
            document.body.className = `${theme.class} min-h-screen flex flex-col overflow-x-hidden`;
        }

        function setTheme(themeId) {
            state.currentTheme = themeId;
            applyTheme(themeId);
            saveState();
            renderThemes();
            playSound('click');
        }

        function renderThemes() {
            const container = document.getElementById('themes-container');
            if (!container) return;
            
            container.innerHTML = THEMES.map(theme => `
                <button onclick="setTheme('${theme.id}')" class="p-3 rounded-xl flex items-center gap-3 transition-all ${state.currentTheme === theme.id ? 'border-2' : 'border'}" style="background: rgba(0,0,0,0.3); border-color: ${state.currentTheme === theme.id ? theme.color : 'var(--border-color)'};">
                    <div class="w-8 h-8 rounded-full" style="background: ${theme.color}; box-shadow: 0 0 15px ${theme.color};"></div>
                    <span class="font-bold" style="color: var(--text-primary);">${theme.name}</span>
                    ${state.currentTheme === theme.id ? '<i data-lucide="check" class="w-4 h-4 mr-auto" style="color: #00ff88;"></i>' : ''}
                </button>
            `).join('');
            lucide.createIcons();
        }

        // ==================== SECRET CODE ====================

        function activateSecretCode() {
            const input = document.getElementById('secret-code-input');
            const code = input.value.trim();
            
            if (code === '2981') {
                if (!state.unlockedSkins.includes('rainbow')) {
                    state.unlockedSkins.push('rainbow');
                    state.currentSkin = 'rainbow';
                    saveState();
                    showNotification('ØªÙ… ÙØªØ­ Ø³ÙƒÙ† Rainbow Master!', 'achievement');
                    playSound('achievement');
                } else {
                    showNotification('Ù‡Ø°Ø§ Ø§Ù„Ø³ÙƒÙ† Ù…ÙØªÙˆØ­ Ø¨Ø§Ù„ÙØ¹Ù„');
                }
            } else if (code === 'DIVISION1') {
                if (!state.unlockedFrames.includes('frame-division1')) {
                    state.unlockedFrames.push('frame-division1');
                    state.currentFrame = 'frame-division1';
                    saveState();
                    showNotification('ØªÙ… ÙØªØ­ Ø¥Ø·Ø§Ø± Division 1!', 'achievement');
                    playSound('achievement');
                } else {
                    showNotification('Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø·Ø§Ø± Ù…ÙØªÙˆØ­ Ø¨Ø§Ù„ÙØ¹Ù„');
                }
            } else if (UNBAN_CODES.includes(code) && state.isBanned) {
                // ÙƒÙˆØ¯ ÙÙƒ Ø§Ù„Ø­Ø¸Ø±
                state.isBanned = false;
                state.unbanAttempts = 3;
                saveState();
                closeBannedModal();
                showNotification('ØªÙ… ÙÙƒ Ø­Ø¸Ø± Ø­Ø³Ø§Ø¨Ùƒ!', 'success');
            } else {
                showNotification('ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­');
            }
            
            input.value = '';
        }

        // ==================== PLAY AS ====================

        function setPlayAs(symbol) {
            state.playAs = symbol;
            saveState();
            renderPlayAs();
            playSound('click');
        }

        function renderPlayAs() {
            const btnX = document.getElementById('play-as-x');
            const btnO = document.getElementById('play-as-o');
            
            if (btnX && btnO) {
                if (state.playAs === 'X') {
                    btnX.style.background = 'rgba(0, 212, 255, 0.1)';
                    btnX.style.borderColor = 'var(--accent-color)';
                    btnX.style.color = 'var(--accent-color)';
                    btnO.style.background = 'rgba(255,255,255,0.02)';
                    btnO.style.borderColor = 'rgba(255,255,255,0.1)';
                    btnO.style.color = 'var(--text-secondary)';
                } else {
                    btnO.style.background = 'rgba(255, 51, 102, 0.1)';
                    btnO.style.borderColor = 'var(--accent-secondary)';
                    btnO.style.color = 'var(--accent-secondary)';
                    btnX.style.background = 'rgba(255,255,255,0.02)';
                    btnX.style.borderColor = 'rgba(255,255,255,0.1)';
                    btnX.style.color = 'var(--text-secondary)';
                }
            }
        }

        // ==================== STORE ====================

        let storeCategory = 'all';
        let storeRarity = 'all';
        let storeSearch = '';
        let storeSort = 'none';

        function renderStore() {
            const container = document.getElementById('store-container');
            if (!container) return;
            
            let items = [];
            
            // Add skins or frames based on category
            if (storeCategory === 'all' || storeCategory === 'skins') {
                items = items.concat(SKINS.filter(s => !s.secret || state.unlockedSkins.includes(s.id)).map(s => ({ ...s, type: 'skin' })));
            }
            if (storeCategory === 'all' || storeCategory === 'frames') {
                items = items.concat(FRAMES.filter(f => !f.secret || state.unlockedFrames.includes(f.id)).map(f => ({ ...f, type: 'frame' })));
            }
            
            // Filter by rarity
            if (storeRarity !== 'all') {
                items = items.filter(item => item.rarity === storeRarity);
            }
            
            // Filter by search
            if (storeSearch) {
                items = items.filter(item => item.name.toLowerCase().includes(storeSearch.toLowerCase()));
            }
            
            // Sort
            if (storeSort === 'asc') {
                items.sort((a, b) => a.price - b.price);
            } else if (storeSort === 'desc') {
                items.sort((a, b) => b.price - a.price);
            }
            
            container.innerHTML = items.map(item => {
                const isUnlocked = item.type === 'skin' ? state.unlockedSkins.includes(item.id) : state.unlockedFrames.includes(item.id);
                const isEquipped = item.type === 'skin' ? state.currentSkin === item.id : state.currentFrame === item.id;
                const canAfford = state.xp >= item.price;
                
                let rarityClass = '';
                if (item.rarity === 'common') rarityClass = 'rarity-common';
                else if (item.rarity === 'rare') rarityClass = 'rarity-rare';
                else if (item.rarity === 'epic') rarityClass = 'rarity-epic';
                else if (item.rarity === 'legendary') rarityClass = 'rarity-legendary';
                
                let previewClass = '';
                if (item.type === 'skin') {
                    previewClass = item.class || '';
                } else {
                    previewClass = `frame-preview ${item.previewClass || ''}`;
                }
                
                return `
                    <div class="store-item">
                        <div class="store-item-preview ${previewClass}">
                            ${item.type === 'skin' ? 'X' : ''}
                        </div>
                        <div class="store-item-info">
                            <div class="store-item-name">${item.name}</div>
                            <div class="store-item-price">
                                <i data-lucide="coins"></i>
                                <span>${item.price.toLocaleString()} XP</span>
                            </div>
                        </div>
                        <div class="store-item-footer">
                            <span class="store-item-rarity ${rarityClass}">${item.rarity}</span>
                            ${isUnlocked ? 
                                `<button onclick="equipItem('${item.type}', '${item.id}')" class="store-item-btn" style="background: ${isEquipped ? 'var(--accent-color)' : 'rgba(255,255,255,0.2)'};">${isEquipped ? 'Ù…ÙÙØ¹Ù‘Ù„' : 'ØªÙØ¹ÙŠÙ„'}</button>` :
                                `<button onclick="unlockItem('${item.type}', '${item.id}')" class="store-item-btn" ${!canAfford ? 'disabled' : ''} style="background: ${canAfford ? '#ffd700' : 'rgba(255,255,255,0.2)'};">${canAfford ? 'Ø´Ø±Ø§Ø¡' : 'ØºÙŠØ± ÙƒØ§Ù'}</button>`
                            }
                        </div>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        function unlockItem(type, id) {
            if (type === 'skin') {
                unlockSkin(id);
            } else {
                unlockFrame(id);
            }
        }

        function equipItem(type, id) {
            if (type === 'skin') {
                equipSkin(id);
            } else {
                equipFrame(id);
            }
        }

        function unlockSkin(id) {
            const skin = SKINS.find(s => s.id === id);
            if (state.xp >= skin.price) {
                state.xp -= skin.price;
                state.unlockedSkins.push(id);
                state.currentSkin = id;
                saveState();
                renderStore();
                showNotification(`ØªÙ… ÙØªØ­ ${skin.name}!`, 'achievement');
                playSound('achievement');
            }
        }

        function equipSkin(id) {
            state.currentSkin = id;
            saveState();
            renderStore();
            playSound('click');
        }

        function setStoreCategory(category) {
            storeCategory = category;
            document.querySelectorAll('.category-tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(`cat-${category}`).classList.add('active');
            renderStore();
        }

        function setRarityFilter(rarity) {
            storeRarity = rarity;
            document.querySelectorAll('[id^="rarity-"]').forEach(btn => btn.classList.remove('active'));
            document.getElementById(`rarity-${rarity}`).classList.add('active');
            renderStore();
        }

        function filterStore() {
            storeSearch = document.getElementById('storeSearch').value;
            renderStore();
        }

        function sortByPrice(order) {
            storeSort = order;
            renderStore();
        }

        // ==================== DIVISION MODE ====================

        function renderDivisions() {
            const container = document.getElementById('divisionContainer');
            if (!container) return;
            
            container.innerHTML = DIVISIONS.map(div => {
                const isCompleted = div.level > state.currentDivision;
                const isCurrent = div.level === state.currentDivision;
                const progress = isCurrent ? (state.divisionPoints / div.required) * 100 : (isCompleted ? 100 : 0);
                
                let difficultyColor = '#00ff88';
                if (div.difficulty === 'medium') difficultyColor = '#ffd700';
                else if (div.difficulty === 'hard') difficultyColor = '#ff6b35';
                else if (div.difficulty === 'genius') difficultyColor = '#ff3366';
                
                return `
                    <div class="division-card ${isCompleted ? 'completed' : ''} ${isCurrent ? 'current' : ''}">
                        <div class="division-badge" style="background: ${difficultyColor}; color: ${div.difficulty === 'beginner' ? 'black' : 'white'};">${div.difficulty}</div>
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-xl font-bold" style="color: ${isCurrent ? 'var(--accent-color)' : 'var(--text-primary)'};">${div.name}</span>
                            <span style="color: #ffd700;">ðŸŽ ${div.reward} XP</span>
                        </div>
                        <div class="division-stats">
                            <div class="division-stat">
                                <div class="division-stat-value">${div.required}</div>
                                <div class="division-stat-label">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</div>
                            </div>
                            <div class="division-stat">
                                <div class="division-stat-value">${isCurrent ? state.divisionPoints : (isCompleted ? div.required : 0)}</div>
                                <div class="division-stat-label">Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©</div>
                            </div>
                            <div class="division-stat">
                                <div class="division-stat-value">${Math.max(0, div.required - (isCurrent ? state.divisionPoints : 0))}</div>
                                <div class="division-stat-label">Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ</div>
                            </div>
                        </div>
                        <div class="division-progress">
                            <div class="division-progress-bar" style="width: ${progress}%"></div>
                        </div>
                        ${isCurrent ? `
                            <div class="mt-3 text-center" style="color: var(--text-secondary);">
                                Ø§Ù„ÙÙˆØ² +3 | Ø§Ù„ØªØ¹Ø§Ø¯Ù„ +1 | Ø§Ù„Ø®Ø³Ø§Ø±Ø© -3
                            </div>
                        ` : ''}
                    </div>
                `;
            }).join('');
        }

        function updateDivisionDisplay() {
            const currentDiv = document.getElementById('currentDivision');
            const divisionPoints = document.getElementById('divisionPoints');
            const bestDivision = document.getElementById('bestDivision');
            const divisionCurrentDisplay = document.getElementById('divisionCurrentDisplay');
            const divisionPointsDisplay = document.getElementById('divisionPointsDisplay');
            const divisionRequiredDisplay = document.getElementById('divisionRequiredDisplay');
            const divisionProgressBar = document.getElementById('divisionProgressBar');
            
            if (currentDiv) currentDiv.textContent = state.currentDivision;
            if (divisionPoints) divisionPoints.textContent = state.divisionPoints;
            if (bestDivision) bestDivision.textContent = 10 - state.completedDivisions;
            
            const currentDivisionData = DIVISIONS.find(d => d.level === state.currentDivision);
            if (currentDivisionData) {
                if (divisionCurrentDisplay) divisionCurrentDisplay.textContent = state.currentDivision;
                if (divisionPointsDisplay) divisionPointsDisplay.textContent = state.divisionPoints;
                if (divisionRequiredDisplay) divisionRequiredDisplay.textContent = currentDivisionData.required;
                
                const progress = (state.divisionPoints / currentDivisionData.required) * 100;
                if (divisionProgressBar) divisionProgressBar.style.width = `${Math.min(100, progress)}%`;
            }
        }

        function completeDivision() {
            const currentDivisionData = DIVISIONS.find(d => d.level === state.currentDivision);
            if (!currentDivisionData) return;
            
            // Add XP reward
            state.xp += currentDivisionData.reward;
            state.completedDivisions++;
            
            // Special rewards for Division 1
            if (state.currentDivision === 1 && !state.completedDivision1) {
                state.completedDivision1 = true;
                state.xp += 100000; // Ù…ÙƒØ§ÙØ£Ø© Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† 1
                
                // Unlock rainbow skin if not already
                if (!state.unlockedSkins.includes('rainbow')) {
                    state.unlockedSkins.push('rainbow');
                }
                
                // Unlock Division 1 frame
                if (!state.unlockedFrames.includes('frame-division1')) {
                    state.unlockedFrames.push('frame-division1');
                }
                
                // Show Division 1 completion modal
                showDivisionCompleteModal(1, 100000 + currentDivisionData.reward);
                
            } else {
                // Show normal division completion
                showDivisionCompleteModal(state.currentDivision, currentDivisionData.reward);
            }
            
            // Move to next division
            if (state.currentDivision > 1) {
                state.currentDivision--;
                state.divisionPoints = 0;
            } else {
                // Already at Division 1, show completion message
                showDivisionCompleteModal(0, 0);
            }
            
            playSound('division-up');
            saveState();
            checkAchievements();
        }

        function showDivisionCompleteModal(division, reward) {
            const overlay = document.getElementById('division-complete-overlay');
            const modal = document.getElementById('division-complete-modal');
            const title = document.getElementById('divisionCompleteTitle');
            const message = document.getElementById('divisionCompleteMessage');
            const rewardText = document.getElementById('divisionRewardText');
            
            if (division === 0) {
                // All divisions completed
                title.textContent = 'ðŸŽ‰ ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! ðŸŽ‰';
                message.textContent = 'Ù„Ù‚Ø¯ Ø£Ù†Ù‡ÙŠØª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù†Ø²!';
                rewardText.innerHTML = 'Ø§Ù†ØªØ¸Ø± Ø§Ù„Ø¯ÙŠÙÙŠØ¬Ù† Ø§Ù„Ù‚Ø§Ø¯Ù… Ù‚Ø±ÙŠØ¨Ø§Ù‹...';
            } else if (division === 1) {
                title.textContent = 'ðŸ† Ø£Ø³Ø·ÙˆØ±Ø©! ðŸ†';
                message.textContent = 'Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Division 1!';
                rewardText.innerHTML = `${reward} XP<br>Ø³ÙƒÙ† Rainbow Master<br>Ø¥Ø·Ø§Ø± Division 1 Ø§Ù„Ø£Ø³Ø·ÙˆØ±ÙŠ`;
            } else {
                title.textContent = 'ØªÙ‡Ø§Ù†ÙŠÙ†Ø§!';
                message.textContent = `Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Division ${division}`;
                rewardText.innerHTML = `${reward} XP`;
            }
            
            overlay.classList.add('active');
            modal.classList.add('active');
        }

        function closeDivisionComplete() {
            document.getElementById('division-complete-overlay').classList.remove('active');
            document.getElementById('division-complete-modal').classList.remove('active');
        }

        // ==================== LEVELS ====================

        function renderLevels() {
            const container = document.getElementById('levels-container');
            if (!container) return;
            
            container.innerHTML = LEVELS.map(level => {
                const stars = renderAIStars(level.id);
                return `
                    <div class="mb-4">
                        <button onclick="startGame('computer', '${level.id}')" class="neon-btn w-full rounded-xl p-5 flex items-center justify-between text-right" style="box-shadow: 0 0 20px ${level.color}30;">
                            <div class="flex items-center gap-4">
                                <i data-lucide="${level.icon}" class="w-8 h-8" style="color: ${level.color};"></i>
                                <div>
                                    <div class="font-bold text-lg" style="color: ${level.color};">${level.name}</div>
                                    <div class="text-sm" style="color: var(--text-secondary);">${level.desc}</div>
                                </div>
                            </div>
                            <i data-lucide="chevron-left" class="w-5 h-5" style="color: var(--text-secondary);"></i>
                        </button>
                        ${stars}
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        // ==================== CHALLENGES ====================

        function renderChallenges() {
            const container = document.getElementById('challenges-container');
            if (!container) return;
            
            container.innerHTML = CHALLENGES.map(ch => `
                <div class="glass-card rounded-xl p-5 flex items-center justify-between">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: rgba(0,0,0,0.4); border: 1px solid var(--border-color);">
                            <i data-lucide="${ch.icon}" class="w-6 h-6" style="color: var(--accent-color);"></i>
                        </div>
                        <div>
                            <div class="font-bold" style="color: var(--text-primary);">${ch.title}</div>
                            <div class="text-sm" style="color: var(--text-secondary);">${ch.desc}</div>
                            <div class="text-sm" style="color: #ffd700;">Ù…ÙƒØ§ÙØ£Ø©: ${ch.reward} XP</div>
                        </div>
                    </div>
                </div>
            `).join('');
            lucide.createIcons();
        }

        // ==================== ACHIEVEMENTS ====================

        function renderAchievements() {
            const container = document.getElementById('profile-achievements');
            if (!container) return;
            
            container.innerHTML = ACHIEVEMENTS.map(ach => {
                const completed = state.achievements.includes(ach.id);
                return `
                    <div class="flex items-center gap-4 p-4 rounded-xl transition-all" style="background: ${completed ? 'rgba(0,255,136,0.1)' : 'rgba(0,0,0,0.3)'}; border: 1px solid ${completed ? 'rgba(0,255,136,0.3)' : 'var(--border-color)'};">
                        <div class="w-12 h-12 rounded-full flex items-center justify-center" style="background: ${completed ? 'rgba(0,255,136,0.2)' : 'rgba(255,255,255,0.05)'};">
                            <i data-lucide="${ach.icon}" class="w-6 h-6" style="color: ${completed ? '#00ff88' : 'var(--text-secondary)'};"></i>
                        </div>
                        <div class="flex-1">
                            <div class="font-bold" style="color: ${completed ? '#00ff88' : 'var(--text-primary)'};">${ach.title}</div>
                            <div class="text-sm" style="color: var(--text-secondary);">${ach.desc}</div>
                            <div class="text-sm" style="color: #ffd700;">+${ach.xp} XP</div>
                        </div>
                        <i data-lucide="${completed ? 'check-circle' : 'circle'}" class="w-6 h-6" style="color: ${completed ? '#00ff88' : 'var(--text-secondary)'};"></i>
                    </div>
                `;
            }).join('');
            lucide.createIcons();
        }

        function checkAchievements() {
            ACHIEVEMENTS.forEach(ach => {
                if (!state.achievements.includes(ach.id) && ach.check(state)) {
                    state.achievements.push(ach.id);
                    state.xp += ach.xp;
                    showNotification(`Ø¥Ù†Ø¬Ø§Ø² Ø¬Ø¯ÙŠØ¯: ${ach.title}! +${ach.xp} XP`, 'achievement');
                }
            });
            saveState();
        }

        // ==================== RESET ====================

        function resetProgress() {
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù ÙƒÙ„ Ø§Ù„ØªÙ‚Ø¯Ù…ØŸ Ù‡Ø°Ø§ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ±Ø§Ø¬Ø¹ Ø¹Ù†Ù‡.')) {
                localStorage.removeItem('xo-arena-v5');
                localStorage.removeItem('aiProgress');
                location.reload();
            }
        }

        // ==================== RENDER ALL ====================

        function renderAll() {
            const rank = getRank(state.xp);
            
            // Home
            const homeUsername = document.getElementById('home-username');
            const homeRank = document.getElementById('home-rank');
            const homeXP = document.getElementById('home-xp');
            const homeWins = document.getElementById('home-wins');
            const homeLosses = document.getElementById('home-losses');
            const homeDraws = document.getElementById('home-draws');
            
            if (homeUsername) homeUsername.textContent = state.profileName;
            if (homeRank) {
                homeRank.textContent = rank.name;
                homeRank.style.background = rank.color;
            }
            if (homeXP) homeXP.textContent = `${state.xp} XP`;
            if (homeWins) homeWins.textContent = state.stats.wins;
            if (homeLosses) homeLosses.textContent = state.stats.losses;
            if (homeDraws) homeDraws.textContent = state.stats.draws;
            
            const homeImg = document.getElementById('home-profile-img');
            if (homeImg) {
                if (state.profileImage) {
                    homeImg.src = state.profileImage;
                } else {
                    homeImg.src = 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3Ccircle cx=\'50\' cy=\'35\' r=\'20\' fill=\'%2300d4ff\'/%3E%3Cellipse cx=\'50\' cy=\'80\' rx=\'30\' ry=\'25\' fill=\'%2300d4ff\'/%3E%3C/svg%3E';
                }
                homeImg.style.opacity = '1';
            }
            
            // Apply frame
            applyFrame('homeProfileFrame', 'homeProfileFrame');
            applyFrame('profileFrameContainer', 'profileFrameContainer');
            
            // Game
            const gameXP = document.getElementById('game-xp');
            if (gameXP) gameXP.textContent = `${state.xp} XP`;
            
            // Store
            const storeXP = document.getElementById('store-xp');
            if (storeXP) storeXP.textContent = state.xp;
            
            // Profile
            const profileXP = document.getElementById('profile-xp');
            const profileRank = document.getElementById('profile-rank');
            const profileNameInput = document.getElementById('profile-name-input');
            const dailyStreak = document.getElementById('daily-streak');
            
            if (profileXP) profileXP.textContent = `${state.xp} XP`;
            if (profileRank) {
                profileRank.textContent = rank.name;
                profileRank.style.background = rank.color;
            }
            if (profileNameInput) profileNameInput.value = state.profileName;
            if (dailyStreak) dailyStreak.textContent = state.dailyStreak;
            
            const profileImg = document.getElementById('profile-img');
            if (profileImg) {
                if (state.profileImage) {
                    profileImg.src = state.profileImage;
                } else {
                    profileImg.src = 'data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' viewBox=\'0 0 100 100\'%3E%3Ccircle cx=\'50\' cy=\'50\' r=\'50\' fill=\'%231e293b\'/%3E%3Ccircle cx=\'50\' cy=\'35\' r=\'20\' fill=\'%2300d4ff\'/%3E%3Cellipse cx=\'50\' cy=\'80\' rx=\'30\' ry=\'25\' fill=\'%2300d4ff\'/%3E%3C/svg%3E';
                }
                profileImg.style.opacity = '1';
            }
            
            // Stats
            const statTotal = document.getElementById('stat-total');
            const statWins = document.getElementById('stat-wins');
            const statLosses = document.getElementById('stat-losses');
            const statDraws = document.getElementById('stat-draws');
            const statStreak = document.getElementById('stat-streak');
            const statBest = document.getElementById('stat-best');
            
            if (statTotal) statTotal.textContent = state.stats.totalMatches;
            if (statWins) statWins.textContent = state.stats.wins;
            if (statLosses) statLosses.textContent = state.stats.losses;
            if (statDraws) statDraws.textContent = state.stats.draws;
            if (statStreak) statStreak.textContent = state.stats.winStreak;
            if (statBest) statBest.textContent = state.stats.bestStreak;
            
            // Online stats
            const onlineMatches = document.getElementById('online-matches-count');
            const onlineWins = document.getElementById('online-wins');
            const onlineLosses = document.getElementById('online-losses');
            
            if (onlineMatches) onlineMatches.textContent = state.onlineStats.matches;
            if (onlineWins) onlineWins.textContent = state.onlineStats.wins;
            if (onlineLosses) onlineLosses.textContent = state.onlineStats.losses;
            
            // Next reward
            const nextReward = document.getElementById('next-reward-amount');
            if (nextReward) nextReward.textContent = `${getNextReward()} XP`;
            
            // Division
            updateDivisionDisplay();
            
            // Ad status
            updateAdStatus();
            
            // Render components
            renderStore();
            renderLevels();
            renderChallenges();
            renderThemes();
            renderPlayAs();
            renderAchievements();
            renderDivisions();
            updateSoundIcon();
            updateMusicUI();
            updateWinStreak();
        }

        // ==================== RIPPLE EFFECT ====================

        document.addEventListener('click', function(e) {
            if (e.target.closest('.neon-btn')) {
                const btn = e.target.closest('.neon-btn');
                const ripple = document.createElement('span');
                ripple.className = 'ripple';
                const rect = btn.getBoundingClientRect();
                const size = Math.max(rect.width, rect.height);
                ripple.style.width = ripple.style.height = size + 'px';
                ripple.style.left = e.clientX - rect.left - size / 2 + 'px';
                ripple.style.top = e.clientY - rect.top - size / 2 + 'px';
                btn.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            }
        });

        // ==================== START ====================

        window.onload = function() {
            init();
        };

        // Ø¬Ø¹Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ù…ØªØ§Ø­Ø© Ø¹Ø§Ù„Ù…ÙŠØ§Ù‹
        window.toggleSettingsPanel = toggleSettingsPanel;
        window.navigateToAndCloseSettings = navigateToAndCloseSettings;
        window.openSettingsAndNavigate = openSettingsAndNavigate;
        window.acceptCookies = acceptCookies;
        window.declineCookies = declineCookies;
        window.toggleSound = toggleSound;
        window.toggleMusic = toggleMusic;
        window.nextSong = nextSong;
        window.previousSong = previousSong;
        window.changeSong = changeSong;
        window.navigateTo = navigateTo;
        window.startGame = startGame;
        window.startDivisionMatch = startDivisionOffline;
        window.startDivisionOffline = startDivisionOffline;
        window.startDivisionOnline = startDivisionOnline;
        window.claimDailyReward = claimDailyReward;
        window.handleProfileImage = handleProfileImage;
        window.saveProfileName = saveProfileName;
        window.setTheme = setTheme;
        window.setPlayAs = setPlayAs;
        window.activateSecretCode = activateSecretCode;
        window.unlockSkin = unlockSkin;
        window.equipSkin = equipSkin;
        window.unlockFrame = unlockFrame;
        window.equipFrame = equipFrame;
        window.resetProgress = resetProgress;
        window.openGuide = openGuide;
        window.closeGuide = closeGuide;
        window.closeDivisionComplete = closeDivisionComplete;
        window.endGameAndReturn = endGameAndReturn;
        window.resetBoard = resetBoard;
        window.showLoadingAndReset = showLoadingAndReset;
        window.setStoreCategory = setStoreCategory;
        window.setRarityFilter = setRarityFilter;
        window.filterStore = filterStore;
        window.sortByPrice = sortByPrice;
        window.showNotification = showNotification;
        window.handleLogoClick = handleLogoClick;
        
        // Friends online functions
        window.showFriendOptions = showFriendOptions;
        window.showFriendsOnlineOptions = showFriendsOnlineOptions;
        window.createRoom = createRoom;
        window.joinRoom = joinRoom;
        window.copyRoomCode = copyRoomCode;
        window.adjustRounds = adjustRounds;
        window.updateTimerSetting = updateTimerSetting;
        window.updateDrawSetting = updateDrawSetting;
        window.updateSoundSetting = updateSoundSetting;
        window.restartMatch = restartMatch;
        window.kickPlayer = kickPlayer;
        window.closeRoom = closeRoom;
        window.leaveRoom = leaveRoom;
        
        // Online matches functions
        window.showOnlineMatches = showOnlineMatches;
        window.updateXpBetValue = updateXpBetValue;
        window.joinOnlineMatchmaking = joinOnlineMatchmaking;
        window.cancelMatchmaking = cancelMatchmaking;
        
        // Division online functions
        window.joinDivisionQueue = joinDivisionQueue;
        window.cancelDivisionMatchmaking = cancelDivisionMatchmaking;
        
        // VAR functions
        window.showVAR = showVAR;
        window.closeVAR = closeVAR;
        window.varPrev = varPrev;
        window.varNext = varNext;
        window.varPause = varPause;
        window.varRestart = varRestart;
        
        // Ad functions
        window.closeAd = closeAd;
        window.purchaseAdRemoval = purchaseAdRemoval;
        
        // Share functions
        window.shareOnFacebook = shareOnFacebook;
        window.shareOnTwitter = shareOnTwitter;
        window.shareOnWhatsApp = shareOnWhatsApp;
        window.shareOnTelegram = shareOnTelegram;
        window.verifyShare = verifyShare;
        
        // Banned functions
        window.attemptUnban = attemptUnban;
        window.closeBannedModal = closeBannedModal;
        
        // What's New
        window.closeWhatsNew = closeWhatsNew;
    </script>

    <!-- ========== FIREBASE INITIALIZATION WITH AUTH AND FIRESTORE ========== -->
    <script type="module">
        // Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ù…ÙƒØªØ¨Ø§Øª Firebase Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-app.js";
        import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-auth.js";
        import { getFirestore, doc, getDoc, setDoc, updateDoc, deleteDoc, collection, query, where, getDocs, onSnapshot, increment } from "https://www.gstatic.com/firebasejs/12.9.0/firebase-firestore.js";

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyC6R4pN1jidNd3bd0U9_hPTAD6d-YA3CP8",
            authDomain: "xo-arena-5f15d.firebaseapp.com",
            projectId: "xo-arena-5f15d",
            storageBucket: "xo-arena-5f15d.firebasestorage.app",
            messagingSenderId: "271480047003",
            appId: "1:271480047003:web:b8215ce214f68502fc4d3e"
        };

        // ØªÙ‡ÙŠØ¦Ø© Firebase
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        const provider = new GoogleAuthProvider();

        // ==================== Ù†Ø¸Ø§Ù… Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© Ø§Ù„Ù…Ø­Ø³Ù† ====================
        
        // Ø¥Ù†Ø´Ø§Ø¡ Promise Ù„Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        let authReady = false;
        let authInitialized = false;
        let pendingAuthResolve = null;
        
        const authPromise = new Promise((resolve) => {
            pendingAuthResolve = resolve;
        });

        // Ù…ØªØºÙŠØ± Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ Ù…Ø¹ Ù†Ø¸Ø§Ù… Ø§Ù†ØªØ¸Ø§Ø±
        let _currentUser = null;
        const userListeners = [];

        // Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø¹ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
        async function getCurrentUser() {
            if (!authInitialized) {
                await authPromise;
            }
            return _currentUser;
        }

        // Ø¯Ø§Ù„Ø© Ù„Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙ…Ø¹ Ù„ØªØºÙŠÙŠØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
        function onUserChange(callback) {
            if (typeof callback === 'function') {
                userListeners.push(callback);
                // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„ØŒ Ù†Ø±Ø³Ù„Ù‡ ÙÙˆØ±Ø§Ù‹
                if (_currentUser) {
                    callback(_currentUser);
                }
            }
        }

        // ==================== Ù…Ø±Ø§Ù‚Ø¨Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ====================
        onAuthStateChanged(auth, async (user) => {
            console.log('ðŸ”¥ onAuthStateChanged:', user ? `Ù…Ø³ØªØ®Ø¯Ù…: ${user.displayName}` : 'Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…');
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØºÙŠØ± Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ
            _currentUser = user;
            authInitialized = true;
            
            // Ø­Ù„ Ø§Ù„Ù€ Promise Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…Ø¹Ù„Ù‚Ø§Ù‹
            if (pendingAuthResolve) {
                pendingAuthResolve();
                pendingAuthResolve = null;
            }
            
            // Ø¥Ø´Ø¹Ø§Ø± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ…Ø¹ÙŠÙ†
            userListeners.forEach(listener => {
                try {
                    listener(user);
                } catch (e) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ Ù…Ø³ØªÙ…Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…:', e);
                }
            });
            
            if (user) {
                // Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„ - Ù†ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø³Ø§Ø¨Ù‡ ÙÙŠ Firestore
                try {
                    const userDocRef = doc(db, "users", user.uid);
                    const userDocSnap = await getDoc(userDocRef);

                    if (!userDocSnap.exists()) {
                        // Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ - Ù†Ø¶ÙŠÙÙ‡
                        console.log("âœ… Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ØŒ ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù„Ù ØªØ¹Ø±ÙŠÙ");
                        
                        // Ø¥Ø¶Ø§ÙØ© 30,000 XP Ù„Ù„ØªØ±Ø­ÙŠØ¨
                        const currentXP = window.state?.xp || 0;
                        if (window.state) window.state.xp = currentXP + 30000;
                        
                        if (window.state) {
                            window.state.profileName = user.displayName || 'Player';
                            if (user.photoURL) {
                                window.state.profileImage = user.photoURL;
                            }
                        }
                        
                        if (window.saveState) window.saveState();
                        
                        await setDoc(userDocRef, {
                            uid: user.uid,
                            email: user.email,
                            displayName: user.displayName,
                            photoURL: user.photoURL,
                            username: window.state?.profileName || user.displayName,
                            xp: (window.state?.xp || 0) + 30000,
                            level: window.getLevel ? window.getLevel(window.state?.xp || 0) : 1,
                            division: window.state?.currentDivision || 10,
                            divisionPoints: window.state?.divisionPoints || 0,
                            wins: window.state?.stats?.wins || 0,
                            losses: window.state?.stats?.losses || 0,
                            avatar: window.state?.profileImage || user.photoURL,
                            createdAt: new Date().toISOString(),
                            lastLogin: new Date().toISOString(),
                        });
                        
                        if (window.showNotification) window.showNotification(`ðŸŽ‰ Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.displayName}! ØªÙ… Ø¥Ø¶Ø§ÙØ© 30,000 XP`, 'reward');
                        
                    } else {
                        // Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ - Ù†Ø­Ø¯Ø« Ø¨ÙŠØ§Ù†Ø§ØªÙ‡
                        const userData = userDocSnap.data();
                        console.log("ðŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯:", userData.username);
                        
                        // ØªØ­Ø¯ÙŠØ« Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ù† Firestore Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø­Ù„ÙŠØ©
                        if (window.state) {
                            if (userData.xp) window.state.xp = userData.xp;
                            if (userData.division) window.state.currentDivision = userData.division;
                            if (userData.divisionPoints) window.state.divisionPoints = userData.divisionPoints;
                            if (userData.wins) window.state.stats.wins = userData.wins;
                            if (userData.losses) window.state.stats.losses = userData.losses;
                            
                            window.state.profileName = user.displayName || window.state.profileName;
                            if (user.photoURL) {
                                window.state.profileImage = user.photoURL;
                            }
                        }
                        
                        if (window.saveState) window.saveState();
                        
                        // ØªØ­Ø¯ÙŠØ« Ø¢Ø®Ø± ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„
                        await updateDoc(userDocRef, {
                            lastLogin: new Date().toISOString(),
                            photoURL: user.photoURL,
                            displayName: user.displayName
                        });
                    }
                    
                    if (window.renderAll) window.renderAll();
                    updateUIForLoggedInUser(user);
                    
                } catch (error) {
                    console.error("âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Firestore:", error);
                    if (window.showNotification) window.showNotification("Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù….", 'error');
                }
            } else {
                // Ù…Ø³ØªØ®Ø¯Ù… ØºÙŠØ± Ù…Ø³Ø¬Ù„
                console.log("ðŸ‘¤ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„");
                updateUIForLoggedOutUser();
            }
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            if (window.lucide) window.lucide.createIcons();
        });

        // ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ====================
        
        window.googleSignIn = async function() {
            try {
                console.log("ðŸ”„ Ø¬Ø§Ø±ÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„...");
                const result = await signInWithPopup(auth, provider);
                const user = result.user;
                console.log("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­:", user.displayName);
                
                // Ø¥ØºÙ„Ø§Ù‚ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
                if (window.toggleSettingsPanel) window.toggleSettingsPanel();
                if (window.showNotification) window.showNotification(`âœ… Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.displayName}!`, 'success');
                
                return user;
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:', error);
                if (window.showNotification) window.showNotification('ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.', 'error');
            }
        };

        window.googleSignOut = async function() {
            try {
                await signOut(auth);
                if (window.showNotification) window.showNotification('ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬ Ø¨Ù†Ø¬Ø§Ø­', 'info');
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬:', error);
                if (window.showNotification) window.showNotification('ÙØ´Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬', 'error');
            }
        };

        // ==================== Ø¯ÙˆØ§Ù„ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ====================
        
        // Ø¯Ø§Ù„Ø© Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¹ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±
        window.requireAuth = async function(showPrompt = true) {
            // Ø§Ù†ØªØ¸Ø± Ø­ØªÙ‰ ÙŠØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
            if (!authInitialized) {
                console.log("â³ Ø§Ù†ØªØ¸Ø§Ø± ØªÙ‡ÙŠØ¦Ø© Firebase...");
                await authPromise;
            }
            
            if (!_currentUser) {
                if (showPrompt) {
                    if (window.showNotification) window.showNotification('âŒ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹', 'error');
                    // ÙØªØ­ Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¨Ø¹Ø¯ Ù‚Ù„ÙŠÙ„
                    setTimeout(() => {
                        if (window.toggleSettingsPanel) window.toggleSettingsPanel();
                    }, 500);
                }
                return false;
            }
            
            console.log("âœ… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…Ø³Ø¬Ù„:", _currentUser.displayName);
            return true;
        };

        // ==================== ØªØ¬Ø§ÙˆØ² Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ÙˆÙ†Ù„Ø§ÙŠÙ† Ù„Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø© ====================
        
        // Ø­ÙØ¸ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø£ØµÙ„ÙŠØ©
        const originalCreateRoom = window.createRoom;
        const originalJoinRoom = window.joinRoom;
        const originalJoinOnlineMatchmaking = window.joinOnlineMatchmaking;
        const originalJoinDivisionQueue = window.joinDivisionQueue;
        const originalShowFriendsOnlineOptions = window.showFriendsOnlineOptions;
        const originalShowOnlineMatches = window.showOnlineMatches;

        // Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø§Ù„Ø¯ÙˆØ§Ù„ Ø¨Ù†Ø³Ø® Ù…Ø­Ø³Ù†Ø©
        window.createRoom = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalCreateRoom) originalCreateRoom();
        };

        window.joinRoom = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalJoinRoom) originalJoinRoom();
        };

        window.joinOnlineMatchmaking = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalJoinOnlineMatchmaking) originalJoinOnlineMatchmaking();
        };

        window.joinDivisionQueue = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalJoinDivisionQueue) originalJoinDivisionQueue();
        };

        window.showFriendsOnlineOptions = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalShowFriendsOnlineOptions) originalShowFriendsOnlineOptions();
        };

        window.showOnlineMatches = async function() {
            const isAuth = await window.requireAuth();
            if (!isAuth) return;
            if (originalShowOnlineMatches) originalShowOnlineMatches();
        };

        // ==================== Ø¯ÙˆØ§Ù„ ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ====================
        
        function updateUIForLoggedInUser(user) {
            // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            const signInBtn = document.getElementById('googleSignInBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const userInfoSection = document.getElementById('userInfoSection');
            
            if (signInBtn) signInBtn.style.display = 'none';
            if (logoutBtn) logoutBtn.style.display = 'flex';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (userInfoSection) userInfoSection.style.display = 'block';
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØµÙˆØ±Ø© ÙˆØ§Ù„Ø§Ø³Ù…
            const userAvatar = document.getElementById('userAvatar');
            const userName = document.getElementById('userName');
            const userEmail = document.getElementById('userEmail');
            
            if (userAvatar) {
                if (user.photoURL) {
                    userAvatar.src = user.photoURL;
                    userAvatar.style.display = 'block';
                } else {
                    userAvatar.style.display = 'none';
                }
            }
            
            if (userName) userName.textContent = user.displayName || 'Ù…Ø³ØªØ®Ø¯Ù… Google';
            if (userEmail) userEmail.textContent = user.email || '';
            
            // Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ø±Ø³Ø§Ø¦Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø§Ù„ØµÙØ­Ø§Øª
            hideLoginPrompts();
            
            if (window.lucide) window.lucide.createIcons();
        }

        function updateUIForLoggedOutUser() {
            // Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
            const signInBtn = document.getElementById('googleSignInBtn');
            const logoutBtn = document.getElementById('logoutBtn');
            const userInfoSection = document.getElementById('userInfoSection');
            
            if (signInBtn) signInBtn.style.display = 'flex';
            if (logoutBtn) logoutBtn.style.display = 'none';
            
            // Ø¥Ø®ÙØ§Ø¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (userInfoSection) userInfoSection.style.display = 'none';
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø±Ø³Ø§Ø¦Ù„ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø§Ù„ØµÙØ­Ø§Øª
            showLoginPrompts();
            
            if (window.lucide) window.lucide.createIcons();
        }

        function hideLoginPrompts() {
            // Ø¥Ø®ÙØ§Ø¡ Ø£ÙŠ Ø±Ø³Ø§Ø¦Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù…Ø¶Ø§ÙØ© Ù…Ø³Ø¨Ù‚Ø§Ù‹
            document.querySelectorAll('.login-prompt').forEach(el => el.remove());
        }

        function showLoginPrompts() {
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ø¦Ù„ ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„ Ù„Ù„ØµÙØ­Ø§Øª Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ù…ØµØ§Ø¯Ù‚Ø©
            const pages = ['page-friends-online', 'page-online-matches'];
            
            pages.forEach(pageId => {
                const page = document.getElementById(pageId);
                if (page && page.classList.contains('active')) {
                    addLoginPromptToPage(pageId);
                }
            });
        }

        function addLoginPromptToPage(pageId) {
            const page = document.getElementById(pageId);
            if (!page) return;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø£ÙŠ Ø±Ø³Ø§Ø¦Ù„ Ø³Ø§Ø¨Ù‚Ø©
            const oldPrompt = page.querySelector('.login-prompt');
            if (oldPrompt) oldPrompt.remove();
            
            // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© Ø¬Ø¯ÙŠØ¯Ø©
            const loginPrompt = document.createElement('div');
            loginPrompt.className = 'login-prompt glass-card rounded-xl p-6 mb-6 text-center';
            loginPrompt.innerHTML = `
                <i data-lucide="log-in" class="w-12 h-12 mx-auto mb-3" style="color: var(--accent-color);"></i>
                <h3 class="text-xl font-bold mb-2" style="color: var(--text-primary);">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø·Ù„ÙˆØ¨</h3>
                <p class="mb-4" style="color: var(--text-secondary);">ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙŠØ²Ø©</p>
                <button onclick="toggleSettingsPanel()" class="neon-btn px-6 py-3 rounded-xl">
                    <i data-lucide="mail" class="inline w-5 h-5 ml-2"></i>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù€ Google
                </button>
            `;
            
            page.insertBefore(loginPrompt, page.firstChild);
            if (window.lucide) window.lucide.createIcons();
        }

        // ==================== ØªØµØ¯ÙŠØ± Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª ====================
        
        // ØªØµØ¯ÙŠØ± Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¹Ø§Ù…
        window.db = db;
        window.auth = auth;
        window.getCurrentUser = getCurrentUser;
        window.onUserChange = onUserChange;
        
        // Ø¯ÙˆØ§Ù„ Firestore
        window.getDoc = getDoc;
        window.setDoc = setDoc;
        window.updateDoc = updateDoc;
        window.deleteDoc = deleteDoc;
        window.collection = collection;
        window.query = query;
        window.where = where;
        window.getDocs = getDocs;
        window.onSnapshot = onSnapshot;
        window.doc = doc;
        window.increment = increment;

        console.log('ðŸ”¥âœ… Firebase Ø¬Ø§Ù‡Ø² Ù…Ø¹ Ù†Ø¸Ø§Ù… Ù…ØµØ§Ø¯Ù‚Ø© Ù…Ø­Ø³Ù‘Ù†');
    </script>
</body>
</html>
